(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5328],{341:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var n=r(76698),i=r(76836),o=r(51201),l=r(59900);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{connector:t=()=>new i.B,resetOnError:r=!0,resetOnComplete:s=!0,resetOnRefCountZero:u=!0}=e;return e=>{let i,c,d;let h=0,f=!1,p=!1,g=()=>{null==c||c.unsubscribe(),c=void 0},y=()=>{g(),i=d=void 0,f=p=!1},v=()=>{let e=i;y(),null==e||e.unsubscribe()};return(0,l.N)((e,l)=>{h++,p||f||g();let m=d=null!=d?d:t();l.add(()=>{0!=--h||p||f||(c=a(v,u))}),m.subscribe(l),!i&&h>0&&(i=new o.Ms({next:e=>m.next(e),error:e=>{p=!0,g(),c=a(y,r,e),m.error(e)},complete:()=>{f=!0,g(),c=a(y,s),m.complete()}}),(0,n.Tg)(e).subscribe(i))})(e)}}function a(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),l=2;l<r;l++)i[l-2]=arguments[l];if(!0===t){e();return}if(!1===t)return;let s=new o.Ms({next:()=>{s.unsubscribe(),e()}});return(0,n.Tg)(t(...i)).subscribe(s)}},558:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n,i=r(35298),o=r(21636),l=r(30760);!function(e){let{atom:t,selector:r}=(0,i.M)("designer");e.hostId=t({key:"hostId",default:void 0}),e.moduleProviderAccessor=r({key:"moduleProviderAccessor",get:t=>{let{get:r}=t,n=r(e.hostId);return()=>o.E.getInstance(n).moduleProvider}}),e.moduleAccessor=r({key:"moduleAccessor",get:t=>{let{get:r}=t,n=r(e.hostId);return e=>o.E.getInstance(n).moduleProvider.get(e)}}),e.callback_getInstance=r({key:"callback_getInstance",get:t=>{let{getCallback:r}=t;return r(t=>{let{snapshot:r}=t;return()=>o.E.getInstance(r.getLoadable(e.hostId).getValue())})}}),e.callback_use=r({key:"callback_use",get:t=>{let{getCallback:r,get:n}=t,i=n(e.callback_getInstance);return r(()=>e=>i().moduleProvider.get(e))}}),e.callback_getElement=r({key:"callback_getElement",get:t=>{let{getCallback:r,get:n}=t,i=n(e.callback_use);return r(()=>e=>i(l.r).getValue(e))}})}(n||(n={}))},1806:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(82966);function i(e){var t,r;return e.type===n.m.SOLID?o(e.value):e.type===n.m.GRADIENT?[(r=e.value).type,r.units,r.x1,r.y1,r.x2,r.y2,r.points.map(o).join(",")].join(","):null!==(t=e.value)&&void 0!==t?t:""}function o(e){var t,r;let n=e.rgb;return[n.r,n.g,n.b,null!==(t=n.a)&&void 0!==t?t:1,null!==(r=e.left)&&void 0!==r?r:0].join(",")}},1967:(e,t,r)=>{"use strict";r.d(t,{i1:()=>s});var n,i=r(39573),o=r(4871),l=r(35791);let s=(n=(e,t)=>{let{onConfigure:r,onRegister:n,onCleanup:s}=e,{name:a,modules:u,components:c,store:d,keybindings:h,onConfigure:f,onRegister:p,onCleanup:g}=t,y=(0,l.withPlugin)(a),v=null==d?void 0:d.initializeState;if(u){let e=u?Object.keys(u):[];e.length>0&&n(t=>{let{add:r}=t;for(let t of e){let e=u[t];e&&r(t,e)}})}c&&c.length>0&&r(e=>{let{get:t}=e,r=t("components-service");for(let{component:e,outlet:t,...n}of c){let i="function"==typeof t?t.name:t;r.addComponent(i,{component:y(e),...n})}}),v&&r(e=>{let{get:t}=e;t(o.n).registerInitializer(v)}),h&&r(e=>{let{get:t}=e;t(i.x).addKeybinding(h)}),p&&n(p),f&&r(f),g&&s(g)},e=>t=>r=>n(r,e(t)))},4327:(e,t,r)=>{"use strict";r.r(t),r.d(t,{useEvent:()=>i});var n=r(7620);function i(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],i=(0,n.useMemo)(()=>t,r);(0,n.useEffect)(()=>i?e(i).dispose:void 0,[e,i])}},4334:(e,t,r)=>{"use strict";r.d(t,{E:()=>s,H:()=>l});var n=r(71096),i=r(68683),o=r(51897);class l{setRef(e){this._elementRef=e}get element(){return this._elementRef.current}constructor(){this._elementRef={current:null}}}l=(0,n.Cg)([o.e],l);let s=(0,i.h$)(l)},4581:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(30297);function i(e){return Symbol.asyncIterator&&(0,n.T)(null==e?void 0:e[Symbol.asyncIterator])}},4871:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var n=r(71096),i=r(27145),o=r(74298);let l=()=>{throw Error("Unregistered state accessor")};class s{registerInitializer(e){this._callbacks.push(e)}get initializeState(){let e=this._callbacks.slice();return t=>{for(let r of e)r(t)}}setStateAccessor(e){this._stateAccessor=null!=e?e:l,this._dispatchSubject.next(this.dispatch)}dispatch(e){return this._stateAccessor(e)}constructor(e){this._stateAccessor=l,this._dispatchSubject=new o.t(l),this.dispatch$=this._dispatchSubject.asObservable(),this._callbacks=null!=e?e:[],this.dispatch=this.dispatch.bind(this)}}s=(0,n.Cg)([(0,i.WQ)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Array])],s)},5840:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var n=r(59900),i=r(53272);function o(e,t){return(0,n.N)((r,n)=>{let o=0;r.subscribe((0,i._)(n,r=>e.call(t,r,o++)&&n.next(r)))})}},5919:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ActionRequestControllerProvider:()=>w,useActionRequestController:()=>E});var n=r(54568),i=r(82995),o=r(7620),l=r(36633),s=r(52831),a=r(50494),u=r(17191),c=r(39968);let d=e=>{let{request:t,onAction:r}=e,i=e=>{var n;if(!t)return;let i=t.actions[parseInt(null!==(n=e.currentTarget.getAttribute("data-i"))&&void 0!==n?n:"-1")];i&&(null==r||r(e,i))};return(0,o.useEffect)(()=>{if(!t)return;let e=e=>{let n="Escape"===e.key?t.actions.find(e=>null==e.value):"Enter"===e.key?t.actions.find(e=>e.primary):null;n&&r&&r(e,n)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[r,t]),(0,n.jsx)(f,{open:null!=t,sx:{color:"#fff",zIndex:e=>e.zIndex.modal+1,backgroundColor:"rgba(18,30,41,0.95)"},children:t&&(0,n.jsxs)(h,{children:[t.title&&(0,n.jsx)(u.default,{component:"h2",variant:"h4",mb:4,children:t.title}),t.text&&(0,n.jsx)(u.default,{component:"div",paragraph:!0,mb:4,children:t.text}),(0,n.jsx)(a.default,{spacing:2,width:288,children:t.actions.map((e,t)=>{var r;return(0,n.jsx)(s.A,{variant:e.primary?"contained":"outlined",color:e.primary?"primary":"white","data-i":t,onClick:i,autoFocus:e.primary,...e.buttonProps,children:e.label},null!==(r=e.value)&&void 0!==r?r:"null")})})]})})},h=(0,c.Ay)("div")({display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}),f=(0,c.Ay)(l.A)(e=>{let{theme:t}=e;return{color:"#fff",zIndex:t.zIndex.drawer+1}});var p=r(94726),g=r(90732),y=r(17946),v=r(94994);let m=(0,p.b)("request-");class x{get id(){return this._id}request(e){(0,v.Mj)(this);let t=function(e){var t,r;let n=new Set;return{...e,id:null!==(t=e.id)&&void 0!==t?t:m(),actions:(null!==(r=e.actions)&&void 0!==r?r:[]).map(e=>{let t=function(e){var t,r;let n=e.value||null;return{value:n,label:null!==(r=null!==(t=e.label)&&void 0!==t?t:null==n?void 0:n.toString())&&void 0!==r?r:"OK",primary:!!e.primary,buttonProps:e.buttonProps}}(e);if(n.has(t.value))throw Error('Duplicate action value "'+String(t.value)+'"');return t})}}(e);return this.enqueue(t),this.getPromise(t.id)}resolve(e){let t=e.requestId,r=e.value,n=this.getRequest(t),i=n&&this._subs.get(t);if(!e.rejected&&!(null==n?void 0:n.actions.find(e=>e.value===r))){console.warn('Invalid response value "'+String(r)+'", request was rejected.'),this.reject(t);return}i&&(i.fire(e),i.dispose(),this._subs.delete(t)),n&&this.setQueue(this._queue.filter(e=>e.id!==t))}reject(e){this.resolve({requestId:e,value:null,rejected:!0})}subscribe(e){return(0,v.Mj)(this),this._onQueueChange(e).dispose}getCurrentRequest(){return this._queue[0]}setQueue(e){this._queue=e,this._queueEmitter.fire(this._queue)}enqueue(e){this._subs.get(e.id)&&this.reject(e.id),this._subs.set(e.id,(0,y.i)()),this.setQueue([...this._queue,e])}getRequest(e){return this._queue.find(t=>t.id===e)}getPromise(e){return(0,v.Mj)(this),new Promise(t=>{let r=this.getRequest(e)&&this._subs.get(e);r?r.event(t):t({requestId:e,value:null,rejected:!0})})}clear(){for(let e of Array.from(this._subs.keys()))this.reject(e);this.setQueue([]),this._subs.clear()}dispose(){(0,v.D4)(this),this.clear(),this._queueEmitter.dispose()}static create(){return new x}constructor(){this._id=(0,g.g)(),this._subs=new Map,this._queueEmitter=(0,y.i)(),this._onQueueChange=this._queueEmitter.event,this._queue=[]}}let b=(0,o.createContext)(null),_=b.Provider,w=e=>{let{children:t}=e,[r]=(0,o.useState)(x.create),i=(0,o.useRef)(r);return(0,o.useEffect)(()=>{r!==i.current&&(i.current.dispose(),i.current=r)},[r]),(0,n.jsxs)(_,{value:r,children:[t,(0,n.jsx)(S,{})]})},S=()=>{let e=(0,i.useTrigger)(),t=E(),r=null==t?void 0:t.getCurrentRequest(),l=null==r?void 0:r.id,s=(0,o.useCallback)((e,r)=>{l&&t&&t.resolve({value:r.value,requestId:l})},[l,t]);return(0,o.useEffect)(()=>null==t?void 0:t.subscribe(e),[t,e]),(0,n.jsx)(d,{request:r,onAction:s})};function E(){return(0,o.useContext)(b)}},6681:(e,t,r)=>{"use strict";r.d(t,{TF:()=>x,kD:()=>c,J0:()=>u,kj:()=>o,tN:()=>d,YO:()=>_,An:()=>h.A,Q5:()=>h.Q,ES:()=>f,$j:()=>b,y8:()=>w,nY:()=>S,lW:()=>E.l});var n=r(68683),i=r(74534);let o=(0,n.h$)(i.X);var l=r(7620),s=r(61481),a=r(89303);function u(e,t){let r=(0,n.pM)(),i=(0,l.useRef)(null),o=(0,l.useContext)(a.h),u=null!=t?t:o;(0,l.useEffect)(()=>{let t=i.current,n=Object.keys(e);if(!t||!(0,s.b)(t,e)){i.current=e;let t=u?u+".":"";for(let i of n)r.register(t+i,e[i])}return()=>{for(let e of(i.current=null,n))r.unregister(u+"."+e)}},[e,u,r])}function c(e,t){return(0,l.useCallback)(()=>e,t)}function d(e){let t=(0,n.YY)();(0,l.useEffect)(()=>(t.registerMiddleware(e),()=>{t.unregisterMiddleware(e)}),[e,t])}var h=r(23292);function f(e,t,r){(0,l.useEffect)(()=>r?e.addLocalConstraint(t).dispose:e.addConstraint(t).dispose,[t,r,e])}var p=r(29163),g=r(85684),y=r(82531),v=r(43195);let m=null,x=(0,l.createContext)(null);function b(e){let t=(0,l.useContext)(x),r=(0,g.Zs)(e=>{let{set:t}=e;return e=>{e.sourceEvent!==m&&(m=e.sourceEvent,t(v.$C.eventData,e.toObject()))}},[]),n=(0,p.useDisposable)(()=>{let e=y.Wr.create();return e.onStart(r),e.onMove(r),e.onEnd(r),e},[r]);return(0,l.useEffect)(()=>{if(null!=n&&null!=t)return n.setParent(t,e),()=>{n.setParent(null)}},[t,n,e]),n}function _(){let e=(0,l.useContext)(x);if(null===e)throw Error("PointerControllerProvider not found");return e}function w(e){(0,l.useEffect)(()=>{let t=e?e.current:window.document;if(!t)return;let r=e=>{e.preventDefault()};return t.addEventListener("touchmove",r,{passive:!1}),()=>{t.removeEventListener("touchmove",r)}},[e])}function S(e){let[t,r]=(0,g.L4)(e);return function(e,t){let[r,n]=(0,l.useState)(e),i=(0,l.useRef)({outer:e,inner:r,isLocalUpdate:!1});return(0,l.useEffect)(()=>{let e=i.current;r!==e.inner&&(e.inner=r,e.isLocalUpdate=e.inner!==e.outer,t(r))},[r]),(0,l.useEffect)(()=>{let t=i.current;t.isLocalUpdate?t.outer=e:e!==t.inner&&e!==t.outer&&(t.inner=e,t.outer=e,n(e)),t.isLocalUpdate=!1},[e,r]),[r,n]}(t,r)}var E=r(36357)},6850:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TARGET_PROXY_ID:()=>p,TransformAction:()=>g,absoluteBBox:()=>Y,absoluteTransform:()=>z,attribute:()=>D,attrs:()=>T,bbox:()=>E,children:()=>R,computedAttribute:()=>N,computedAttrs:()=>M,current:()=>b,emptyTargetState:()=>J,hasTarget:()=>w,initialTransform:()=>G,isGrouped:()=>_,mainId:()=>S,nested:()=>L,nestedLevel:()=>j,objects:()=>k,parentId:()=>O,persistedState:()=>P,relativeTransform:()=>F,siblings:()=>I,transform:()=>K,transformAction:()=>U,transformDelta:()=>V,tree:()=>A,type:()=>C});var n=r(35298),i=r(85684),o=r(84898),l=r(36130),s=r(24864),a=r(11856),u=r(11349),c=r(6530),d=r(31781),h=r(68529),f=r(86149);let p="$$target$$";var g=function(e){return e[e.SELECT=0]="SELECT",e[e.TRANSLATE=1]="TRANSLATE",e[e.ROTATE=2]="ROTATE",e[e.SCALE=3]="SCALE",e}({});let{atom:y,selector:v,selectorFamily:m}=(0,n.M)("v1/selection"),x=y({key:"_targetState",default:s.PI}),b=v({key:"current",get:e=>{let{get:t}=e;return t(x).filter(e=>(0,o.QO)(t(h.GN.type(e)))&l.O.SOLID&&!t(h.GN.locked(e)))},set:(e,t)=>{let{get:r,set:n,reset:o}=e;n(x,t),t instanceof i.nO||!(t.length>1)||r(x).join(".")===t.join(".")||(o(h.GN.transform(p)),o(h.GN.bbox(p)))}}),_=v({key:"isGrouped",get:e=>{let{get:t}=e,r=t(b);return 1===r.length&&t(h.GN.isGroup(r[0]))}}),w=v({key:"hasTarget",get:e=>{let{get:t}=e;return t(b).length>0}}),S=v({key:"mainId",get:e=>{let{get:t}=e,r=t(b);return 1===r.length?r[0]:p}}),E=v({key:"bbox",get:e=>{let{get:t}=e;return t(h.GN.bbox(t(S)))},set:(e,t)=>{let{set:r}=e;return r(h.GN.bbox(p),t)}}),k=v({key:"objects",get:e=>{let{get:t}=e;return t(b).map(e=>t(h.GN.objectState(e)))},set:(e,t)=>{let{set:r,get:n}=e;if(t instanceof i.nO){for(let e of n(b))r(h.GN.objectState(e),t);r(b,t)}else r(b,t.map(e=>(r(h.GN.objectState(e.id),e),e.id)))}}),A=v({key:"tree",get:e=>{let{get:t}=e;return t(b).map(e=>t(h.GN.tree(e)))},set:(e,t)=>{let{reset:r,set:n,get:o}=e;if(t instanceof i.nO)for(let e of o(b))r(h.GN.tree(e)),n(b,t);else n(b,t.map(e=>(n(h.GN.tree(e.id),e),e.id)))}}),C=v({key:"type",get:e=>{let{get:t}=e,r=t(b);if(0===r.length)return"svg";let n=t(h.GN.type(r[0]));for(let e=1,i=r.length;e<i;e++)if(n!==t(h.GN.type(r[e])))return null;return n}}),T=v({key:"attrs",get:e=>{let{get:t}=e;return t(b).map(e=>t(h.GN.attrs(e)))},set:(e,t)=>{let{set:r,get:n}=e,o=n(b);if(t instanceof i.nO)for(let e of o)r(h.GN.attrs(e),t);else for(let e=0,n=o.length;e<n;e++)r(h.GN.attrs(o[e]),t[e])}}),D=m({key:"attribute",get:e=>t=>{let{get:r}=t;return r(b).map(t=>r(h.GN.attribute([t,e])))},set:e=>(t,r)=>{let{set:n,get:o}=t,l=o(b);if(r instanceof i.nO)for(let t of l)n(h.GN.attribute([t,e]),r);else for(let t=0,i=l.length;t<i;t++)n(h.GN.attribute([l[t],e]),r[t])}}),N=m({key:"computedAttribute",get:e=>t=>{let{get:r}=t,[n,...i]=r(b),o=r(h.GN.attribute([n,e])),l=!1;for(let t of i)r(h.GN.attribute([t,e]))!==o&&(l=!0);return l?null:o},set:e=>(t,r)=>{let{set:n,get:i}=t;for(let t of i(b))n(h.GN.attribute([t,e]),r)}}),M=v({key:"computedAttrs",get:e=>{let{get:t}=e,r=t(b).slice();return 0===r.length?{}:r.reduce((e,r)=>{let n=t(h.GN.attrs(r));for(let t in n)t in e?e[t]!==n[t]&&(e[t]=void 0):e[t]=n[t];return e},(0,c.k)({},t(h.GN.attrs(r.shift()))))},set:(e,t)=>{let{set:r,get:n}=e;if(!(t instanceof i.nO))for(let e of n(b))r(h.GN.attrs(e),e=>{let r=(0,c.k)({},e);for(let e in t)void 0!==t[e]&&(r[e]=t[e]);return r})}}),R=v({key:"children",get:e=>{let{get:t}=e,r=t(b);return 0===r.length?t(h.pI.children):r.reduce((e,r)=>[...e,...t(h.GN.children(r))],[])}}),j=v({key:"nestedLevel",get:e=>{let{get:t}=e;return h.pI.objectNestedLevel(t(S))}}),L=v({key:"nested",get:e=>{let{get:t}=e,r=t(b);return r.length>0&&t(h.GN.parentId(r[0]))!==t(h.pI.documentId)}}),I=v({key:"siblings",get:e=>{let{get:t}=e;return t(b).reduce((e,r)=>[...e,...t(h.pI.objectSiblings(r))],[])}}),O=v({key:"parentId",get:e=>{let{get:t}=e,r=t(b);return r.length>0?t(h.GN.parentId(r[0])):void 0}}),P=(0,f.Q6)({key:"persistedSelectionState",states:[x,h.GN.bbox(p),h.GN.transform(p)]}),U=v({key:"transformAction",get:e=>{let{get:t}=e;return null===t(G)?0:g[t(d.tg.currentBehavior).toUpperCase()]||0},set:(e,t)=>{let{get:r,set:n,reset:o}=e;t instanceof i.nO||0===t?(o(G),o(d.$C.anchors),n(d.tg.behaviorStack,e=>e.filter(e=>0>["rotate","translate","scale"].indexOf(e)))):(n(d.tg.currentBehavior,(g[t]||g[0]).toLowerCase()),n(G,r(z)),n(B,r(b).map(e=>r(h.GN.transform(e))||a.uq.Default)))}}),B=y({key:"_objectsInitialTransform",default:[]}),G=y({key:"initialTransform",default:void 0}),V=v({key:"transformDelta",get:e=>{let{get:t}=e,r=t(G),n=t(K);if(null!=r)return n?(0,a.Wg)((0,a.DI)(r),n):(0,a.DI)(r)},set:(e,t)=>{let{get:r,set:n,reset:o}=e,l=r(b);if(!t||t instanceof i.nO)o(G),o(B),l.length>1&&o(h.GN.transform(p));else{let e=r(B);l.length>1&&n(h.GN.transform(p),(0,a.Wg)(t,r(G)||a.uq.Default));for(let i=0,o=l.length;i<o;i++){let o=l[i],s=e[i],u=r(h.GN.parentId(o)),c=u?r(h.GN.absoluteTransform(u)):a.uq.Default,d=(0,a.DI)(c),f=(0,a.Wg)(c,s),p=(0,a.Wg)(d,t);n(h.GN.transform(o),(0,a.Wg)(p,f))}}}}),F=v({key:"relativeTransform",get:()=>a.uq.Default,set:(e,t)=>{let{set:r,get:n}=e;if(t instanceof i.nO)return;let o=n(b),l=e=>e?(0,a.Wg)(t,e):t;for(let e of(o.length>1&&r(h.GN.transform(p),l),o))r(h.GN.transform(e),l)}}),K=v({key:"transform",get:e=>{let{get:t}=e;return t(h.GN.transform(t(S)))},set:(e,t)=>{let{set:r,get:n,reset:o}=e;t instanceof i.nO||!t?o(D("transform")):r(D("transform"),e=>e.map(e=>(0,a.Lj)((0,a.Wg)(t,null!=e?a.uq.fromString(e):a.uq.Default)))),r(h.GN.transform(n(S)),t)}}),z=v({key:"absoluteTransform",get:e=>{let{get:t}=e;return t(h.GN.absoluteTransform(t(S)))}}),Y=v({key:"absoluteBBox",get:e=>{let{get:t}=e;return(0,u.YT)(t(E),t(z))}}),J=(0,i.jV)(s.PI)},7579:(e,t,r)=>{"use strict";r.r(t),r.d(t,{useMemoShallowEqual:()=>o});var n=r(61481),i=r(7620);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e],r=(0,i.useRef)(void 0),o="function"==typeof e?e:()=>e;return(0,i.useMemo)(()=>{if(void 0===r.current)return r.current=o();let e=o();return(0,n.b)(e,r.current)||(r.current=e),r.current},t)}},7750:(e,t,r)=>{"use strict";r.d(t,{Ff:()=>E,QL:()=>y,iR:()=>_,lU:()=>v,ki:()=>m,MM:()=>g,Zy:()=>x,sP:()=>w,Uo:()=>S,t2:()=>k});var n=r(23134),i=r(32356),o=r(45545),l=r(35298),s=r(85684),a=r(53812);let u=e=>null!=e,c=(e,t)=>(function(e,t,r){if(null==r)return t;for(let n of Object.keys(r)){let i=r[n];e(i,n)&&(t[n]=i)}return t})(u,e,t);var d=r(68529);let{atom:h,selector:f,selectorFamily:p}=(0,l.M)("logo");h({key:"logoStatus",default:0});let g=h({key:"projectInfo",default:{title:"",fileId:"",projectId:"",isPremium:!1,source:""}}),y=h({key:"defaultTitle",default:"Untitled"}),v=f({key:"isLimited",get:e=>{let{get:t}=e,r=t(g).projectId;return!!r&&(0,i.x4)().projects.isLimited({projectUUid:r}).content()}}),m=f({key:"isPremium",get:e=>{var t;let{get:r}=e;return null!==(t=r(g).isPremium)&&void 0!==t&&t}}),x=f({key:"serializedSvgx",get:e=>{let{get:t}=e,r={...t(d.pI.tree)},{x:n,y:i,width:o,height:l}=t(d.pI.contentBBox);return r.attrs={...r.attrs,"data-bbox":[n,i,o,l].join(" ")},(0,a.Ps)(r)},set:(e,t)=>{let{set:r}=e;r(d.pI.svgxString,t)}}),b=f({key:"background",get:e=>{let{get:t}=e,r=t(d.pI.background);return r&&"none"!==r?r:null}}),_=f({key:"fileAttributes",get:e=>{let{get:t}=e,r=t(A);return c({},{source:t(w),background:t(b),templateId:t(S),fonts:r.length>0?r:null})}}),w=f({key:"source",get:e=>{let{get:t}=e;return t(g).source},set:(e,t)=>{let{set:r}=e;r(g,e=>({...e,source:t instanceof s.nO?void 0:t}))}}),S=f({key:"templateId",get:e=>{let{get:t}=e;return t(g).templateId},set:(e,t)=>{let{set:r}=e;r(g,e=>({...e,templateId:t instanceof s.nO?void 0:t}))}});f({key:"projectTitle",get:e=>{let{get:t}=e;return t(g).title},set:(e,t)=>{let{set:r}=e;r(g,e=>({...e,title:!t||t instanceof s.nO?"":t}))}});let E=f({key:"autoProjectTitle",get:e=>{let{get:t}=e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return(function e(t,r){if("fl:textpath"===t.type&&r.push(t.attrs.text||""),t.children.length>0)for(let n of t.children)r.push(...e(n,[]));return r})(e,[]).join(" ").replace(/\s+/g," ").trim().split(" ").slice(0,t).join(" ")}(t(d.pI.tree))||t(y)}}),k=f({key:"usedFontFamilies",get:e=>{let{get:t}=e,r=new Set,n=e=>{let i=t(d.GN.attribute([e,"font-family"]));for(let o of(i&&r.add(i),t(d.GN.children(e))))n(o)};return n(t(d.pI.documentId)),Array.from(r)}}),A=f({key:"usedFonts",get:e=>{let{get:t}=e,r=new Set,n=e=>{let i=t(C(e));for(let o of(i&&r.add(i),t(d.GN.children(e))))n(o)};return n(t(d.pI.documentId)),Array.from(r)}}),C=p({key:"nodeFont",get:e=>t=>{let{get:r}=t,i=r(d.GN.attribute([e,"font-family"])),l=r(d.GN.attribute([e,"font-style"])),s=r(d.GN.attribute([e,"font-weight"])),a=i?r(n.l.fontSheet).getClosestFont({family:i,weight:s,style:l}):void 0;return a?(0,o.di)(a):void 0}})},7968:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r(54568),i=r(42708),o=r(39968),l=r(85684),s=r(7620),a=r(67005),u=r(6681),c=r(23292),d=r(36357),h=r(43195),f=r(93895),p=r(68683),g=r(24632);let y=e=>{let{children:t}=e,r=(0,p.qT)(),n=(0,p.pM)(),i=(0,g.kN)();if((0,s.useLayoutEffect)(()=>i.subscribe(e=>{let{action:t,event:i}=e;if(null!=t)try{let e=n.get(t);null!=e&&(r(e),i.preventDefault())}catch(e){console.warn(null==e?void 0:e.message)}}),[r,i,n]),!(0,s.isValidElement)(t))throw Error("Invalid child element");return t};var v=r(32817);let m=()=>{let e=(0,l.vc)(h.$C.clientCursorPosition),t=(0,l.vc)(h.$C.tips),r="translate("+e.x+"px,"+e.y+"px)";return(0,n.jsx)(v.n,{children:(0,n.jsx)(x,{style:{transform:r},children:t.map((e,t)=>(0,n.jsx)("li",{children:e},t))})})},x=(0,o.Ay)("div")({fontFamily:'"Lucida Console", Monaco, monospace',fontSize:"12px",pointerEvents:"none",listStyle:"none",margin:0,padding:0,position:"fixed",zIndex:99,top:0,left:0,"> li":{position:"relative",whiteSpace:"pre",transform:"translate(-50%, calc(-100% - 20px))",background:"rgba(30,41,44,0.75)",color:"white",borderRadius:"3px",padding:"4px 6px"}}),b=(0,s.forwardRef)((e,t)=>{let{children:r}=e,o=(0,u.$j)(),l=(0,i.useForwardedRef)(t);return(0,n.jsx)(u.TF.Provider,{value:o,children:(0,s.cloneElement)(r,{ref:l,onTouchStart:o.listener,onMouseDown:o.listener,onClick:o.clickListener,onContextMenu:o.contextMenuListener})})}),_=(0,s.forwardRef)((e,t)=>{let r=(0,c.A)(),o=(0,i.useForwardedRef)(t),p=(0,d.l)(),g=(0,l.lZ)(h.X1.A),v=(0,u.kD)(()=>{var e;null===(e=o.current)||void 0===e||e.focus()},[o]),x=(0,u.kD)(()=>{var e;null===(e=o.current)||void 0===e||e.blur()},[o]);return(0,u.y8)(o),(0,s.useEffect)(()=>{let e=o.current;e instanceof HTMLElement&&g(function(e){var t,r;let n=e.getBoundingClientRect();return{bottom:n.bottom,height:n.height,left:n.left,right:n.right,top:n.top,width:n.width,x:null!==(t=n.x)&&void 0!==t?t:n.left,y:null!==(r=n.y)&&void 0!==r?r:n.top}}(e))},[g,p,o]),(0,u.J0)({focus:v,blur:x}),(0,n.jsx)(y,{children:(0,n.jsx)(b,{ref:o,children:(0,n.jsxs)(w,{id:r,tabIndex:0,children:[(0,n.jsx)(f.T,{name:a.h.content}),(0,n.jsx)(f.T,{name:a.h.overlay}),(0,n.jsx)(m,{})]})})})}),w=(0,o.Ay)("div")(e=>{let{theme:t}=e;return{position:"relative",boxSizing:"border-box",width:"100%",height:"100%",border:0,backgroundColor:t.vars.palette.Viewport.main,outline:"none","svg *":{userSelect:"none",touchAction:"none"},"& > *":{userSelect:"none"},".noevent":{pointerEvents:"none"}}})},9189:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var n=r(54568),i=r(1760);let o=e=>(0,n.jsx)(i.A,{htmlColor:"#fbbe28",...e,children:(0,n.jsx)("path",{d:"M 12.798 6.274 C 13.8 5.658 13.76 4.189 12.726 3.629 C 11.691 3.069 10.439 3.839 10.471 5.014 C 10.485 5.53 10.759 6.004 11.198 6.274 L 9.007 10.648 C 8.659 11.344 7.759 11.542 7.151 11.057 L 3.751 8.334 C 4.457 7.393 3.88 6.041 2.712 5.9 C 1.544 5.759 0.662 6.935 1.124 8.017 C 1.364 8.58 1.917 8.945 2.529 8.945 L 2.556 8.945 L 4.298 18.548 C 4.509 19.712 5.522 20.557 6.704 20.557 L 17.292 20.557 C 18.474 20.556 19.486 19.711 19.698 18.548 L 21.443 8.948 L 21.47 8.948 C 22.646 8.948 23.382 7.675 22.794 6.656 C 22.206 5.638 20.736 5.637 20.147 6.656 C 19.841 7.186 19.881 7.848 20.248 8.337 L 16.848 11.06 C 16.24 11.545 15.34 11.347 14.992 10.651 L 12.798 6.274 Z",fill:"currentColor"})})},9455:(e,t,r)=>{"use strict";r.d(t,{at:()=>n.at,yo:()=>n.yo}),r(88977);var n=r(44445)},10417:(e,t,r)=>{"use strict";r.d(t,{J:()=>i,Z:()=>o});var n=r(85684);function i(e){let{key:t,count:r,item:i}=e;return(0,n.gD)({key:t,get:e=>{let{get:t}=e,n=t(r),o=[];for(let e=0;e<n;e++)o[e]=t(i(e));return o},set:(e,t)=>{let{set:o,get:l,reset:s}=e,a=l(r);if(t instanceof n.nO){s(r);for(let e=0;e<a;e++)s(i(e))}else{let e=t.length;for(let r=0;r<e;r++)o(i(r),t[r]);if(o(r,e),a>e)for(let t=e;t<a;t++)s(i(t))}}})}function o(e,t){return e.asyncMap(e=>{let r=e.retain();return t(e).finally(()=>{setTimeout(r,0)})})}},11349:(e,t,r)=>{"use strict";r.d(t,{Ac:()=>s,Cc:()=>h,PY:()=>f,YT:()=>u,gp:()=>d,wH:()=>c});var n=r(11856),i=r(39922);let{min:o,max:l}=Math;function s(e,t,r,n){let i=e+r,o=t+n;return{x:e,y:t,x2:i,y2:o,cx:i-.5*r,cy:o-.5*n,width:r,height:n}}function a(e,t,r,n){if(r<e){let t=e;e=r,r=t}if(n<t){let e=t;t=n,n=e}let i=r-e,o=n-t;return{x:e,y:t,x2:r,y2:n,cx:r-.5*i,cy:n-.5*o,width:i,height:o}}function u(e,t){let r=e.x+e.width,i=e.y+e.height,s=(0,n.vo)(e,t),u=(0,n.vo)({x:r,y:e.y},t),c=(0,n.vo)({x:e.x,y:i},t),d=(0,n.vo)({x:r,y:i},t);return a(o(s.x,u.x,c.x,d.x),o(s.y,u.y,c.y,d.y),l(s.x,u.x,c.x,d.x),l(s.y,u.y,c.y,d.y))}function c(e){return[(0,i.VI)(e.x,e.y),(0,i.VI)(e.x2,e.y),(0,i.VI)(e.x2,e.y2),(0,i.VI)(e.x,e.y2)]}function d(e,t){return t?{topLeft:(0,n.vo)((0,i.VI)(e.x,e.y),t),topRight:(0,n.vo)((0,i.VI)(e.x2,e.y),t),bottomRight:(0,n.vo)((0,i.VI)(e.x2,e.y2),t),bottomLeft:(0,n.vo)((0,i.VI)(e.x,e.y2),t),center:(0,n.vo)((0,i.VI)(e.cx,e.cy),t)}:{topLeft:(0,i.VI)(e.x,e.y),topRight:(0,i.VI)(e.x2,e.y),bottomRight:(0,i.VI)(e.x2,e.y2),bottomLeft:(0,i.VI)(e.x,e.y2),center:(0,i.VI)(e.cx,e.cy)}}function h(e){return e.reduce((e,t)=>void 0===e?t:a(o(t.x,e.x),o(t.y,e.y),l(t.x2,e.x2),l(t.y2,e.y2)),void 0)||{x:0,y:0,x2:0,y2:0,cx:0,cy:0,width:0,height:0}}let f=Object.freeze({x:0,y:0,cx:0,cy:0,x2:0,y2:0,width:0,height:0})},12060:(e,t,r)=>{"use strict";r.d(t,{I1:()=>i,Od:()=>l,jK:()=>n,l:()=>a,rG:()=>s,w6:()=>o});let n="#text",i=n,o="fl:background",l="fl:textpath",s="data-uid",a={content:"canvas.content"}},12704:(e,t,r)=>{"use strict";r.d(t,{N:()=>l,P:()=>o});var n=r(13883),i=r(80146);let o="md",l=()=>{let{breakpoints:e}=(0,n.A)(),t=e.down(o);return(0,i.A)(t)}},12841:(e,t,r)=>{"use strict";r.d(t,{B:()=>g,C:()=>p});var n=r(68683),i=r(51005),o=r(32356),l=r(65124),s=r(87606),a=r(98128),u=r(54568),c=r(53651),d=r(17191),h=r(76653);let f=()=>{let e=(0,h.c3)("dialogs.dialogAddTemplate");return(0,c.usePromptAction)(()=>({title:e("title"),text:e.rich("text",{p:e=>(0,u.jsx)(d.default,{paragraph:!0,textAlign:"center",children:e})}),actions:[{value:"replace",label:e("replace"),primary:!0},{value:"add",label:e("add")},{value:null,label:e("cancel")}]}),[])},p=()=>{let e=(0,s.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{if(!await (0,l.challenge)())return;let t=(0,o.x4)();return await t.assets.updateLogoFlag({logoId:e.logoId,enable:e.enable,type:1}).content()},onSettled:()=>{e.invalidateQueries({queryKey:["templates"]})}})},g=()=>{let e=(0,n.qT)(),t=f();return(0,a.useMutation)({mutationFn:async r=>{let{svgContent:n,source:o,template:l,onReplace:s}=r,a=await t();if(!a.value)return;let u="replace"===a.value;return await e(i.mn,{svgContent:n,source:o,template:l,replace:u}),u&&(null==s||s()),a.value}})}},13558:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(71096),i=r(27145),o=r(74298),l=r(24864),s=r(66775);class a{_registerOutlet(e,t){return this._registry.add(e,new o.t(t)),this}addComponent(e,t){if(!e)throw Error("Invalid outlet name, got "+e);if(this._registry.has(e)){let r=this._registry.getOne(e);r.next([...r.getValue(),t])}else this._registerOutlet(e,[t])}removeComponent(e,t){let r=this._registry.get(e);r&&r.next(r.getValue().filter(e=>e!==t))}clear(){this._registry.clear()}getComponents(e){var t,r;return null!==(r=null===(t=this._registry.get(e))||void 0===t?void 0:t.getValue())&&void 0!==r?r:l.PI}subscribe(e,t){this._registry.has(e)||this._registerOutlet(e,[]);let r=this._registry.get(e).subscribe(t);return()=>{r.unsubscribe()}}dispose(){this._registry.clear()}constructor(e){this._registry=new s.O(e,{displayName:"Slot"})}}a=(0,n.Cg)([(0,i.WQ)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",["undefined"==typeof Iterable?Object:Iterable])],a)},14198:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var n=r(7750)},15513:(e,t,r)=>{"use strict";r.d(t,{DD:()=>o,YM:()=>n,ZU:()=>d,h$:()=>f,m5:()=>c});var n,i=r(76222),o=function(e){return e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE",e}({});class l{define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}}let s=new l,a=new l,u=new l;function c(e,t){return(e|(65535&t)<<16>>>0)>>>0}function d(e,t){if(0===e)return null;let r=(65535&e)>>>0,n=(0xffff0000&e)>>>16;return new p(0!==n?[h(r,t),h(n,t)]:[h(r,t)])}function h(e,t){let r=!!(2048&e),n=!!(256&e),o=t===i.fr.Macintosh?n:r;return new f(o,!!(1024&e),!!(512&e),t===i.fr.Macintosh?r:n,255&e)}!function(){function e(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;s.define(e,t),a.define(e,r),u.define(e,n)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}(),function(e){e.toString=function(e){return s.keyCodeToStr(e)},e.fromString=function(e){return s.strToKeyCode(e)},e.toUserSettingsUS=function(e){return a.keyCodeToStr(e)},e.toUserSettingsGeneral=function(e){return u.keyCodeToStr(e)},e.fromUserSettings=function(e){return a.strToKeyCode(e)||u.strToKeyCode(e)}}(n||(n={}));class f{equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){let e=this.ctrlKey?"1":"0",t=this.shiftKey?"1":"0",r=this.altKey?"1":"0",n=this.metaKey?"1":"0";return"".concat(e).concat(t).concat(r).concat(n).concat(this.keyCode)}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new p([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}constructor(e,t,r,n,i){this.ctrlKey=e,this.shiftKey=t,this.altKey=r,this.metaKey=n,this.keyCode=i}}class p{getHashCode(){let e="";for(let t=0,r=this.parts.length;t<r;t++)0!==t&&(e+=";"),e+=this.parts[t].getHashCode();return e}equals(e){if(null===e||this.parts.length!==e.parts.length)return!1;for(let t=0;t<this.parts.length;t++)if(!this.parts[t].equals(e.parts[t]))return!1;return!0}constructor(e){if(0===e.length)throw Error("Illegal argument: parts");this.parts=e}}},16797:(e,t,r)=>{"use strict";r.d(t,{H0:()=>d,eZ:()=>c,j9:()=>p});var n=r(76222),i=r(15513),o=r(60919);let l=n.zx?o.Q.WinCtrl:o.Q.CtrlCmd,s=o.Q.Alt,a=o.Q.Shift,u=n.zx?o.Q.CtrlCmd:o.Q.WinCtrl;function c(e){let t=0;return e.ctrlKey&&(t|=l),e.altKey&&(t|=s),e.shiftKey&&(t|=a),e.metaKey&&(t|=u),t}function d(e){let t=e.split(" ").map(f);return(0,i.m5)(t[0],t[1])}let h=n.zx?"cmd":"ctrl";function f(e){let t=i.DD.Unknown;for(let r of e.split("+")){let e=i.YM.fromUserSettings(function(e){switch(e.toLowerCase()){case"cmd":return"meta";case"ctrlcmd":return h;default:return e}}(r));e===i.DD.Ctrl?t|=l:e===i.DD.Shift?t|=a:e===i.DD.Alt?t|=s:e===i.DD.Meta?t|=u:t|=e}return t}let p=n.uF||n.zx?e=>e?e.parts.map(e=>{let t=i.YM.toUserSettingsGeneral(e.keyCode);return e.altKey&&(t=i.YM.toUserSettingsGeneral(i.DD.Alt)+"+"+t),e.shiftKey&&(t=i.YM.toUserSettingsGeneral(i.DD.Shift)+"+"+t),e.ctrlKey&&(t=i.YM.toUserSettingsGeneral(i.DD.Ctrl)+"+"+t),t}).join(", "):"":()=>""},18579:(e,t,r)=>{"use strict";function n(e){return e}r.d(t,{D:()=>n})},18831:(e,t,r)=>{"use strict";function n(e){return i(e,e[e.length-1])}function i(e,t){var r;return(r=e.indexOf(t))>-1&&r<e.length?[...e.slice(0,r),...e.slice(r+1)]:e}function o(e,t){return 0>e.indexOf(t)?[...e,t]:e}r.d(t,{$6:()=>o,$f:()=>n,Ai:()=>i})},19614:(e,t,r)=>{"use strict";r.d(t,{C:()=>i,U:()=>o});var n=r(30297);async function*i(e){let t=e.getReader();try{for(;;){let{value:e,done:r}=await t.read();if(r)return;yield e}}finally{t.releaseLock()}}function o(e){return(0,n.T)(null==e?void 0:e.getReader)}},19954:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});let n=(()=>{let e=/^#([0-9a-f]{3})$/i,t=/^#([0-9a-f]{6})$/i,r=/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d\.]+))?\s*\)$/i,n=i=>{let o;if(o=i.match(e))return[17*parseInt(o[1].charAt(0),16),17*parseInt(o[1].charAt(1),16),17*parseInt(o[1].charAt(2),16),1];if(o=i.match(t))return[parseInt(o[1].substr(0,2),16),parseInt(o[1].substr(2,2),16),parseInt(o[1].substr(4,2),16),1];if(o=i.match(r)){let e=+o[4];return[+o[1],+o[2],+o[3],isNaN(e)?1:e]}return n(function(e){let t=document.createElement("span");t.style.color=e,document.body.appendChild(t);let r=window.getComputedStyle(t).color;return document.body.removeChild(t),r}(i))};return n})()},21636:(e,t,r)=>{"use strict";r.d(t,{E:()=>x});var n=r(94726),i=r(94994),o=r(50264),l=r(80569);class s{add(e,t){var r,n;if((0,i.Mj)(this),!("string"==typeof(n=e)&&d.test(n)))throw Error("Invalid id: "+e);let o=l.l.create(t);return this._items.set(e,o),this._refs.set(null!==(r=o.ref)&&void 0!==r?r:t,o),this}get(e){let t="string"==typeof e?this._items:this._refs;if((0,i.UM)(this))throw Error("Tried to read from a disposed registry");let r=t.get(e);if(!r)throw(0,o.vh)(e);return r}entries(){return this._items.entries()}delete(e){return this._items.delete(e)}createProvider(){return new a(this.get)}dispose(){(0,i.D4)(this),this._items.forEach(e=>{var t;null===(t=e.dispose)||void 0===t||t.call(e)}),this._items.clear()}constructor(e,t){this._items=e,this._refs=t,this.get=this.get.bind(this),this.add=this.add.bind(this)}}class a{constructor(e){this.get=u.bind(this,e),this.load=c.bind(this,e)}}function u(e,t){return e(t).value(this)}async function c(e,t){if(Array.isArray(t))return Promise.all(t.map(t=>e(t).value(this)));if("object"!=typeof t)return e(t).promise(this);{let r={};return await Promise.all(Object.keys(t).map(n=>e(t[n]).promise(this).then(e=>r[n]=e))),r}}let d=/^[@a-zA-Z\$_][a-zA-Z0-9\$_\-]+[^\-]$/,h=(0,n.b)("host-");class f{configure(e){e(this._registry)}createModuleProvider(){return this._registry.createProvider()}remove(e){let t=this._registry.get(e);t&&t.dispose&&(t.dispose(),this._registry.delete(e))}getModuleEntries(){return this._registry.entries()}dispose(){this._registry.dispose()}static init(){let{configure:e,id:t=h()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new f(t,new s(new Map,new WeakMap));return e&&r.configure(e),r}constructor(e,t){this._registry=t,this.id=e,this.moduleProvider=this.createModuleProvider()}}f.createId=h;var p=r(76836),g=r(77509),y=r(80470);let v=new(r(66775)).O([],{displayName:"Designer instance"}),m=new p.B;class x{asObservable(){return this._source$}loadModule(e){return this.moduleProvider.load(e)}useModule(e){return this.moduleProvider.get(e)}dispose(){this._host.dispose(),this._complete(),v.delete(this.id)}static create(e){return new x(e)}constructor({id:e,plugins:t}={}){let r=this._host=f.init({id:e}),n=new y.v,i=new y.v,o=new y.v,l={onRegister:n.event,onConfigure:i.event,onCleanup:o.event},s=new p.B,a=new p.B,u=new p.B;this._source$=s.asObservable(),this.setup$=a.asObservable(),this.init$=u.asObservable(),this._complete=()=>{s.complete(),o.fire(),o.dispose(),this._complete=g.l};let c=this.id=this._host.id;this.moduleProvider=this._host.moduleProvider,v.add(c,this);try{if(t)for(let e of t)e(l);m.subscribe(s),m.next(this),r.configure(e=>{e.add("@HOSTID",()=>c),n.fire(e),a.next(e)}),n.dispose(),a.complete(),i.fire(r.moduleProvider),i.dispose(),u.next(r.moduleProvider),u.complete()}catch(e){throw v.delete(c),e}}}x.instance$=m.asObservable(),x.createId=f.createId,x.getInstance=v.getOne.bind(v)},21855:(e,t,r)=>{"use strict";r.d(t,{fJ:()=>n.fJ}),r(55280);var n=r(34456)},23134:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var n,i=r(558),o=r(35298),l=r(13725);function s(e,t){return e.family===t.family?a(e)>a(t)?1:-1:e.family>t.family?1:-1}function a(e){return Number("normal"!==e.style)+Number("400"!==e.weight)}!function(e){let{selector:t}=(0,o.M)("fonts");e.fontSheet=t({key:"fontSheet",get:async e=>{let{get:t}=e,r=t(i.K.moduleAccessor)(l.U);return await r.getFontSheet()}}),e.fontList=t({key:"fontList",get:t=>{let{get:r}=t;return r(e.fontSheet).toArray().sort(s)}}),e.familyNames=t({key:"familyNames",get:t=>{let{get:r}=t,n=new Set;for(let t of r(e.fontList))n.add(t.family);return Array.from(n).sort()}})}(n||(n={}))},23292:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,Q:()=>l});var n=r(85684),i=r(43195);function o(){return(0,n.vc)(i.tg.id)}function l(e){return(0,n.vc)(i.tg.id)+"_"+e}},24106:(e,t,r)=>{"use strict";function n(e,t,r){let n={...e};return t&&(n[null!=r?r:"t"]=1e4*new Date(t).getTime()+621355968e9),n}r.d(t,{U:()=>n})},24632:(e,t,r)=>{"use strict";r.d(t,{Jb:()=>u,Ql:()=>a,kN:()=>d,pM:()=>c});var n=r(82802),i=r(64712),o=r(13558),l=r(39573),s=r(4871);let a=(0,n.E)(s.n),u=(0,n.E)(o.s),c=(0,n.E)(i.m5),d=(0,n.E)(l.x)},27968:(e,t,r)=>{"use strict";r.d(t,{G:()=>l,k:()=>o});var n=r(7620),i=r(59393);let o=e=>{let[t,r]=(0,n.useState)({value:void 0,loading:!0});return(0,n.useEffect)(()=>{let t=!0;return e.get().then(e=>{t&&r({value:e,loading:!1})}),()=>{t=!1}},[e]),t};function l(e){let t=(0,n.useRef)(e),[r,o]=(0,n.useState)({value:void 0,loading:!0,fetched:!1}),{fetched:l}=r;return(0,n.useEffect)(()=>{if(l){if(t.current===e)return;o(e=>({...e,loading:!0,fetched:!1}))}let r=!0;return t.current=e,(0,i.Ri)(e).then(e=>{r&&o({value:e,loading:!1,fetched:!0})}),()=>{r=!1}},[e,l]),r}},29163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{useDisposable:()=>o});var n=r(7620),i=r(82995);function o(e,t){var r;let o=(0,i.useTrigger)(),l=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(null==l.current){let t=l.current=e();return o(),()=>{l.current=null,t.dispose()}}},t),null!==(r=l.current)&&void 0!==r?r:l.current=e()}},30297:(e,t,r)=>{"use strict";function n(e){return"function"==typeof e}r.d(t,{T:()=>n})},30760:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});let n=Object.freeze({current:null}),i=()=>(function(){let e=new Map,t=t=>{var r,n;return null!==(n=null===(r=e.get(t))||void 0===r?void 0:r.current)&&void 0!==n?n:null};return{use:e=>({get current(){return t(e)}}),get(t){var r;return null!==(r=e.get(t))&&void 0!==r?r:n},getValue:t,set(t,r){e.set(t,r)},delete(t){e.delete(t)}}})()},31781:(e,t,r)=>{"use strict";r.d(t,{nS:()=>l,nB:()=>s.n,T0:()=>d.T,ol:()=>f,GH:()=>o.GH,X1:()=>o.X1,tg:()=>o.tg,$C:()=>o.$C,J0:()=>u.J0,YO:()=>u.YO,An:()=>u.An,Q5:()=>u.Q5,ES:()=>u.ES,$j:()=>u.$j,lW:()=>u.lW});var n=r(85684),i=r(7620),o=r(43195);let l=e=>{let{keys:t,render:r,component:l}=e,s=(0,n.vc)(o.tg.currentBehavior);return 0>t.indexOf(s)?null:l?(0,i.createElement)(l):r({current:s})};var s=r(32817),a=r(54568),u=r(6681);let c=e=>{let t,{children:r}=e,n=(0,u.kj)().getMiddlewares(),i=r;for(;t=n.pop();)i=(0,a.jsx)(t,{children:i});return(0,a.jsx)(a.Fragment,{children:i})};var d=r(93895);r(7968);var h=r(68683);let f=e=>{let{children:t}=e;return(0,a.jsx)(h.Dv,{children:(0,a.jsx)(p,{children:(0,a.jsxs)(c,{children:[t,(0,a.jsx)(d.T,{name:"root"})]})})})},p=e=>{let{children:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{}),t]})},g=()=>((0,u.tN)((0,n.Zs)(e=>t=>{t.snapshot=e.snapshot,t.gotoSnapshot=e.gotoSnapshot,t.refresh=e.refresh,t.reset=e.reset,t.set=e.set,t.transact_UNSTABLE=e.transact_UNSTABLE},[])),null)},32132:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var n={};r.r(n),r.d(n,{VS:()=>S,yr:()=>k,ew:()=>m,WB:()=>x,_G:()=>E,IR:()=>b,mj:()=>_});var i=r(35298),o=r(85684);function l(e){return s[e.code].call(void 0,e)}let s=(()=>{let e={},t=(t,r)=>{let n=e=>r(e);e[t]=n,e[t.toLowerCase()]=n},r=e=>[e.code+e.x,e.y].join(" ");return t("M",r),t("L",r),t("V",e=>e.code+e.y),t("H",e=>e.code+e.x),t("Q",e=>[e.code+e.x1,e.y1,e.x,e.y].join(" ")),t("S",e=>[e.code+e.x2,e.y2,e.x,e.y].join(" ")),t("C",e=>[e.code+e.x1,e.y1,e.x2,e.y2,e.x,e.y].join(" ")),t("A",e=>[e.code+e.rx,e.ry,e.xAxisRotation,+e.largeArc,+e.sweep,e.x,e.y].join(" ")),t("T",r),t("Z",e=>e.code),e})(),a=(()=>{let e={},t=(t,n,i,o)=>{let l=t.toLowerCase();e[t]=r(t,n,i,o),e[l]=r(l,n,i,o&&o.toLowerCase())},r=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return 0===t?function(){let t=r(e);t.relative=e.charCodeAt(0)>96,this.push(t)}:function(i){let o=e,l=i.length%t;if(0!==l)throw Error("Invalid path sequence: "+e+i.join(",")+",-".repeat(l));for(let l=0,s=i.length;l<s;l+=t){let s=Array(t);for(let e=0;e<t;e++)s[e]=i[l+e];let a=r(o,...s);a.relative=e.charCodeAt(0)>96,this.push(a),o=n}}},n=(e,t,r)=>({code:e,x:t,y:r});return t("M",2,n,"L"),t("L",2,n),t("V",1,(e,t)=>({code:e,y:t})),t("H",1,(e,t)=>({code:e,x:t})),t("Q",4,(e,t,r,n,i)=>({code:e,x1:t,y1:r,x:n,y:i})),t("S",4,(e,t,r,n,i)=>({code:e,x2:t,y2:r,x:n,y:i})),t("C",6,(e,t,r,n,i,o,l)=>({code:e,x1:t,y1:r,x2:n,y2:i,x:o,y:l})),t("A",7,(e,t,r,n,i,o,l,s)=>({code:e,rx:t,ry:r,xAxisRotation:n,largeArc:!!i,sweep:!!o,x:l,y:s})),t("T",2,n),t("Z",0,e=>({code:e})),e})();class u{get char(){return this.data.charAt(this.index)}get charCode(){return this.data.charCodeAt(this.index)}constructor(e){this.number=c.bind(this),this.bool=d.bind(this),this.data=e,this.length=e.length,this.index=0}}function c(){for(;this.index<this.length&&!(h(this.charCode)||"-"===this.char);)this.index++;let e=this.index;for("-"===this.char&&this.index++;h(this.charCode);)this.index++;return+this.data.substring(e,this.index)}function d(){for(;this.index<this.length&&"1"!==this.char&&"0"!==this.char;)this.index++;let e="1"===this.char;return this.index++,e}function h(e){return e>45&&e<58||101===e||69===e||46===e}var f=r(24864),p=r(68529),g=r(34456);let{atom:y,selector:v}=(0,i.M)("v1/pathEditor"),m=y({key:"editedAttribute",default:null}),x=v({key:"editedPathContext",get:e=>{let{get:t}=e,r=t(g.fJ.current)[0],n=t(m);return r&&n?{targetId:r,attributeName:n}:null},set:(e,t)=>{let{set:r,get:n}=e;if(!t||t instanceof o.nO)r(m,t);else{let e=n(g.fJ.current),i=n(p.GN.attribute([t.targetId,t.attributeName]));e[0]!==t.targetId&&r(g.fJ.current,[t.targetId]),i&&(r(m,t.attributeName),r(_,i))}}}),b=y({key:"pathCommands",default:f.PI}),_=v({key:"pathData",get:e=>{let{get:t}=e;return t(b).map(l).join("")},set:(e,t)=>{let{set:r}=e;r(b,t instanceof o.nO?t:function(e,t){let r,n={x:0,y:0},i={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};for(let t=0,o=e.length;t<o;t++){let o=e[t];for(let e in("M"===o.code||"m"===o.code)&&(r=o),o.x0=n.x,o.y0=n.y,i)e in o&&(o[e]+=o.relative?o[i[e]]:0);"x"in o||(o.x=n.x),"y"in o||(o.y=n.y),o.relative=!1,o.code=o.code.toUpperCase(),"Z"===o.code&&(o.x=r.x,o.y=r.y),n=o}return e}(function(e){let t;let r=/[MLQTCSAZVH][^MLQTCSAZVH]*/gi,n=[];for(;t=r.exec(e);){let e=[],r=t[0],i=r[0];if("A"===i||"a"===i){let t=new u(r);e.push(t.number(),t.number(),t.number(),t.bool(),t.bool(),t.number(),t.number())}else{let t;let n=/-?[0-9eE\.]+/g;for(;t=n.exec(r);)e.push(+t[0])}a[i].call(n,e)}return n}(t)))}}),w=y({key:"_activeHandleProps",default:null}),S=v({key:"activeHandleProps",get:e=>{let{get:t}=e;return t(w)},set:(e,t)=>{let{set:r,reset:n}=e;!t||t instanceof o.nO?n(w):(r(w,t),r(E,{commandIndex:t.index,commandKey:t.propX}))}}),E=y({key:"focusedHandle",default:null}),k=y({key:"displayAllCommands",default:!1})},32817:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var n=r(7620),i=r(97509);let o=e=>{let{children:t,className:r}=e,[o,l]=(0,n.useState)(!1);return(0,n.useLayoutEffect)(()=>{if(o){if(r){try{document.body.classList.add(r)}catch(e){}return()=>{try{document.body.classList.remove(r)}catch(e){}}}}else l(!0)},[r,o]),o?(0,i.createPortal)(t,document.body):null}},32993:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createElementRect:()=>o,defaultElementRect:()=>l,useElementRect:()=>i});var n=r(7620);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[r,i]=(0,n.useState)(l);return(0,n.useLayoutEffect)(()=>{let t=e.current;t&&i(o(t.getBoundingClientRect()))},t),r}function o(){let{width:e=0,height:t=0,top:r=0,left:n=0,x:i=n,y:o=r,bottom:l,right:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{bottom:null!=l?l:o+t,height:t,left:n,right:null!=s?s:i+e,top:r,width:e,x:i,y:o}}let l={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}},33068:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});let n={setTimeout(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];let{delegate:l}=n;return(null==l?void 0:l.setTimeout)?l.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){let{delegate:t}=n;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},33269:(e,t,r)=>{"use strict";r.r(t),r.d(t,{commit:()=>c,pushChange:()=>d,redo:()=>a,reset:()=>u,undo:()=>s});var n=r(68683),i=r(86149),o=r(91603);function l(e){return(0,n.G5)(t=>{let{getService:r}=t;return()=>e(r(i.Mw))})}let s=l(e=>e.undo()),a=l(e=>e.redo()),u=l(e=>e.reset()),c=l(e=>e.commit()),d=(0,n.G5)(e=>{let{set:t}=e;return()=>{t(o.K.rE,o.K.yU)}})},33387:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BoundingBoxMap:()=>K,absoluteBBox:()=>F,absoluteTransform:()=>U,attribute:()=>C,attributeNames:()=>A,attrs:()=>D,bbox:()=>G,children:()=>N,classList:()=>E,contentText:()=>T,defineBoundingBox:()=>Y,getBoundingBoxCallback:()=>z,isGroup:()=>M,locked:()=>B,objectState:()=>L,parentId:()=>R,refId:()=>k,relationTree:()=>O,solidGraphics:()=>j,transform:()=>P,transformedBBox:()=>V,tree:()=>I,type:()=>S});var n=r(35298),i=r(85684),o=r(84898),l=r(36130),s=r(2047),a=r(24864),u=r(11349),c=r(11856),d=r(18831),h=r(6530),f=r(12060),p=r(33976);let{atomFamily:g,selectorFamily:y}=(0,n.M)("v1/node"),v=/\s+/g,m=g({key:"_children",default:a.PI}),x=g({key:"_attributeNames",default:a.PI}),b=g({key:"_attribute",default:null}),_=g({key:"_parentId",default:void 0}),w=g({key:"_bbox",default:u.PY}),S=g({key:"type",default:""}),E=y({key:"classList",get:e=>t=>{var r,n;let{get:i}=t;return null!==(n=null===(r=i(C([e,"class"])))||void 0===r?void 0:r.split(v))&&void 0!==n?n:[]},set:e=>(t,r)=>{let{set:n}=t;n(C([e,"class"]),r instanceof i.nO?r:r.join(" "))}}),k=g({key:"refId",default:null}),A=y({key:"attributeNames",get:e=>t=>{let{get:r}=t;return r(x(e))},set:e=>(t,r)=>{let{set:n,get:o,reset:l}=t,s=o(x(e));if(n(x(e),r),r instanceof i.nO)for(let t of s)l(b(e+"."+t));else for(let t of s)0>r.indexOf(t)&&l(b(e+"."+t))}}),C=y({key:"attribute",get:e=>t=>{let{get:r}=t;return r(b(e.join(".")))},set:e=>{let[t,r]=e;return(e,n)=>{let{set:o,get:l,reset:s}=e;if(n instanceof i.nO||null==n){let e=b(t+"."+r),n=l(e);"id"===r&&n&&s(k(n)),o(x(t),e=>e.filter(e=>e!==r)),s(e)}else o(x(t),e=>0>e.indexOf(r)?[...e,r]:e),o(b(t+"."+r),n.toString()),"id"===r&&o(k(n),t)}}}),T=y({key:"contentText",get:e=>t=>{let{get:r}=t,n=r(C([e,f.I1]));return"string"==typeof n?n:void 0},set:e=>(t,r)=>{let{set:n}=t;n(C([e,f.I1]),r)}}),D=y({key:"attrs",get:e=>t=>{let{get:r}=t;return r(x(e)).reduce((t,n)=>(t[n]=r(b(e+"."+n)),t),{})},set:e=>(t,r)=>{let{set:n,get:o,reset:l}=t,s=x(e),a=o(s);if(r instanceof i.nO)for(let t of(l(x(e)),a)){let r;let n=b(e+"."+t);"id"===t&&(r=o(n))&&l(k(r)),l(n)}else for(let t of(n(s,Object.keys(r).map(t=>{let i=b(e+"."+t),s=r[t];if(n(i,null==s?void 0:s.toString()),"id"===t){let t=o(i);s?n(k(s),e):t&&l(k(t))}return t})),a))null==r[t]&&l(b(e+"."+t))}}),N=y({key:"children",get:e=>t=>{let{get:r}=t;return r(m(e))},set:e=>(t,r)=>{let{set:n,get:o,reset:l}=t;if(r instanceof i.nO){for(let t of o(m(e)))l(_(t));l(m(e))}else{let t=new Set(r),i=o(m(e));for(let r of t)n(_(r),e);for(let e of i)t.has(e)||l(_(e));n(m(e),Array.from(t))}}}),M=y({key:"isGroup",get:e=>t=>{let{get:r}=t;return r(N(e)).length>0}}),R=y({key:"parentId",get:e=>t=>{let{get:r}=t;return r(_(e))},set:e=>(t,r)=>{let{get:n,set:o,reset:l}=t;if(!r||r instanceof i.nO){let t=n(_(e));l(_(e)),t&&o(m(t),t=>(0,d.Ai)(t,e))}else o(_(e),r),o(m(r),t=>[...t,e])}}),j=y({key:"solidGraphics",get:e=>t=>{let{get:r}=t;return r(m(e)).filter(e=>((0,o.QO)(r(S(e)))&l.O.SOLID_GRAPHICS)===l.O.SOLID_GRAPHICS)}}),L=y({key:"objectState",get:e=>t=>{let{get:r}=t;return{id:e,type:r(S(e)),attrs:r(D(e)),children:r(m(e))}},set:e=>(t,r)=>{let{set:n}=t;r instanceof i.nO?(n(S(e),r),n(D(e),r),n(N(e),r)):(n(S(e),r.type),n(D(e),r.attrs),n(N(e),r.children))}}),I=y({key:"tree",get:e=>t=>{let{get:r}=t;return function e(t){let n=(0,h.k)({},r(L(t)));return n.children=n.children.map(e),n}(e)},set:e=>(t,r)=>{let{set:n,get:o,reset:l}=t;r instanceof i.nO?function e(t){o(N(t)).forEach(e),l(L(t)),l(R(t))}(e):function e(t,r){return n(L(t),{id:t,attrs:r.attrs,type:r.type,children:r.children.map(t=>e(t.id,t))}),t}(e,r)}}),O=y({key:"relationTree",get:e=>t=>{let{get:r}=t;return function e(t){return{id:t,children:r(m(t)).map(e)}}(e)},set:e=>(t,r)=>{let{set:n,get:o}=t;return function e(t,r){if(r instanceof i.nO){let i=m(t),l=o(i);for(let t of(n(i,r),l))e(t,r)}else n(N(t),r.children.map(t=>(e(t.id,t),t.id)))}(e,r)}}),P=y({key:"transform",get:e=>t=>{let{get:r}=t,n=r(C([e,"transform"]));return null!=n?c.uq.fromString(n):void 0},set:e=>(t,r)=>{let{set:n}=t;n(C([e,"transform"]),null==r||r instanceof i.nO?void 0:(0,c.Lj)(r))}}),U=y({key:"absoluteTransform",get:e=>t=>{let{get:r}=t,n=r(_(e)),i=r(C([e,"transform"])),o=i?c.uq.fromString(i):c.uq.Default;return n?(0,c.Wg)(r(U(n)),o):o}}),B=g({key:"locked",default:!1}),G=y({key:"bbox",get:e=>t=>{let r=t.get(w(e));return r===u.PY?z(t.get(S(e)))(e)(t):r},set:e=>(t,r)=>{let{set:n,reset:o}=t;r instanceof i.nO||0===r.width&&0===r.height?o(w(e)):n(w(e),r)}}),V=y({key:"transformedBBox",get:e=>t=>{let{get:r}=t,n=r(G(e)),i=r(P(e));return null!=i?(0,u.YT)(n,i):n}}),F=y({key:"absoluteBBox",get:e=>t=>{let{get:r}=t,n=r(G(e)),i=r(U(e));return null!=i?(0,u.YT)(n,i):n}}),K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:void 0},t=e.default,r={};return{get:void 0===t?e=>r[e]:e=>{let n=r[e];return void 0===n?t:n},set:e.strict?(e,t)=>{if(e in r)throw Error('Duplicated key "'+e+'"');return r[e]=t}:(e,t)=>r[e]=t}}({strict:!1,default:e=>t=>{var r,n,i,a;let{get:c}=t,d=c(S(e)),h=null!==(n=null===(r=J(d))||void 0===r?void 0:r.reduce((t,r)=>{let n=c(C([e,r]));return null!=n&&(t[r]=n),t},{}))&&void 0!==n?n:{},f=(0,o.QO)(d);if((f&l.O.SHAPE)===l.O.SHAPE)return(0,p.a)(d,h);if(!(f&l.O.SOLID_GRAPHICS))return u.PY;{let t=c(j(e)).map(e=>c(V(e))).filter(e=>e.width>0&&e.height>0),r=(0,u.Cc)(t);return"svg"===d?(i=h,a=r,(0,u.YT)(a,(0,s.z3)(i))):r}}}),z=K.get,Y=K.set,J=(()=>{let e={circle:["r","cx","cy"],ellipse:["rx","ry","cx","cy"],path:["d"],rect:["x","y","width","height"],polygon:["points"],polyline:["points"],line:["x1","y1","x2","y2"],text:["x","y"],svg:["x","y","width","height","viewBox"]};for(let t in e)e[t].push("stroke-width");return t=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:null})()},33976:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var n=r(84898),i=r(36130),o=r(31415),l=r(71081),s=r(11349);function a(e,t){let r=document.createElementNS(o.NS,e);(0,o.$Z)(r,t);let a=document.createElementNS(o.NS,"svg");return a.setAttribute("xmlns",o.NS),a.appendChild(r),(0,l.D)(a,e=>(function(e){if(!(((0,n.QO)(e.nodeName.toLowerCase())&i.O.SOLID)>0))return s.PY;try{let t=parseFloat(e.getAttribute("stroke-width")||"0")||0,r=e.getBBox();return(0,s.Ac)(r.x-.5*t,r.y-.5*t,r.width+t,r.height+t)}catch(e){return console.error(e),s.PY}})(e.childNodes[0]))}},34456:(e,t,r)=>{"use strict";r.d(t,{Yz:()=>i,K5:()=>n,fJ:()=>y,Vw:()=>o});var n={};r.r(n),r.d(n,{e:()=>l});var i={};r.r(i),r.d(i,{yc:()=>g,xL:()=>p,wk:()=>f});var o={};r.r(o),r.d(o,{oU:()=>C,rC:()=>k,HT:()=>D,tj:()=>T});let l=r(31781).GH.item("copiedObject");var s=r(85684),a=r(35298);let u=(0,s.Iz)({key:"pointState",default:void 0}),{selector:c}=(0,a.M)("v1/selectionRect"),d=u("$$selectionStart$$"),h=u("$$selectionEnd$$"),f=c({key:"state",get:e=>{let{get:t}=e,r=t(p),n=t(g);if(null==r||null==n)return null;let i=r.x-n.x,o=r.y-n.y;return{x:Math.min(r.x,r.x-i),y:Math.min(r.y,r.y-o),width:Math.abs(i),height:Math.abs(o)}}}),p=c({key:"startPoint",get:e=>{let{get:t}=e;return t(d)},set:(e,t)=>{let{set:r}=e;r(h,t),r(d,t)}}),g=c({key:"endPoint",get:e=>{let{get:t}=e;return t(h)},set:(e,t)=>{let{set:r}=e;return r(h,t)}});var y=r(6850),v=r(77617),m=r(11856),x=r(11349),b=r(68929),_=r(9455);let{selector:w}=(0,a.M)("v1/transformBox"),S=[v.oB,v.oB,v.oB,v.oB],E=w({key:"points",get:e=>{let{get:t}=e;return function(e){return[N(e.x,e.y),N(e.cx,e.y),N(e.x2,e.y),N(e.x2,e.cy),N(e.x2,e.y2),N(e.cx,e.y2),N(e.x,e.y2),N(e.x,e.cy)]}(t(y.bbox))}}),k=w({key:"absolutePoints",get:e=>{let{get:t}=e,r=t(y.absoluteTransform);return t(E).map(e=>(0,m.vo)(e,r))}}),A=w({key:"origin",get:e=>{let{get:t}=e,r=t(y.bbox);return{x:r.cx,y:r.cy}}});w({key:"absoluteTransform",get:e=>{let{get:t}=e;return t(y.absoluteTransform)}});let C=w({key:"absoluteOrigin",get:e=>{let{get:t}=e,r=t(y.absoluteTransform),n=t(A);return(0,m.vo)(n,r)}}),T=w({key:"topPoints",get:e=>{let{get:t}=e,r=t(y.current);if(0===r.length)return S;let n=t(r.length>0?b.pI.topObject(r[0]):b.pI.documentId),i=t(b.GN.bbox(n)),o=t(b.GN.transform(n));return o?(0,x.wH)(i).map(e=>(0,m.vo)(e,o)):(0,x.wH)(i)}}),D=w({key:"htmlRectangle",get:e=>{let{get:t}=e,r=t(y.absoluteBBox),n=t(_.yo.hs),i=t(_.at.di);return{x:(-i.x+r.x)*n,y:(-i.y+r.y)*n,width:r.width*n,height:r.height*n}}}),N=(e,t)=>({x:e,y:t})},35298:(e,t,r)=>{"use strict";r.d(t,{M:()=>l});var n=r(85684);let i=new Map,o={atom:n.eU,selector:n.gD,atomFamily:n.Iz,selectorFamily:n.K0,record:function(e){let t=(0,n.Iz)({key:e+"#keysOf",default:[]}),r=(0,n.K0)({key:e+".keysOf",get:e=>r=>{let{get:n}=r;return n(t(e))}}),i=(0,n.Iz)({key:e+"#valueOf",default:void 0}),o=(0,n.K0)({key:e+".valueOf",get:e=>t=>{let{get:r}=t;return r(i(e))},set:e=>(r,o)=>{let{set:l,reset:s}=r;void 0===o||o instanceof n.nO?(s(i(e)),l(t(e[0]),t=>{var r,n;return r=t,n=e[1],r.filter(e=>e!==n)})):(l(i(e),o),l(t(e[0]),t=>{var r,n;return r=t,n=e[1],0>r.indexOf(n)?[...r,n]:r}))}});return{valueOf:o,keysOf:r,asObject:(0,n.K0)({key:e+".asObject",get:e=>r=>{let{get:n}=r;return n(t(e)).reduce((t,r)=>(t[r]=n(i([e,r])),t),{})},set:e=>(r,o)=>{let{set:l,get:s,reset:a}=r,u=t(e);if(o instanceof n.nO){for(let t of s(u))l(i([e,t]),o);l(u,o)}else{let t=new Set([...s(u),...Object.keys(o)]),r=[];for(let n of t)void 0!==o[n]?(r.push(n),l(i([e,n]),o[n])):a(i([e,n]));l(u,r)}}})}}};function l(e){let t=e+".";return new Proxy({},{get:(r,n)=>{if("key"===n)return e;if(r[n])return r[n];{let e=i.get(n);if(void 0===e)throw Error('Unknown namespace function "'+String(n)+'"');let o=r[n]=r=>e({...r,key:t+r.key});return void 0!==e.value&&(o.value=e.value),o}}})}l.use=function(e){for(let t in e)i.has(t)?console.warn('Cannot override "'+t+'"'):"function"==typeof e[t]&&i.set(t,e[t]);return this},l.use(o)},35791:(e,t,r)=>{"use strict";r.d(t,{withPlugin:()=>d});var n=r(54568),i=r(35896),o=r(7620),l=r(71348),s=r.n(l);class a extends o.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.log({error:e,errorInfo:t})}render(){return this.state.hasError?(0,n.jsxs)("div",{className:s().container,children:[(0,n.jsxs)("button",{className:s().button,type:"button",onClick:()=>this.setState({hasError:!1}),children:[(0,n.jsx)("span",{className:s().icon,children:"!"}),(0,n.jsx)("span",{className:s().retry,children:"Retry"})]}),(0,n.jsxs)("div",{className:s().tip,children:["Plugin: ",this.props.pluginName]})]}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}let[u,c]=(0,i.createContextComponent)(e=>{let{pluginName:t,children:r}=e;return{value:{pluginName:t},children:(0,n.jsx)(a,{pluginName:t,children:r})}});function d(e){return t=>{if(t.pluginName===e)return t;let r=r=>(0,n.jsx)(u,{pluginName:e,children:(0,n.jsx)(t,{...r})});return r.pluginName=e,r}}},36255:(e,t,r)=>{"use strict";r.r(t),r.d(t,{useDebounceEffect:()=>i});var n=r(7620);function i(e,t,r){let i=(0,n.useCallback)(e,r||[]);(0,n.useEffect)(()=>{let e=null,r=setTimeout(()=>e=i(),t);return()=>{clearTimeout(r),null==e||e()}},[t,i])}},36357:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});var n=r(85684),i=r(43195);function o(){return(0,n.vc)(i.kW.E)}},36780:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DesignerRoot:()=>b});var n=r(54568),i=r(72166),o=r(1967),l=r(51567),s=r(7620),a=r(24632),u=r(51126);let c=e=>{let{children:t}=e,r=(0,a.pM)(),i=(0,a.kN)();if((0,s.useEffect)(()=>{let e=e=>{"Alt"===e.key&&e.preventDefault()};return document.addEventListener("keyup",e),()=>{document.removeEventListener("keyup",e)}},[]),(0,s.useEffect)(()=>i.subscribe(e=>{let{action:t,event:n}=e;if(null!=t)try{let e=r.getCommand(t);null!=e&&(r.handle(e),n.preventDefault())}catch(e){console.warn(null==e?void 0:e.message)}}),[i,r]),!(0,s.isValidElement)(t))throw Error("Invalid child element");return(0,n.jsx)(u.Container,{props:i.getEventHandlers(),children:t})};var d=r(57257),h=r(558),f=r(64712),p=r(13558),g=r(39573),y=r(30760);class v{constructor(){}}var m=r(4871);let x=(0,o.i1)(function(){let{keybindings:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"core",modules:{"components-service":(0,i.G)(p.s),"commands-service":(0,i.G)(f.m5),"keybindings-service":(0,i.G)(g.x),"settings-service":(0,i.G)(v),"refs-cache":(0,i.G)(y.r),"store-service":(0,i.G)({get:e=>{let{get:t}=e,r=t("@HOSTID");return new m.n([e=>{let{set:t}=e;t(h.K.hostId,r)}])},ref:m.n})},components:[{component:l.DesignerRecoilRoot,outlet:d.RootOutlet,wrap:!0},{component:c,outlet:d.MainOutlet,wrap:!0}],keybindings:e}}),b=e=>{let{plugins:t=[],options:r,children:i}=e;return(0,n.jsx)(l.DesignerProvider,{plugins:[x(r),...t],children:(0,n.jsx)(d.RootOutlet,{children:i})})}},38591:(e,t,r)=>{"use strict";r.r(t),r.d(t,{useObservable:()=>o,useObserver:()=>i,useSubscription:()=>l});var n=r(7620);function i(e,t){(0,n.useEffect)(()=>{if(t){let r=e.subscribe(t);return()=>{r.unsubscribe()}}},[t,e])}function o(e,t){(0,n.useEffect)(()=>{let r=e.subscribe(t);return()=>{r.unsubscribe()}},[t,e])}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e];(0,n.useEffect)(()=>{let t=e();if(t)return Array.isArray(t)?()=>{t.forEach(e=>e&&e.unsubscribe())}:()=>{t.unsubscribe()}},t)}},38595:(e,t,r)=>{"use strict";r.d(t,{VQ:()=>l,Vz:()=>o,bi:()=>a,hT:()=>u,nj:()=>i,v2:()=>c,xp:()=>s});var n=r(83779);function i(e){if(e.startsWith("#")){if(4===e.length||5===e.length)return d(e=e.split("").map((e,t)=>t?e+e:"#").join(""));if(7===e.length||9===e.length)return d(e)}else{let t=document.createElement("canvas").getContext("2d");if(!t)throw Error("2d context not supported or canvas already initialized");return t.fillStyle=e,d(t.fillStyle)}return"#000000"}function o(e){let[t,r,i,o]=e.map((e,t)=>(0,n.q)(Number(e),t<3?255:1,0));return{r:t,g:r,b:i,a:o}}function l(e){let[t,r,i,o]=e.map((e,t)=>(0,n.q)(Number(e),t?t<3?100:1:360,0));return{h:t,s:r,v:i,a:o}}function s(e){let t=parseInt((e=e.slice(1)).slice(0,2),16),r=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16),i=parseInt(e.slice(6,8),16)||void 0;return i&&(i/=255),{r:t,g:r,b:n,a:i}}function a(e){let{r:t,g:r,b:n,a:i}=e,o=Math.max(t/=255,r/=255,n/=255),l=o-Math.min(t,r,n);return{h:l?(o===t?(r-n)/l+6*(r<n):o===r?2+(n-t)/l:4+(t-r)/l)*60:0,s:o?l/o*100:0,v:100*o,a:i}}function u(e){let{h:t,s:r,v:n,a:i}=e,o=~~(t/60),l=t/60-o,s=(n/=100)*(1-(r/=100)),a=n*(1-r*l),u=n*(1-r*(1-l)),c=o%6;return{r:Math.round(255*[n,a,s,s,u,n][c]),g:Math.round(255*[u,n,n,a,s,s][c]),b:Math.round(255*[s,s,u,n,n,a][c]),a:i}}function c(e){let{r:t,g:r,b:n,a:i}=e;return d("#"+[t,r,n].map((e,t)=>void 0!==e?(t<3?e:Math.round(255*e)).toString(16).padStart(2,"0"):"").join(""))}function d(e){return e.length>7?e.substr(0,7):e}},38993:(e,t,r)=>{"use strict";r.r(t),r.d(t,{attributeColor:()=>S,backgroundColorState:()=>J,documentBoundElementsState:()=>U,documentReferenceMap:()=>I,getColorType:()=>M,gradient:()=>k,nodesWithColor:()=>N,objectColorDeepState:()=>j,palette:()=>A,paletteOf:()=>C,recentColorsState:()=>R,solidColorPalette:()=>T,solidColorPaletteOf:()=>D,targetAttributeColor:()=>E,targetColorDeepState:()=>L});var n=r(82966),i=r(54121),o=r(88778),l=r(1806),s=r(71246),a=r(35298),u=r(85684),c=r(2047),d=r(84898),h=r(36130),f=r(24864),p=r(68529),g=r(12060),y=r(21855),v=r(99879),m=r(66044),x=r(19954);let b="xlink:href",{selector:_,selectorFamily:w}=(0,a.M)("v1/colors"),S=w({key:"attributeColor",get:e=>t=>{var r;let{get:o}=t,l=o(p.GN.type(e[0])),s=p.GN.attribute(e),a=l===g.w6?(0,v.B)(o(s)):o(s);if(!a)return;let u=M(a);if(u===n.m.GRADIENT){let e=(0,m.X)(a);return e?{type:u,value:o(k(e))}:void 0}if(u===n.m.NULL)return i.qV;return r=a,{type:n.m.SOLID,value:F(r)}},set:e=>(t,r)=>{let{get:n,set:i,reset:o}=t;n(p.GN.type(e[0]))===g.w6?r?i(J,r):o(J):G(t,r,p.GN.attribute(e))}}),E=w({key:"targetAttributeColor",get:e=>t=>{let{get:r}=t,n=r(y.fJ.current);return r(y.fJ.computedAttribute(e))?r(S([n[0],e])):void 0},set:e=>(t,r)=>{G(t,r,y.fJ.computedAttribute(e))}}),k=w({key:"gradient",get:e=>t=>{let{get:r}=t,n=e=>{let t=r(p.GN.refId(e)),n=r(p.GN.tree(t));return"linearGradient"!==n.type&&"radialGradient"!==n.type?null:n},l=(e,t)=>{var r;let i=n(e);if(!i)return t;t.id||(t.id=i.id,t.type=i.type),t.attrs=function(e,t){for(let r in t)r in e||(e[r]=t[r]);return e}(t.attrs,i.attrs);let o=null!==(r=i.attrs[b])&&void 0!==r?r:i.attrs.href;return o&&"#"===o[0]?l(o.substring(1),t):(t.children=i.children,t)},{type:s,attrs:a,children:u}=l(e,{type:"linearGradient",attrs:{},children:f.PI}),c=a.gradientUnits||i.cS,d=function(e,t){return"userSpaceOnUse"===e?{x:t.width,y:t.height}:{x:1,y:1}}(c,r(p.pI.size)),h=V(a.x1,d.x),g=V(a.y1,d.y),y=V(a.x2,d.x),v=V(a.y2,d.y),m=u.map(K);if(m.length<2){var x;m[0]=null!==(x=m[0])&&void 0!==x?x:(0,o.kl)("hex","#000000",0),m[1]=(0,o.kl)("hex","#FFFFFF",100)}return(0,o.p8)({id:e,type:s.replace("Gradient",""),points:m,units:c,x1:h,y1:g,x2:y,y2:v})},set:e=>(t,r)=>{let{set:n,get:i}=t;if(r instanceof u.nO)return;let o=r.type+"Gradient",l=i(p.GN.refId(e)),s={...l?i(p.GN.tree(l)):(0,c.bF)({type:o}),type:o};n(p.pI.definition(s.id),function(e,t){let r=t.attrs,n=t.children,i={};for(let e in r)"xmlns:xlink"!==e&&e!==b&&(i[e]=r[e]);return i.x1=e.x1+"%",i.y1=e.y1+"%",i.x2=e.x2+"%",i.y2=e.y2+"%",i.id=e.id,i.gradientUnits=e.units,{id:t.id,type:t.type,attrs:i,children:e.points.map(i.id===r.id?(e,t)=>Y(e,n[t]):e=>Y(e))}}(r,s))}}),A=_({key:"palette",get:e=>{let{get:t}=e;return C(t(p.pI.documentId))}}),C=w({key:"paletteOf",get:e=>t=>{let{get:r}=t,i=new Map,o=r(p.GN.tree(e)),s=e=>{for(let t of H)if(e.attrs[t]){let o=r(S([e.id,t]));o&&o.type!==n.m.NULL&&i.set((0,l.N)(o),o)}for(let t of e.children)s(t)};s(o);let a=Array.from(i.values());return i.clear(),a}}),T=_({key:"solidColorPalette",get:e=>{let{get:t}=e;return D([t(p.pI.documentId)])}}),D=w({key:"solidColorPaletteOf",get:e=>t=>{let{get:r}=t,i=new Map,o=e=>{for(let t of H)if(e.attrs[t]){let o=r(S([e.id,t]));if(o&&o.type!==n.m.NULL){if(o.type===n.m.GRADIENT)for(let{left:e,...t}of o.value.points){let e={type:n.m.SOLID,value:t};i.set((0,l.N)(e),e)}else i.set((0,l.N)(o),o)}}for(let t of e.children)o(t)};for(let t of e)o(r(p.GN.tree(t)));let s=Array.from(i.values());return i.clear(),s}}),N=w({key:"nodesWithColor",get:e=>{let[t,r]=e;return e=>{let{get:i}=e,o=[],l=(0,x.H)(r).join(","),s=new Set,a=e=>{let{id:t,children:r}=e;for(let e of(s.add(t),q)){var u,c;let r=null===(u=i(p.GN.attribute([t,e])))||void 0===u?void 0:u.trim();if(r){if(M(r)===n.m.GRADIENT){let e=(0,m.X)(r),t=e&&i(p.GN.refId(e));t&&!s.has(t)&&a(i(p.GN.relationTree(t)))}else{let n="stop-color"===e&&i(p.GN.attribute([t,"stop-opacity"]))||void 0,s=(0,x.H)(r);s[3]=void 0===n?s[3]:parseFloat(null!==(c=n.toString())&&void 0!==c?c:"1"),s.join(",")===l&&o.push({nodeId:t,name:e})}}}for(let e of r)s.has(e.id)||a(e)};for(let e of t)s.has(e)||a(i(p.GN.relationTree(e)));return o}}});function M(e){return 0===e.indexOf("url(")?n.m.GRADIENT:"none"===e?n.m.NULL:n.m.SOLID}let R=(0,u.eU)({key:"recentColorsState",default:[]}),j=w({key:"objectColorDeepState",get:e=>t=>{let{get:r}=t;return function e(t){let[n,i]=t,o=r(S(t)),l=r(p.GN.children(n));if(o||!(l.length>0))return o;for(let t of l){let r=e([t,i]);if(r)return r}}(e)},set:e=>(t,r)=>{let{set:n,get:i}=t;n(S(e),r),function e(t){let[o,l]=t,s=i(p.GN.children(o)),a=i(p.GN.attribute(t));if(((0,d.QO)(i(p.GN.type(o)))&h.O.SHAPE||a)&&n(S(t),r),s.length>0)for(let t of s)e([t,l])}(e)}}),L=w({key:"targetColorDeepState",get:e=>t=>{let{get:r}=t;for(let t of r(y.fJ.current)){let n=r(j([t,e]));if(n)return n}},set:e=>(t,r)=>{let{set:n,get:i}=t;for(let t of i(y.fJ.current))n(j([t,e]),r)}}),I=_({key:"documentReferenceMap",get:e=>{let{get:t}=e,r=new Map;return t(p.pI.children).forEach(function e(n){let i=t(p.GN.attribute([n,"id"])),o=t(p.GN.children(n));i&&r.set(i,n),o.length>0&&o.forEach(e)}),r}}),O=["fill","stroke"],P=["xlink:href","href"],U=_({key:"documentBoundElementsState",get:e=>{let{get:t}=e,r=new Set;return t(p.pI.children).forEach(function e(n){let i=t(p.GN.children(n));for(let e of O){let i=t(p.GN.attribute([n,e]));if(!i||"#"===i[0])continue;let o=i.match(B);if(o)for(let e of o)r.add(e.substr(1))}for(let e of P){var o;let i=null===(o=t(p.GN.attribute([n,e])))||void 0===o?void 0:o.trim();i&&"#"===i[0]&&r.add(i.substr(1))}i.length>0&&i.forEach(e)}),r}}),B=/(?:#[^\s\)"']+)/g;function G(e,t,r){let{set:i,reset:l}=e;if(!t||t instanceof u.nO)l(r);else if(t.type===n.m.SOLID)i(r,function(e){var t;let r=e.rgb;return 1===r.a?e.hex:"rgba("+[r.r,r.g,r.b,null!==(t=r.a)&&void 0!==t?t:1].join(z)+")"}(t.value));else if(t.type===n.m.GRADIENT){let e=t.value.id?t.value:(0,o.p8)(t.value);i(k(e.id),e),i(r,"url(#"+e.id+")")}else i(r,t.value)}function V(e,t){if(null!=e)return"%"===e[e.length-1]?parseFloat(e):parseFloat(e)/t*100}function F(e,t){let r=(0,x.H)(e),n={r:r[0],g:r[1],b:r[2],a:null!=t?t:r[3]};return(0,s.V)("rgb",n)}function K(e){var t;let r=e.attrs["stop-color"];if(!r)return i.OT;let n=F(r,parseFloat(null!==(t=e.attrs["stop-opacity"])&&void 0!==t?t:"1")),o=e.attrs.offset||"0";return n.left=Math.min(Math.max((0>o.indexOf("%")?100*parseFloat(o):parseFloat(o))||0,0),100),n}let z=", ";function Y(e,t){var r,n;let{rgb:i,left:o}=e,l=(0,c.bF)({id:null==t?void 0:t.id,type:"stop"});return l.attrs={...null==t?void 0:t.attrs,offset:Math.round(o)+"%","stop-color":"rgb("+i.r+z+i.g+z+i.b+")","stop-opacity":null!==(n=null===(r=i.a)||void 0===r?void 0:r.toFixed(2))&&void 0!==n?n:"1",style:void 0},l}let J=_({key:"backgroundColorState",get:e=>{let{get:t}=e,r=t(p.pI.background);return r&&"none"!==r?{type:n.m.SOLID,value:(0,s.V)("hex",r)}:i.qV},set:(e,t)=>{let{reset:r,set:i}=e;t instanceof u.nO||t.type!==n.m.SOLID?r(p.pI.background):i(p.pI.background,t.value.hex)}}),H=["fill","stroke"],q=[...H,"stop-color"]},39409:(e,t,r)=>{"use strict";r.d(t,{L:()=>o,M:()=>l});var n=r(59753),i=r(7750);let o=(0,n.zW)(i.MM),l=()=>o().projectId},39573:(e,t,r)=>{"use strict";r.d(t,{x:()=>b});var n=r(71096),i=r(27145),o=r(15513),l=r(60919),s=r(76222),a=r(23715);let u=Array(230),c=Array(o.DD.MAX_VALUE);!function(){for(let e=0;e<c.length;e++)c[e]=-1;function e(e,t){u[e]=t,c[t]=e}e(3,o.DD.PauseBreak),e(8,o.DD.Backspace),e(9,o.DD.Tab),e(13,o.DD.Enter),e(16,o.DD.Shift),e(17,o.DD.Ctrl),e(18,o.DD.Alt),e(19,o.DD.PauseBreak),e(20,o.DD.CapsLock),e(27,o.DD.Escape),e(32,o.DD.Space),e(33,o.DD.PageUp),e(34,o.DD.PageDown),e(35,o.DD.End),e(36,o.DD.Home),e(37,o.DD.LeftArrow),e(38,o.DD.UpArrow),e(39,o.DD.RightArrow),e(40,o.DD.DownArrow),e(45,o.DD.Insert),e(46,o.DD.Delete),e(48,o.DD.KEY_0),e(49,o.DD.KEY_1),e(50,o.DD.KEY_2),e(51,o.DD.KEY_3),e(52,o.DD.KEY_4),e(53,o.DD.KEY_5),e(54,o.DD.KEY_6),e(55,o.DD.KEY_7),e(56,o.DD.KEY_8),e(57,o.DD.KEY_9),e(65,o.DD.KEY_A),e(66,o.DD.KEY_B),e(67,o.DD.KEY_C),e(68,o.DD.KEY_D),e(69,o.DD.KEY_E),e(70,o.DD.KEY_F),e(71,o.DD.KEY_G),e(72,o.DD.KEY_H),e(73,o.DD.KEY_I),e(74,o.DD.KEY_J),e(75,o.DD.KEY_K),e(76,o.DD.KEY_L),e(77,o.DD.KEY_M),e(78,o.DD.KEY_N),e(79,o.DD.KEY_O),e(80,o.DD.KEY_P),e(81,o.DD.KEY_Q),e(82,o.DD.KEY_R),e(83,o.DD.KEY_S),e(84,o.DD.KEY_T),e(85,o.DD.KEY_U),e(86,o.DD.KEY_V),e(87,o.DD.KEY_W),e(88,o.DD.KEY_X),e(89,o.DD.KEY_Y),e(90,o.DD.KEY_Z),e(93,o.DD.ContextMenu),e(96,o.DD.NUMPAD_0),e(97,o.DD.NUMPAD_1),e(98,o.DD.NUMPAD_2),e(99,o.DD.NUMPAD_3),e(100,o.DD.NUMPAD_4),e(101,o.DD.NUMPAD_5),e(102,o.DD.NUMPAD_6),e(103,o.DD.NUMPAD_7),e(104,o.DD.NUMPAD_8),e(105,o.DD.NUMPAD_9),e(106,o.DD.NUMPAD_MULTIPLY),e(107,o.DD.NUMPAD_ADD),e(108,o.DD.NUMPAD_SEPARATOR),e(109,o.DD.NUMPAD_SUBTRACT),e(110,o.DD.NUMPAD_DECIMAL),e(111,o.DD.NUMPAD_DIVIDE),e(112,o.DD.F1),e(113,o.DD.F2),e(114,o.DD.F3),e(115,o.DD.F4),e(116,o.DD.F5),e(117,o.DD.F6),e(118,o.DD.F7),e(119,o.DD.F8),e(120,o.DD.F9),e(121,o.DD.F10),e(122,o.DD.F11),e(123,o.DD.F12),e(124,o.DD.F13),e(125,o.DD.F14),e(126,o.DD.F15),e(127,o.DD.F16),e(128,o.DD.F17),e(129,o.DD.F18),e(130,o.DD.F19),e(144,o.DD.NumLock),e(145,o.DD.ScrollLock),e(186,o.DD.US_SEMICOLON),e(187,o.DD.US_EQUAL),e(188,o.DD.US_COMMA),e(189,o.DD.US_MINUS),e(190,o.DD.US_DOT),e(191,o.DD.US_SLASH),e(192,o.DD.US_BACKTICK),e(193,o.DD.ABNT_C1),e(194,o.DD.ABNT_C2),e(219,o.DD.US_OPEN_SQUARE_BRACKET),e(220,o.DD.US_BACKSLASH),e(221,o.DD.US_CLOSE_SQUARE_BRACKET),e(222,o.DD.US_QUOTE),e(223,o.DD.OEM_8),e(226,o.DD.OEM_102),e(229,o.DD.KEY_IN_COMPOSITION),a.lT?e(91,o.DD.Meta):a.gm?(e(59,o.DD.US_SEMICOLON),e(107,o.DD.US_EQUAL),e(109,o.DD.US_MINUS),s.zx&&e(224,o.DD.Meta)):a.Tc&&(e(91,o.DD.Meta),e(s.zx?93:92,o.DD.Meta))}();let d=s.zx?l.Q.WinCtrl:l.Q.CtrlCmd,h=l.Q.Alt,f=l.Q.Shift,p=s.zx?l.Q.CtrlCmd:l.Q.WinCtrl;class g{preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=o.DD.Unknown;this.keyCode!==o.DD.Ctrl&&this.keyCode!==o.DD.Shift&&this.keyCode!==o.DD.Alt&&this.keyCode!==o.DD.Meta&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=d),this.altKey&&(t|=h),this.shiftKey&&(t|=f),this.metaKey&&(t|=p),t|=e}_computeRuntimeKeybinding(){let e=o.DD.Unknown;return this.keyCode!==o.DD.Ctrl&&this.keyCode!==o.DD.Shift&&this.keyCode!==o.DD.Alt&&this.keyCode!==o.DD.Meta&&(e=this.keyCode),new o.h$(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}constructor(e){this._standardKeyboardEventBrand=!0,this.browserEvent=e,this.target=e.target,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.keyCode=function(e){if(e.charCode){let t=String.fromCharCode(e.charCode).toUpperCase();return o.YM.fromString(t)}return u[e.keyCode]||o.DD.Unknown}(e),this.code=e.code,this.ctrlKey=this.ctrlKey||this.keyCode===o.DD.Ctrl,this.altKey=this.altKey||this.keyCode===o.DD.Alt,this.shiftKey=this.shiftKey||this.keyCode===o.DD.Shift,this.metaKey=this.metaKey||this.keyCode===o.DD.Meta,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}}var y=r(80470);class v{has(e){let t=(0,o.ZU)(e,s.OS);if(null!==t){for(let e of this._arr)if(t.equals(e.keybinding))return!0}return!1}getKeybindingByAction(e){let t=this._arr.find(t=>t.action===e);return null!=t&&t.keybinding||void 0}set(e,t){this._arr.push({keybinding:(0,o.ZU)(e,s.OS),action:t})}dispatch(e){for(let t=this._arr.length-1;t>=0;t--){let r=this._arr[t];if(e.toChord().equals(r.keybinding))return r.action}return null}constructor(){this._arr=[]}}class m{registerAction(e){(e.keyUp?this._keyupDispatcher:this._keydownDispatcher).set(e.keyCode,e.action)}getKeybindingByAction(e){return this._keydownDispatcher.getKeybindingByAction(e)||this._keyupDispatcher.getKeybindingByAction(e)}_onKeyDown(e){let t=new g(e),r=this._keydownDispatcher.dispatch(t.toKeybinding());this._onKey.fire({action:r,event:t})}_onKeyUp(e){let t=new g(e),r=this._keyupDispatcher.dispatch(t.toKeybinding());this._onKey.fire({action:r,event:t})}dispose(){this._onKey.dispose()}getEventHandlers(){return{onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp}}constructor(){this._onKey=new y.v,this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._keydownDispatcher=new v,this._keyupDispatcher=new v,this.onKey=this._onKey.event}}var x=r(16797);class b{addKeybinding(e){let t=this._resolver;for(let r of Array.isArray(e)?e:[e])t.registerAction(function(e){let t=(0,x.H0)(e.key),r="-"===e.command[0];return{action:r?e.command.substring(1):e.command,keyCode:t,keyUp:r}}(r))}getKeybindingByCommand(e){return this._resolver.getKeybindingByAction(e)}subscribe(e){return this._resolver.onKey(e).dispose}getEventHandlers(){return this._resolver.getEventHandlers()}dispose(){this._resolver.dispose(),this._resolver=void 0}constructor(){this._resolver=new m,this.toKeybindString=x.j9}}b=(0,n.Cg)([(0,i.WQ)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[])],b)},40241:(e,t,r)=>{"use strict";r.r(t),r.d(t,{useCommand:()=>o,useSend:()=>l,useSendCommand:()=>s});var n=r(7620),i=r(24632);function o(e,t){let r=(0,i.pM)();(0,n.useEffect)(()=>(r.registerCommand(e,t),()=>{r.unregisterCommand(e,t)}),[e,t,r])}function l(){return(0,i.pM)().send}function s(e){let t=l();return(0,n.useCallback)(r=>t(e,r),[t,e])}},40949:(e,t,r)=>{"use strict";r.d(t,{K6:()=>l.K,Mw:()=>o.Mw,OW:()=>i.OW,cG:()=>i.cG,uX:()=>n});var n=r(33269),i=r(77529),o=r(86149),l=r(91603)},41112:(e,t,r)=>{"use strict";r.d(t,{F:()=>u});var n=r(54568),i=r(62379),o=r(38783),l=r(8351),s=r(52831),a=r(76653);let u=e=>{let{id:t,label:r,sx:u,onClick:c}=e,d=(0,a.c3)("ui.buttons.logoAITools"),h=(0,i.rd)(),f=e=>({whiteSpace:"normal",wordWrap:"break-word",lineHeight:"1.2rem",background:"transparent linear-gradient(90deg, ".concat(e.vars.palette.secondary.main," 0%, ").concat(e.vars.palette.primary.main," 100%) 0% 0% no-repeat padding-box"),"&:hover":{background:"transparent linear-gradient(90deg, ".concat(e.vars.palette.secondary.dark," 0%, ").concat(e.vars.palette.primary.dark," 100%) 0% 0% no-repeat padding-box")}});return(0,n.jsx)(s.A,{id:t,variant:"contained",startIcon:(0,n.jsx)(l.A,{style:{fontSize:"2.5rem"}}),sx:e=>({...f(e),...u}),onClick:e=>{c?null==c||c(e):h.push(o.D.design.aiGenerator())},children:null!=r?r:d("text")})}},42708:(e,t,r)=>{"use strict";r.r(t),r.d(t,{useForwardedRef:()=>i});var n=r(7620);function i(e){let t=(0,n.useRef)(null);return(0,n.useImperativeHandle)(e,()=>t.current),t}},43195:(e,t,r)=>{"use strict";r.d(t,{GH:()=>n,X1:()=>o,tg:()=>i,$C:()=>l,kW:()=>s});var n={};r.r(n),r.d(n,{item:()=>f});var i={};r.r(i),r.d(i,{behaviorStack:()=>b,currentBehavior:()=>w,defaultBehavior:()=>_,hasBehavior:()=>S,id:()=>x});var o={};r.r(o),r.d(o,{A:()=>A});var l={};r.r(l),r.d(l,{action:()=>L,anchors:()=>X,clientCursorPosition:()=>P,clientCursorRange:()=>J,clientCursorStartPosition:()=>U,cursorData:()=>V,cursorPosition:()=>F,cursorRange:()=>z,cursorStartPosition:()=>K,eventData:()=>Y,keyMod:()=>I,mode:()=>G,pointCount:()=>W,pointData:()=>H,pointDataList:()=>$,startPointCount:()=>Z,startPointData:()=>q,startPointDataList:()=>Q,tips:()=>ee,touch:()=>B,type:()=>O});var s={};r.r(s),r.d(s,{E:()=>er});var a=r(35298),u=r(85684);let{atom:c,selectorFamily:d}=(0,a.M)("v1/clipboard"),h=c({key:"_clipboardMap",default:new Map}),f=d({key:"item",get:e=>t=>{let{get:r}=t;return r(h).get(e)},set:e=>(t,r)=>{let{set:n}=t;n(h,void 0===r||r instanceof u.nO?t=>(function(e,t){let r=new Map(e);return r.delete(t)?r:e})(t,e):t=>new Map(t).set(e,r))}});var p=r(24864),g=r(18831);let{atom:y,selector:v}=(0,a.M)("v1/editor"),m=y({key:"_behaviorStack",default:p.PI}),x=y({key:"id",default:"editor-default"}),b=v({key:"behaviorStack",get:e=>{let{get:t}=e,r=t(m);return 0===r.length?[t(_)]:r},set:(e,t)=>{let{set:r}=e;return r(m,t)}}),_=y({key:"defaultBehavior",default:"select"}),w=v({key:"currentBehavior",get:e=>{let{get:t}=e,r=t(b);return r[r.length-1]},set:(e,t)=>{let{set:r}=e;r(b,t instanceof u.nO?g.$f:e=>(0,g.$6)(e,t))}}),S=(0,u.K0)({key:"hasBehavior",get:e=>t=>{let{get:r}=t;return r(b).indexOf(e)>-1},set:e=>(t,r)=>{let{set:n}=t;n(b,r instanceof u.nO||!r?t=>(0,g.Ai)(t,e):t=>0>t.indexOf(e)?[...t,e]:t)}});var E=r(32993);let{atom:k}=(0,a.M)("v1/editor"),A=k({key:"clientRect",default:E.defaultElementRect});var C=r(82531),T=r(10417);let{atom:D,selector:N,atomFamily:M}=(0,a.M)("v1/pointer"),R={x:0,y:0},j={client:R,local:R,current:R},L=D({key:"action",default:C.qe.NONE}),I=D({key:"keyMod",default:0}),O=D({key:"type",default:C.gm.PRIMARY}),P=N({key:"clientCursorPosition",get:e=>{let{get:t}=e;return t(H(0)).client}}),U=N({key:"clientCursorStartPosition",get:e=>{let{get:t}=e;return t(q(0)).client}}),B=D({key:"touch",default:!1}),G=N({key:"mode",get:e=>{let{get:t}=e;return{touch:t(B),action:t(L),keyMod:t(I)}}}),V=N({key:"cursorData",get:e=>{let{get:t}=e;return t(H(0))}}),F=N({key:"cursorPosition",get:e=>{let{get:t}=e;return t(H(0)).local}}),K=N({key:"cursorStartPosition",get:e=>{let{get:t}=e;return t(q(0)).local}}),z=N({key:"cursorRange",get:e=>{let{get:t}=e;return[t(K),t(F)]}}),Y=N({key:"eventData",get:e=>{let{get:t}=e;return{touch:t(B),action:t(L),type:t(O),keyMod:t(I),points:t($)}},set:(e,t)=>{let{set:r}=e;t instanceof u.nO?(r(B,t),r(L,t),r(O,t),r(I,t),r($,t),r(Q,t)):(r(B,t.touch),r(L,t.action),r(O,t.type),r(I,t.keyMod),r($,t.points),t.action===C.qe.START&&r(Q,t.points))}}),J=N({key:"clientCursorRange",get:e=>{let{get:t}=e;return[t(P),t(U)]}}),H=M({key:"pointData",default:j}),q=M({key:"startPointData",default:j}),W=D({key:"pointCount",default:0}),$=(0,T.J)({key:"pointDataList",count:W,item:H}),Z=D({key:"startPointCount",default:0}),Q=(0,T.J)({key:"startPointDataList",count:Z,item:q}),X=D({key:"anchors",default:[R]}),ee=D({key:"tips",default:p.PI}),{atom:et}=(0,a.M)("v1/window"),er=et({key:"size",default:{width:window.innerWidth,height:window.innerHeight},effects_UNSTABLE:[e=>{let{setSelf:t}=e,r=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}}]})},44445:(e,t,r)=>{"use strict";r.d(t,{at:()=>i,cm:()=>o,yo:()=>n});var n={};r.r(n),r.d(n,{Tp:()=>p,hs:()=>h,$G:()=>f});var i={};r.r(i),r.d(i,{AN:()=>x,cY:()=>_,di:()=>b});var o={};r.r(o),r.d(o,{Sn:()=>C,wk:()=>j});var l=r(35298),s=r(85684),a=r(68529);let{atom:u,selector:c}=(0,l.M)("v1/viewport"),d=u({key:"_scale",default:1}),h=c({key:"scale",get:e=>{let{get:t}=e;return t(d)},set:(e,t)=>{let{set:r}=e;return r(d,t instanceof s.nO?t:Math.max(t,.01))}});u({key:"moveFactor",default:1});let f=c({key:"unitScale",get:e=>{let{get:t}=e;return 1/t(h)}}),p=c({key:"background",get:e=>{let{get:t}=e;return{...t(a.pI.size),unitScale:t(f)}}});var g=r(32993);let{atom:y,selector:v}=(0,l.M)("v1/viewportElement"),m=y({key:"_offset",default:{x:0,y:0}}),x=y({key:"clientRect",default:g.defaultElementRect}),b=v({key:"viewBox",get:e=>{let{get:t}=e,{width:r,height:n}=t(x),i=t(f),o=t(a.pI.size),l=t(_),s=r*i,u=n*i;return{x:-(.5*s-.5*o.width)+l.x,y:-(.5*u-.5*o.height)+l.y,width:s,height:u}}}),_=v({key:"offset",get:e=>{let{get:t}=e,r=t(m),n=t(h),i=t(f),{width:o,height:l}=t(x),s=t(a.pI.size),u=s.width*n,c=s.height*n,d=(o-u)*i*.5,p=(l-c)*i*.5;return{x:o<u?Math.min(Math.max(r.x,d),-d):0,y:l<c?Math.min(Math.max(r.y,p),-p):0}},set:(e,t)=>{let{set:r}=e;return r(m,t)}});var w=r(31781),S=r(70119);let{atom:E,selector:k}=(0,l.M)("v1/viewportRuler"),A=S.b.defaultProps,C=E({key:"enabled",default:!1}),T=E({key:"stepSize",default:A.stepSize}),D=E({key:"unitsPerStep",default:A.unitsPerStep}),N=k({key:"offset",get:e=>{let{get:t}=e,r=t(b),n=t(h);return{x:-r.x*n,y:-r.y*n}}}),M=E({key:"style",default:{stroke:A.stroke,backgroundColor:A.backgroundColor}}),R=E({key:"height",default:A.rulerHeight}),j=k({key:"state",get:e=>{let{get:t}=e,r=t(w.X1.A);return{...t(M),...t(N),width:r.width,height:r.height,rulerHeight:t(R),scale:t(h),unitsPerStep:t(D),stepSize:t(T)}}})},47121:(e,t,r)=>{"use strict";r.d(t,{u:()=>function e(t,r){t.forEach((t,n)=>{!1!==r(t,n)&&e(t.children,r)})},x:()=>i});var n=r(11856);function i(e,t,r,i){return(0,n.iQ)(null!=r?t.x-e.x+(t.width-e.width)*r:0,null!=i?t.y-e.y+(t.height-e.height)*i:0)}},48307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>function e(t,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return(0,s.T)(r)?e((e,o)=>(0,n.T)((t,n)=>r(e,t,o,n))((0,i.Tg)(t(e,o))),a):("number"==typeof r&&(a=r),(0,o.N)((e,r)=>(function(e,t,r,n,o,s,a,u){let c=[],d=0,h=0,f=!1,p=()=>{!f||c.length||d||t.complete()},g=e=>d<n?y(e):c.push(e),y=e=>{d++;let o=!1;(0,i.Tg)(r(e,h++)).subscribe((0,l._)(t,e=>{t.next(e)},()=>{o=!0},void 0,()=>{if(o)try{for(d--;c.length&&d<n;){let e=c.shift();y(e)}p()}catch(e){t.error(e)}}))};return e.subscribe((0,l._)(t,g,()=>{f=!0,p()})),()=>{}})(e,r,t,a)))}});var n=r(64672),i=r(76698),o=r(59900),l=(r(49885),r(53272)),s=r(30297)},49513:(e,t,r)=>{"use strict";r.d(t,{Xz:()=>i});let n=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";function i(e){return s.hasOwnProperty(e)?s[e]:null}function o(e,t,r,n,i,o,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}RegExp("^["+n+"]["+n+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Object.prototype.hasOwnProperty;let l={},s={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(e=>{l[e]=new o(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(e=>{let[t,r]=e;l[t]=new o(t,1,!1,r,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(e=>{l[e]=new o(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{l[e]=new o(e,2,!1,e,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{l[e]=new o(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(e=>{l[e]=new o(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(e=>{l[e]=new o(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(e=>{l[e]=new o(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(e=>{l[e]=new o(e,5,!1,e.toLowerCase(),null,!1,!1)});let a=/[\-\:]([a-z])/g,u=e=>e[1].toUpperCase();for(let e in["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{let t=e.replace(a,u);l[t]=new o(t,1,!1,e,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{let t=e.replace(a,u);l[t]=new o(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(e=>{let t=e.replace(a,u);l[t]=new o(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(e=>{l[e]=new o(e,1,!1,e.toLowerCase(),null,!1,!1)}),l.xlinkHref=new o("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(e=>{l[e]=new o(e,1,!1,e.toLowerCase(),null,!0,!0)}),l){let t=l[e];s[t.attributeName]=t}},49885:(e,t,r)=>{"use strict";function n(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}r.d(t,{N:()=>n})},50200:(e,t,r)=>{"use strict";function n(e,t){if(e){let r=e.indexOf(t);0<=r&&e.splice(r,1)}}r.d(t,{o:()=>n})},51005:(e,t,r)=>{"use strict";r.d(t,{kP:()=>f,w5:()=>y,mn:()=>_,j:()=>S,n_:()=>C,YU:()=>D.Y,OJ:()=>N.O});var n,i=r(68683),o=r(32356);(n||(n={})).focus=(0,i.Et)("editor.focus");var l=r(68529),s=r(40949),a=r(21855),u=r(85684),c=r(11349),d=r(11856);function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return async(n,i)=>{let{getPromise:o,getLoadable:s,set:a}=n,h=s(l.pI.size).getValue(),f=(0,c.Cc)(await o((0,u.gu)(i.map(e=>l.GN.absoluteBBox(e))))),p=Math.min(h.width,h.height)*e/Math.max(f.width,f.height),g=(0,d.U3)(p,p,f.x+f.width*t,f.y+f.height*r);for(let e of i)a(l.GN.transform(e),e=>e?(0,d.Wg)(g,e):g)}}let f=(0,i.G5)(e=>{let{send:t,set:r}=e;return async(e,i)=>{let u=(0,o.x4)(),c=await u.assets.getIconSvg({id:e,signature:i});if(!c.ok)return!1;{let e=await t(l.Ji.append,{value:(0,l.Y6)(c.data),centered:!1,flatten:!0,group:!0,use:[h(.25,0,0)]}),i=await t(l.Ji.group,e);return r(a.fJ.current,i),t(s.uX.pushChange),t(n.focus),!0}}});var p=r(53812),g=r(2047);let y=(0,i.G5)(e=>{let{send:t,set:r}=e;return async e=>{let i=await (0,o.x4)().assets.getShapeSvg({name:e}).fetch({cache:"no-cache"});if(i.ok){let e=(0,p.hx)(i.data).map(l.cJ),o=e.length>1?(0,g.bF)({type:"g",children:e}):e[0];if(!o)return;let u=await t(l.Ji.append,{value:o,centered:!1,flatten:!0,use:[h(.25,0,0)]});r(a.fJ.current,u),t(s.uX.pushChange),t(n.focus)}}});var v=r(49840),m=r(24106);let x={width:512,height:512,padding:48,cropped:!0};var b=r(14198);let _=(0,i.G5)(e=>{var t,r;let{send:i,set:o,reset:u,snapshot:c}=e;return t=c,r=async e=>{let{svgContent:t,source:r,template:d,replace:h}=e;if(!t&&!d)return;let f=null!=t?t:await w(d);if(f&&"string"==typeof f){if(h)await i(l.Ji.setDocument,{svg:f,canvas:x,pushChanges:!0}),t||(null==d?void 0:d.generated)?(0,v.ou)(f):o(b.J.Uo,d.name),o(b.J.sP,r);else{let e=c.getLoadable(l.pI.background).valueMaybe(),t=null,r=(0,p.r6)(f);r.children=r.children.filter(e=>"fl:background"!==e.type||!e.attrs.fill||(t=e.attrs.fill,!1)),!(e&&"none"!==e)&&t&&"none"!==t&&o(l.pI.background,t);let d=await i(l.Ji.append,{value:r.children});o(a.fJ.current,d),u(b.J.Uo),u(b.J.sP),i(s.uX.pushChange),i(n.focus)}}},function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];let o=t.retain();return Promise.resolve().then(()=>r(...n)).finally(()=>{setTimeout(o,0)})}});async function w(e){if(e.generated)return(0,v.YO)(e.generatedModel.id);{let t=await (0,o.x4)().assets.getLogoSvg((0,m.U)({name:e.name},e.updatedAt));return t.ok?t.data:void 0}}let S=(0,i.G5)(e=>{let{send:t,set:r}=e;return async e=>{let i=(0,g.bF)({type:"fl:textpath",attrs:{text:e,fill:"#000000",space:"preserve","text-anchor":"middle",offset:"0.5","font-scale":"contain","font-size":"48","font-family":"Open Sans"}});await t(l.Ji.append,{value:i,centered:!0}),r(a.fJ.current,[i.id]),t(s.uX.pushChange),t(n.focus)}}),E=/[^A-Za-z]+/g;function k(e,t){return function e(t,r,n){for(let i of(r(t)&&n.push(t),t.children))e(i,r,n);return n}(e,t,[])}let A={width:512,height:512,padding:48,cropped:!0},C=(0,i.G5)(e=>{let{send:t,set:r}=e;return async e=>{var n;if(!e)return;let{project:i={},fileSource:o}=e,{templateId:s,templateValues:a={},projectId:u}=i,c=!u&&(!!s||"local"===o&&!!e.fileData);e.fileData&&await t(l.Ji.setDocument,{svg:e.fileData,canvas:c?A:void 0,transform:e=>{if(!c)return;let t=a.companyName;t&&e.set(l.pI.tree,e=>T(e,t))}}),e.defaultTitle&&r(b.J.QL,e.defaultTitle),r(b.J.MM,{...i,source:null!==(n=i.source)&&void 0!==n?n:o})}}),T=(e,t)=>{let r=JSON.parse(JSON.stringify(e));return function(e,t){let r=k(e,e=>{var t;return"fl:textpath"===e.type&&function(e){if(!e)return!1;let t=e.toLowerCase().trim();return t.indexOf("company")>-1||t.indexOf("name")>-1}(null!==(t=e.attrs.text)&&void 0!==t?t:"")});0!==r.length&&(r.sort((e,t)=>{let r=e.attrs.text.replace(E,""),n=t.attrs.text.replace(E,"");return r>n?1:r<n?-1:0}),function(e,t,r){let n=t.trim().split(/\s+/g),i=Math.max(1,Math.ceil(n.length/e.length));e.map(e=>r(e,n.splice(0,i).join(" ")))}(r,t,(t,r)=>{if(r)t.attrs.text=r;else{let r=k(e,e=>e.children.indexOf(t)>-1)[0];r&&(r.children=r.children.slice(),r.children.splice(r.children.indexOf(t),1))}}))}(r,t),r};var D=r(67984),N=r(61764);r(82344)},51126:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Container:()=>s,ContainerElement:()=>u});var n=r(54568),i=r(35896),o=r(24705),l=r.n(o);let[s,a]=(0,i.createContextComponent)((e,t)=>{let{children:r,props:n}=e,i=t();return{value:i?n&&function(e,t){let r=l()({},e);for(let n of Object.keys(t))if("o"===n[0]&&"n"===n[1]){let i=e[n],o=t[n];r[n]="function"==typeof i?e=>{i(e),o(e)}:o}else r[n]=t[n];return r}(i,n):n,children:r}}),u=e=>{let{children:t,...r}=e,i=a();return(0,n.jsx)("div",{...i,...r,children:t})}},51201:(e,t,r)=>{"use strict";r.d(t,{Ms:()=>y,vU:()=>h});var n=r(30297),i=r(98233),o=r(97354),l=r(73036),s=r(77509);let a=u("C",void 0,void 0);function u(e,t,r){return{kind:e,value:t,error:r}}var c=r(33068),d=r(63272);class h extends i.yU{static create(e,t,r){return new y(e,t,r)}next(e){this.isStopped?m(u("N",e,void 0),this):this._next(e)}error(e){this.isStopped?m(u("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?m(a,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}constructor(e){super(),this.isStopped=!1,e?(this.destination=e,(0,i.Uv)(e)&&e.add(this)):this.destination=x}}let f=Function.prototype.bind;function p(e,t){return f.call(e,t)}class g{next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(e){v(e)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(e){v(e)}else v(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(e){v(e)}}constructor(e){this.partialObserver=e}}class y extends h{constructor(e,t,r){let i;if(super(),(0,n.T)(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let t;this&&o.c.useDeprecatedNextContext?((t=Object.create(e)).unsubscribe=()=>this.unsubscribe(),i={next:e.next&&p(e.next,t),error:e.error&&p(e.error,t),complete:e.complete&&p(e.complete,t)}):i=e}this.destination=new g(i)}}function v(e){o.c.useDeprecatedSynchronousErrorHandling?(0,d.l)(e):(0,l.m)(e)}function m(e,t){let{onStoppedNotification:r}=o.c;r&&c.f.setTimeout(()=>r(e,t))}let x={closed:!0,next:s.l,error:function(e){throw e},complete:s.l}},51567:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DesignerContext:()=>h,DesignerModuleProvider:()=>y,DesignerProvider:()=>f,DesignerRecoilRoot:()=>v,RecoilStateAccessor:()=>m,useDesignerContext:()=>p});var n=r(54568),i=r(35896),o=r(39962),l=r(82802),s=r(85684),a=r(7620),u=r(21636),c=r(4871),d=r(24632);let h=(0,a.createContext)(null),[f,p]=(0,i.createContextComponent)(e=>{let{plugins:t,children:r}=e;return{value:u.E.create({plugins:t}),children:(0,n.jsx)(y,{children:r})}}),g=o.ModuleProviderContext.Provider,y=e=>(0,n.jsx)(g,{value:p().moduleProvider,children:e.children}),v=e=>{let t=(0,l.S)(c.n);return(0,n.jsx)(s.bi,{initializeState:t.initializeState,children:(0,n.jsx)(m,{children:e.children})})},m=e=>{let t=(0,d.Ql)(),r=(0,s.Zs)(e=>t=>t(e),[]);return(0,a.useLayoutEffect)(()=>(t.setStateAccessor(r),()=>{t.setStateAccessor(null)}),[t,r]),(0,n.jsx)(n.Fragment,{children:e.children})}},51897:(e,t,r)=>{"use strict";r.d(t,{e:()=>o,l:()=>i});let n=Symbol("Service");class i{getService(e){var t,r;let n="string"==typeof(t=e)?t:null!==(r=t.$$name)&&void 0!==r?r:t.$$name=l();if(this._services.has(n))return this._services.get(n).instance;if("string"==typeof e)throw Error('Service is not registered "'+e.toString()+'"');return this._registerService(n,e)}inject(e,t){let r=e.length,n=Array(r);for(let t=0;t<r;t++)n[t]=this.getService(e[t]);return t.apply(void 0,n)}dispose(){this._services.forEach(e=>{var t,r;null===(t=(r=e.instance).dispose)||void 0===t||t.call(r)}),this._services.clear()}_registerService(e,t){let r=t.$$typeOf===n?e=>new t(e):t,i={instance:r({key:e,getService:this.getService,getOption:this._getConfig}),builder:r};return this._services.set(e,i),i.instance}constructor(e){this._services=new Map,this._getConfig=e.getOption,this.getService=this.getService.bind(this)}}function o(e){return e.$$name||(e.$$name=l(),e.$$typeOf=n),e}let l=(()=>{let e=0;return()=>"s_"+Date.now()+"_"+e++})()},53272:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(51201);function i(e,t,r,n,i){return new o(e,t,r,n,i)}class o extends n.vU{unsubscribe(){if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var e;let{closed:t}=this;super.unsubscribe(),t||null===(e=this.onFinalize)||void 0===e||e.call(this)}}constructor(e,t,r,n,i,o){super(e),this.onFinalize=i,this.shouldUnsubscribe=o,this._next=t?function(r){try{t(r)}catch(t){e.error(t)}}:super._next,this._error=n?function(t){try{n(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}}},53651:(e,t,r)=>{"use strict";r.r(t),r.d(t,{usePromptAction:()=>o});var n=r(7620),i=r(5919);function o(e,t){let r=(0,i.useActionRequestController)(),o=(0,n.useMemo)(e,t);return(0,n.useCallback)(()=>{if(!r)throw Error("ActionRequestController is null");return r.request(o)},[r,o])}},54121:(e,t,r)=>{"use strict";r.d(t,{OT:()=>u,cS:()=>s,jz:()=>o,qV:()=>a,ui:()=>l});var n=r(82966),i=r(71246);let o=308,l=574,s="objectBoundingBox",a=Object.freeze({type:n.m.NULL}),u=Object.freeze({...(0,i.V)("rgb",{r:0,g:0,b:0,a:1}),left:0})},54263:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});var n=r(55328),i=r(30297);function o(e){return(0,i.T)(e[n.s])}},55280:(e,t,r)=>{"use strict";r.r(t),r.d(t,{align:()=>u,alignBottom:()=>p,alignCenterX:()=>c,alignCenterY:()=>g,alignLeft:()=>d,alignRight:()=>h,alignTop:()=>f,clear:()=>y,copy:()=>m,cut:()=>_,duplicate:()=>E,flipHorizontally:()=>J,flipVertically:()=>H,group:()=>k,moveBackwards:()=>P,moveDown:()=>N,moveForward:()=>O,moveLeft:()=>C,moveRight:()=>T,moveToBack:()=>U,moveToFront:()=>I,moveUp:()=>D,paste:()=>G,remove:()=>b,resetTransform:()=>V,rotate90Anticlockwise:()=>Y,rotate90Clockwise:()=>z,select:()=>Z,selectAll:()=>et,ungroup:()=>er});var n=r(68683),i=r(11856),o=r(68529),l=r(47121),s=r(91603),a=r(34456);let u=(0,n.G5)({key:"align",callback:e=>{let{snapshot:t,set:r}=e;return async e=>{let{x:n,y:u}=e,c=t.getLoadable(a.fJ.current).getValue(),d=await t.getPromise(a.fJ.absoluteBBox);await Promise.all(c.map(async e=>{let s=await t.getPromise(o.GN.transformedBBox(e));r(o.GN.transform(e),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.uq.Default;return(0,i.Wg)((0,l.x)(s,d,n,u),e)})})),r(s.K.rE,s.K.yU)}}}),c=(0,n.G5)(u,[{x:.5}]),d=(0,n.G5)(u,[{x:0}]),h=(0,n.G5)(u,[{x:1}]),f=(0,n.G5)(u,[{y:0}]),p=(0,n.G5)(u,[{y:1}]),g=(0,n.G5)(u,[{y:.5}]),y=(0,n.G5)(e=>{let{reset:t}=e;return()=>t(a.fJ.current)});var v=r(85684);let m=(0,n.G5)(e=>{let{snapshot:t,set:r}=e;return async()=>{let[e,n]=await t.getPromise((0,v.gu)([a.fJ.tree,a.fJ.absoluteBBox]));r(a.K5.e,{objects:e,bbox:n})}});var x=r(89731);let b=(0,n.G5)(e=>{let{snapshot:t,set:r,reset:n,send:i}=e;return async()=>{let e=t.getLoadable(a.fJ.current).getValue();i(x.remove,e),n(a.fJ.current),r(s.K.rE,s.K.yU)}}),_=(0,n.G5)(e=>{let{send:t}=e;return()=>{t(m),t(b)}});var w=r(2047),S=r(44445);let E=(0,n.G5)(e=>{let{snapshot:t,set:r}=e;return async()=>{let e=await t.getPromise(S.yo.$G),n=await t.getPromise(o.pI.children),l=(await t.getPromise(a.fJ.tree)).map(t=>{let r=(0,w.E3)(t),n=(0,i.iQ)(10*e,10*e),o=r.attrs.transform?(0,i.Wg)(n,i.uq.fromString(r.attrs.transform)):n;return r.attrs={...r.attrs,transform:(0,i.Lj)(o)},r}).map(e=>(r(o.GN.tree(e.id),e),e.id));r(o.pI.children,[...n,...l]),r(a.fJ.current,l),r(s.K.rE,s.K.yU)}}),k=(0,n.G5)(e=>{let{send:t,set:r,snapshot:n}=e;return async()=>{let e=n.getLoadable(a.fJ.current).getValue(),i=await t(x.group,e);e!==i&&(r(a.fJ.current,i),r(s.K.rE,s.K.yU))}}),A=(0,n.G5)(e=>{let{set:t}=e;return(e,r)=>{t(a.fJ.relativeTransform,(0,i.iQ)(e,r)),t(s.K.rE,s.K.yU)}}),C=(0,n.G5)(A,[-1,0]),T=(0,n.G5)(A,[1,0]),D=(0,n.G5)(A,[0,-1]),N=(0,n.G5)(A,[0,1]);var M=r(84898);function R(e){return t=>{let r=e.getLoadable(t).contents;if(r instanceof Promise||r instanceof Error)throw Error("Tried to get value of a pending promise or error.");return r}}let j=(0,n.G5)(e=>t=>{let r=R(e.snapshot),n=r(a.fJ.current);if(0===n.length)return;let i=!1;B(e,n,(n,l)=>{let s;let a=r(o.GN.children(l)),u=[],c=[],d=[];for(let e of a){let t=r(o.GN.type(e));(0,M.wj)(t)?0>n.indexOf(e)?c.push(e):u.push(e):d.push(e)}!function(e,t){let r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}(a,s=t<0?[...d,...u,...c]:[...d,...c,...u])&&(e.set(o.GN.children(l),s),i=!0)}),i&&e.set(s.K.rE,s.K.yU)}),L=(0,n.G5)(e=>t=>{let r=R(e.snapshot),n=r(a.fJ.current),i=!1;B(e,n,(n,l)=>{let s=r(o.GN.children(l)).slice(),a=s.length;t<0&&s.reverse();for(let e=a-1;e>-1;e--){let t=s[e];if((0,M.wj)(r(o.GN.type(t)))&&n.indexOf(t)>-1){let l=e+1,u=s[l];l<a&&(0,M.wj)(r(o.GN.type(t)))&&0>n.indexOf(u)&&(function(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}(s,e,l),i=!0)}}e.set(o.GN.children(l),t<0?s.reverse():s)}),i&&e.set(s.K.rE,s.K.yU)}),I=(0,n.G5)(j,[1]),O=(0,n.G5)(L,[1]),P=(0,n.G5)(L,[-1]),U=(0,n.G5)(j,[-1]);function B(e,t,r){let{snapshot:n}=e,i=R(n),l={};for(let e of t){let t=i(o.GN.parentId(e));if(null!=t){var s;(null!==(s=l[t])&&void 0!==s?s:l[t]=[]).push(e)}}for(let e in l)r(l[e],e)}let G=(0,n.G5)(e=>{let{send:t,set:r,snapshot:n}=e;return async()=>{let e=n.getLoadable(S.yo.$G).valueOrThrow(),l=n.getLoadable(a.K5.e).valueOrThrow();if(null==l)return;let{objects:u}=l,c=(0,i.iQ)(10*e,10*e),d=u.map(e=>{let t=(0,w.E3)(e),r=t.attrs.transform?(0,i.Wg)(c,i.uq.fromString(t.attrs.transform)):c;return t.attrs={...t.attrs,transform:(0,i.Lj)(r)},t}).map(e=>(r(o.GN.tree(e.id),e),e.id));r(o.pI.children,e=>[...e,...d]),r(a.fJ.current,d),await t(m),r(s.K.rE,s.K.yU)}}),V=(0,n.G5)(e=>{let{reset:t,set:r}=e;return async()=>{t(a.fJ.transform),r(s.K.rE,s.K.yU)}}),F=(0,n.G5)(e=>{let{snapshot:t,set:r}=e;return async e=>{if(0===(await t.getPromise(a.fJ.current)).length)return;let n=await t.getPromise(a.Vw.oU),o=(0,i.Jl)(e,n.x,n.y);r(a.fJ.relativeTransform,o),r(s.K.rE,s.K.yU)}}),K=(0,n.G5)(e=>{let{snapshot:t,set:r}=e;return async(e,n)=>{if(0===(await t.getPromise(a.fJ.current)).length)return;let o=await t.getPromise(a.Vw.oU),l=(0,i.U3)(e,n,o.x,o.y);r(a.fJ.relativeTransform,l),r(s.K.rE,s.K.yU)}}),z=(0,n.G5)(F,[90]),Y=(0,n.G5)(F,[-90]),J=(0,n.G5)(K,[-1,1]),H=(0,n.G5)(K,[1,-1]);var q=r(24864),W=r(66577),$=r(67090);let Z=(0,n.G5)(e=>{let{send:t}=e;return async e=>{var r,n;let{point:i,endPoint:o,method:l,containerId:s,hitStackShift:a,fallbackIfEmpty:u}=e,c={x:i.x,y:i.y,width:(null!==(r=null==o?void 0:o.x)&&void 0!==r?r:i.x)-i.x,height:(null!==(n=null==o?void 0:o.y)&&void 0!==n?n:i.y)-i.y};!function(e){return!e.width&&!e.height}(c)?await t(Q,{rect:c,method:l,containerId:s,fallbackIfEmpty:u}):await t(ee,{point:c,method:l,containerId:s,fallbackIfEmpty:u,hitStackShift:a})}}),Q=(0,n.G5)(e=>{let{set:t,snapshot:r}=e;return async e=>{let{rect:n,method:i="set",containerId:l,fallbackIfEmpty:s}=e,u=l?o.GN.children(l):o.pI.children,c=r.getLoadable(a.fJ.current).getValue(),d=r.getLoadable(u).getValue(),h=r.getLoadable(o.pI.children).getValue(),[f,p]=await Promise.all([X(r,d),X(r,h)]),g=(e,t)=>{let r=[];for(let o=0,l=e.length;o<l;o++){let l=e[o];(function(e,t,r,n,i){return!!r.width&&!!r.height&&("set"===e?(0,W.ic)(n,r):"add"===e?(0,W.ic)(n,r)||i.indexOf(t)>-1:"remove"===e?!(0,W.ic)(n,r)&&i.indexOf(t)>-1:void 0)})(i,l,t[o],n,c)&&r.push(l)}return r},y=g(d,f);s&&l&&0===y.length?t(a.fJ.current,g(h,p)):t(a.fJ.current,y)}});function X(e,t){return e.getPromise((0,v.gu)(t.map(e=>o.GN.absoluteBBox(e))))}let ee=(0,n.G5)(e=>{let{snapshot:t,set:r}=e;return async e=>{let{point:n,method:i="set",containerId:l,fallbackIfEmpty:s,hitStackShift:u=0}=e,c=t.getLoadable(a.fJ.current).getValue(),d=q.PI;if(s&&l)for(;l&&0===d.length;)d=(0,$.lC)(t,{point:n,containerId:l}),l=t.getLoadable(o.GN.parentId(l)).getValue();else d=(0,$.lC)(t,{point:n,containerId:l});let h=d.length;if(u=h>0?u%h:0,"set"===i)r(a.fJ.current,[d[u]]);else{let e=[...c];for(let t of d){if(0>c.indexOf(t)){e.push(t);break}{let r=e.indexOf(t);r>-1&&e.splice(r,1)}}r(a.fJ.current,e)}}}),et=(0,n.G5)(e=>{let{snapshot:t,set:r}=e;return async()=>{r(a.fJ.current,await t.getPromise(o.pI.solidGraphics))}}),er=(0,n.G5)(e=>{let{send:t,set:r,snapshot:n}=e;return async()=>{let e=n.getLoadable(a.fJ.current).getValue(),i=await t(x.ungroup,e);i!==e&&(r(a.fJ.current,i),r(s.K.rE,s.K.yU))}})},55328:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});let n="function"==typeof Symbol&&Symbol.observable||"@@observable"},56562:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});var n,i=r(13725),o=r(558),l=r(21636),s=r(35298),a=r(85684),u=r(2047),c=r(1666),d=r(21855),h=r(68929);!function(e){let{selectorFamily:t,selector:r}=(0,s.M)("v1/textpathNode"),{getProps:n}=c.t;e.props=t({key:"props",get:e=>t=>{let{get:r}=t,i=n((t,n)=>r(h.GN.attribute([e,n])));if(i.fontSrc=null,i.fontFamily||(i.fontFamily="Open Sans"),!i.text){let t=r(h.GN.children(e));if(t.length>0)for(let e of t)(0,u.KH)(r(h.GN.type(e)))&&(i.text=""+r(h.GN.contentText(e)))}return i}}),e.pathData=t({key:"pathData",get:t=>async r=>{let{get:n}=r;return(await p(n(o.K.hostId))).render(n(e.props(t)),!0)}}),e.path=t({key:"path",get:t=>async r=>{let{get:n}=r;return n(e.props(t)).path}}),e.textWidth=t({key:"textWidth",get:e=>async t=>{var r,n,i,l;let{get:s}=t,a=await p(s(o.K.hostId)),u=s(h.GN.attribute([e,"font-family"])),c=null!==(r=s(h.GN.attribute([e,"font-weight"])))&&void 0!==r?r:"400",d=null!==(n=s(h.GN.attribute([e,"font-style"])))&&void 0!==n?n:"normal",f=parseFloat(null!==(i=s(h.GN.attribute([e,"font-size"])))&&void 0!==i?i:"16"),g=null!==(l=s(h.GN.attribute([e,"text"])))&&void 0!==l?l:"",y=await a.getOpenTypeFont({fontFamily:u,fontStyle:d,fontWeight:c});return y?y.getAdvanceWidth(g,f):0}}),e.textAlignment=t({key:"textAlignment",get:e=>t=>{let{get:r}=t,n=r(h.GN.attribute([e,"text-anchor"])),i=r(h.GN.attribute([e,"offset"]));return"middle"===n&&"0.5"===i?"center":"end"===n&&"1"===i?"right":"left"},set:e=>(t,r)=>{let{reset:n,set:i}=t,o=h.GN.attribute([e,"text-anchor"]),l=h.GN.attribute([e,"offset"]);if(r instanceof a.nO)n(o),n(l);else{let e=f[r]||f.left;i(o,e.textAnchor),i(l,e.offset)}}}),e.targetTextAlignment=r({key:"targetTextAlignment",get:t=>{let{get:r}=t,n=null;for(let t of r(d.fJ.current)){let i=r(e.textAlignment(t));if(n){if(n!==i)return null}else n=i}return n},set:(t,r)=>{let{set:n,get:i}=t;for(let t of(r||(r="left"),i(d.fJ.current)))n(e.textAlignment(t),r)}})}(n||(n={}));let f={left:{textAnchor:"start",offset:"0"},center:{textAnchor:"middle",offset:"0.5"},right:{textAnchor:"end",offset:"1"}};async function p(e){let t=l.E.getInstance(e);return await t.useModule(i.U).getTextPath()}},56883:(e,t,r)=>{"use strict";function n(e){let t=e(e=>{Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}r.d(t,{L:()=>n})},57257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{MainContentOutlet:()=>l,MainOutlet:()=>o,MainOverlayOutlet:()=>s,RootOutlet:()=>i});var n=r(95894);let i=(0,n.createOutlet)("root"),o=(0,n.createOutlet)("main"),l=(0,n.createOutlet)("main.content"),s=(0,n.createOutlet)("main.overlay")},57456:(e,t,r)=>{"use strict";r.d(t,{Ef:()=>l,IQ:()=>s});class n{getOption(e){if(!this._options.has(e))throw Error('Missing config "'+e+'"');return this._options.get(e)}configure(e){for(let t in e){let r=e[t];void 0!==r&&(null!==r?this._options.set(t,r):this._options.delete(t))}return this}dispose(){this._options.clear()}constructor(e){this._options=new Map,this.getOption=this.getOption.bind(this),null!=e&&this.configure(e)}}var i=r(51897);class o{createContext(){let e={};return this._middlewares.forEach(t=>t(e)),e.getService=this.getService,e}dispose(){this._middlewares.clear(),this._subscriptions.forEach(a)}constructor(e){this._subscriptions=new Set,this._middlewares=new Set;let t=new n(e),r=new i.l(t),o=this._middlewares=new Set;this.getOption=t.getOption,this.getService=r.getService,this.createContext=this.createContext.bind(this),this.registerMiddleware=e=>{o.add(e)},this.unregisterMiddleware=e=>{o.delete(e)},this.register=this._subscriptions.add.bind(this._subscriptions),this.unregister=this._subscriptions.delete.bind(this._subscriptions),this.register(t),this.register(r)}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return s(new o(e),t)}function s(e,t){for(let r of t)r(e);return e}function a(e){e.dispose()}},59753:(e,t,r)=>{"use strict";r.d(t,{tN:()=>o,zW:()=>i});var n=r(85684);function i(e){return()=>(0,n.vc)(e)}function o(e){return()=>(0,n.L4)(e)}},59900:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(30297);function i(e){return t=>{if((0,n.T)(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}},60695:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});let n="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},60919:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n=function(e){return e[e.CtrlCmd=2048]="CtrlCmd",e[e.Shift=1024]="Shift",e[e.Alt=512]="Alt",e[e.WinCtrl=256]="WinCtrl",e}({})},61069:(e,t,r)=>{"use strict";r.d(t,{nW:()=>g,Gg:()=>y});var n=r(7579),i=r(7620),o=r(39995);let l=new Promise(e=>{window.addEventListener("load",()=>{e()})}),s="data-rkey";class a{static getDefault(){var e;return null!==(e=a._default)&&void 0!==e?e:a._default=new a}async loadResource(e){let t=await this._loadResource(e);return t&&e.props.onLoad&&e.props.onLoad(),t}_loadResource(e){let t=u[e.type],r=t.getKey(e),n=this._resources.get(r);if(n){if(n.loaded){let e=!n.registered;return e&&(n.registered=!0),this.log(e?"[new]":"[use]",r),Promise.resolve(e)}return n.promise?(this.log("[wait]",r),n.promise):(this.log("[error]",r),Promise.reject(new f(r)))}let i={type:e.type,loaded:!1,registered:!1};return i.promise=t.load(e,r).then(()=>(i.loaded=!0,i.registered=!0)),this._resources.set(r,i),i.promise}static load(e){return l.then(e)}constructor(e=o.lQ){this.log=e,this._resources=function(){let e=new Map;for(let t of document.getElementsByTagName("script")){let r=h(t);r&&e.set(r,{type:"script",loaded:!0,registered:!1})}for(let t of document.getElementsByTagName("link")){let r=h(t);r&&e.set(r,{type:"link",loaded:!0,registered:!1})}return e}()}}let u={script:{getKey:e=>"string"==typeof e.props.key?e.props.key:d(e.props.src),isLoaded(e){for(let t of document.getElementsByTagName("script"))if(h(t)===e)return!0;return!1},load(e,t){let{container:r,props:n}=e;return new Promise((e,i)=>{if(this.isLoaded(t))return e();let o=c(r),l=document.createElement("script");l.src=n.src,n.key&&l.setAttribute(s,t),n.id&&(l.id=n.id),n.nonce&&(l.nonce=n.nonce),n.async&&(l.async=!0),n.defer&&(l.defer=!0),n.crossOrigin&&(l.crossOrigin=n.crossOrigin),l.onload=function(){e()},l.onerror=function(e){i(new f(n.src,e))},o(l)})}},link:{getKey:e=>"string"==typeof e.props.key?e.props.key:d(e.props.href),isLoaded(e){for(let t of document.getElementsByTagName("link"))if(h(t)===e)return!0;return!1},load(e,t){let{container:r,props:n}=e;return new Promise((e,i)=>{if(this.isLoaded(t))return e();let o=c(r),l=document.createElement("link");l.href=n.href,n.key&&l.setAttribute(s,t),n.id&&(l.id=n.id),n.rel&&(l.rel=n.rel),n.crossOrigin&&(l.crossOrigin=n.crossOrigin),l.onload=function(){e()},l.onerror=function(e){i(new f(n.src,e))},o(l)})}}};function c(e){if("function"==typeof e)return e;{var t;let r="string"==typeof e?null!==(t=document.querySelector(e))&&void 0!==t?t:document.head:e instanceof Node?e:document.head;return e=>r.appendChild(e)}}function d(e){if(!e)throw new f(e);return e.split("?")[0].toLowerCase()}function h(e){let t=e.getAttribute(s);if(null!=t)return t;let r=e instanceof HTMLLinkElement?e.getAttribute("href"):e.getAttribute("src");return r?d(r):void 0}class f extends Error{constructor(e,t){var r,n;super("Failed to load script, "+e),this.name="ScriptLoaderError",this.reason=t,null===(r=(n=Error).captureStackTrace)||void 0===r||r.call(n,this,this.constructor)}}function p(e){let t=(0,i.useRef)(null),[r,o]=(0,i.useState)(null),l=(0,n.useMemoShallowEqual)(e);return(0,i.useEffect)(()=>{if(!t.current){let e=!0;return t.current=a.getDefault().loadResource(l).then(()=>e&&o("ready")).catch(()=>e&&o("error")),o("loading"),()=>{t.current=null,e=!1}}},[l]),r}function g(e){return p({type:"script",props:e})}function y(e){return p({type:"link",props:{...e,rel:"stylesheet"}})}},61481:(e,t,r)=>{"use strict";function n(e,t){for(let r in e)if(e[r]!==t[r])return!1;for(let r in t)if(e[r]!==t[r])return!1;return!0}r.d(t,{b:()=>n})},61764:(e,t,r)=>{"use strict";r.d(t,{O:()=>p});var n=r(68683),i=r(32356),o=r(65124),l=r(38783),s=r(56664),a=r(9809),u=r(85684),c=r(68529),d=r(14198),h=r(67984);let f=(0,u.gu)({autoProjectTitle:d.J.Ff,projectInfo:d.J.MM,serializedSvgx:d.J.Zy,fileAttributes:d.J.iR,usedFontFamilies:d.J.t2}),p=(0,n.G5)(e=>{let{snapshot:t,send:r,set:n}=e;return async function(){let{enableGuest:e=!0,enableGuestEmail:u=!0,skipAuthDialog:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=(0,i.x4)(),y=await t.getPromise(f),{projectId:v,fileId:m,title:x,isPremium:b}=y.projectInfo,_=x||y.autoProjectTitle;if(!_)throw Error("Invalid project title");let w=v;if(!await (0,o.challenge)({enableGuest:e,enableGuestEmail:u,skipAuthDialog:p}))return;v&&!b&&await g.projects.claim({projectUUid:v});let S=await r(c.Ji.renderToString),E=y.fileAttributes;if(v&&m)await g.projectEntries.update({uuid:m,title:_,projectUUid:v,content:y.serializedSvgx,attributes:E,params:{svg:S}}).content();else{w=await g.projects.create({type:s.d.ProjectTypeEnum.Brand,name:_}).content();let e=await g.projectEntries.create({title:_,projectUUid:w,type:a.i.EntryType.File,content:y.serializedSvgx,attributes:E,ext:".svgx",manifestKey:"logo",params:{svg:S}}).content();n(d.J.MM,t=>({...t,fileId:e,projectId:w,title:_})),window.history.replaceState(null,document.title,l.D.design.edit({projectId:w}))}return r(h.Y),w}})},62314:(e,t,r)=>{"use strict";r.d(t,{m:()=>h,x:()=>p});var n=r(54568),i=r(43702),o=r(38591),l=r(5840),s=r(79230),a=r(91039),u=r(7620);let c=(0,a.default)(()=>Promise.all([r.e(7855),r.e(4839)]).then(r.bind(r,94839)),{loadableGenerated:{webpack:()=>[94839]},loading:()=>null}),d=s.LC.pipe((0,l.p)(e=>"F2"===e.key)),h=()=>{let e=(0,i.h7)(),[t,r]=(0,u.useState)(!1),l=(0,u.useCallback)(()=>r(e=>!e),[]);return(0,o.useObserver)(d,l),(0,o.useObserver)(s.qy,t?l:null),(0,u.useEffect)(()=>{if(e&&!window[f])return window[f]=l,()=>{window[f]=null}},[e,l]),e&&t?(0,n.jsx)(c,{onClose:()=>r(!1)}):null},f="__toggleCodeEditor";function p(){let e=window[f];e&&e()}},63272:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o,l:()=>l});var n=r(97354);let i=null;function o(e){if(n.c.useDeprecatedSynchronousErrorHandling){let t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){let{errorThrown:e,error:t}=i;if(i=null,e)throw t}}else e()}function l(e){n.c.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},64672:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var n=r(59900),i=r(53272);function o(e,t){return(0,n.N)((r,n)=>{let o=0;r.subscribe((0,i._)(n,r=>{n.next(e.call(t,r,o++))}))})}},64712:(e,t,r)=>{"use strict";r.d(t,{G5:()=>c,m5:()=>s});var n=r(71096),i=r(27145),o=r(94994);class l{async handle(e){await Promise.all(Array.from(this._handlers).map(t=>t(e)))}addHandler(e){(0,o.Mj)(this),this._handlers.add(e)}removeHandler(e){this._handlers.delete(e)}dispose(){this._handlers.clear()}constructor(e){this.name=e,this._handlers=new Set}}class s{getCommand(e){return this._registry.get(e)}registerCommand(e,t){let r="string"==typeof e?e:e.name;this._registry.has(r)||this._registry.set(r,new l(r)),this._registry.get(r).addHandler(t)}unregisterCommand(e,t){var r;let n="string"==typeof e?e:e.name;null===(r=this._registry.get(n))||void 0===r||r.removeHandler(t)}send(e,t){if(!e)throw Error("Invalid command, got: "+String(e));let r=e[a]?{name:e.name,payload:t}:"object"==typeof e?e:{name:e,payload:t},n=this._registry.get(r.name);return n?this.handle(n,r.payload):Promise.resolve()}handle(e,t){return e.handle(t)}constructor(){this._registry=new Map,this.send=this.send.bind(this)}}s=(0,n.Cg)([(0,i.WQ)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[])],s);let a=Symbol("Command"),u={get:()=>!0};function c(e){let t=function(t){return{name:e,payload:t}};return Object.defineProperties(t,{name:{get:()=>e},[a]:u}),t}},64787:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(60695),i=r(30297);function o(e){return(0,i.T)(null==e?void 0:e[n.l])}},66044:(e,t,r)=>{"use strict";function n(e){if(0>e.indexOf("url("))return;for(e=e.substr(4);'"'===e[0]||"'"===e[0]||"#"===e[0];)e=e.substr(1);let t=0,r=e.length;for(;t<r&&")"!==e[t]&&"'"!==e[t]&&'"'!==e[t];)t++;return e.substr(0,t)||void 0}r.d(t,{X:()=>n})},66085:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var n=r(74507),i=r(59900),o=r(53272);function l(e){return e<=0?()=>n.w:(0,i.N)((t,r)=>{let n=0;t.subscribe((0,o._)(r,t=>{++n<=e&&(r.next(t),e<=n&&r.complete())}))})}},66577:(e,t,r)=>{"use strict";r.d(t,{cD:()=>a,ic:()=>s});var n=r(11856);let{min:i,max:o}=Math;function l(e,t,r,n){let i=e-r,o=t-n;return{x:Math.min(e,e-i),y:Math.min(t,t-o),width:Math.abs(i),height:Math.abs(o)}}function s(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function a(e,t){let r=e.x+e.width,s=e.y+e.height,a=(0,n.vo)(e,t),u=(0,n.vo)({x:r,y:e.y},t),c=(0,n.vo)({x:e.x,y:s},t),d=(0,n.vo)({x:r,y:s},t);return l(i(a.x,u.x,c.x,d.x),i(a.y,u.y,c.y,d.y),o(a.x,u.x,c.x,d.x),o(a.y,u.y,c.y,d.y))}},66775:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});class n{get size(){return this._data.size}get(e){return this._data.get(e)}getOne(e){return this._data.has(e)?this._data.get(e):l.call(this,e)}has(e){return this._data.has(e)}set(e,t){return this._data.set(e,t),this}add(e,t){return this._data.has(e)&&o.call(this,e),this._data.set(e,t),this}clear(){this._data.clear()}delete(e){this._data.delete(e)}forEach(e,t){this._data.forEach((t,r)=>e(t,r,this),t)}filter(e){let t=[];return this._data.forEach((r,n)=>{e(r,n,this)&&t.push(r)}),t}map(e){let t=Array(this._data.size),r=0;return this._data.forEach((n,i)=>{t[r]=e(n,i,this),r++}),t}findOne(e){for(let t of this._data)if(e(t[1],t[0],this))return t[1]}find(e){let t=[];for(let r of this._data)e(r[1],r[0],this)&&t.push(r[1]);return t}values(){return this._data.values()}keys(){return this._data.keys()}[Symbol.iterator](){return this._data[Symbol.iterator]()}static fromObject(e,t){return new n(Object.keys(e).map(t=>[t,e[t]]),t)}constructor(e,{displayName:t="Key"}={}){this._data=new Map(e),this._displayName=t}}class i extends Error{get name(){return"RegistryError"}constructor(e,t){super(e),this.reason=t}}function o(e,t){throw new i("Duplicated "+this._displayName+" key "+JSON.stringify(e),t)}function l(e,t){throw new i(this._displayName+" not found for key "+JSON.stringify(e),t)}},67005:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});let n={content:"editorContainer.content",overlay:"editorContainer.overlay"}},67090:(e,t,r)=>{"use strict";r.d(t,{lC:()=>l,bi:()=>a,$I:()=>s});var n=r(11856),i=r(68529),o=r(34456);function l(e,t){let{point:r,containerId:n}=t,{getLoadable:o}=e;return o(n?i.GN.children(n):i.pI.children).getValue().filter(t=>s(e,r,t)).reverse()}function s(e,t,r){let{getLoadable:o}=e,l=o(i.GN.absoluteTransform(r)).valueOrThrow(),s=(0,n.vo)(t,(0,n.DI)(l)),a=o(i.GN.bbox(r)).getValue();return s.x>=a.x&&s.x<=a.x+a.width&&s.y>=a.y&&s.y<=a.y+a.height}function a(e){var t,r;let n=e.getLoadable(o.fJ.current).getValue()[0];return!!n&&(t=e,r=n,t.getLoadable(i.pI.topObject(r)).getValue()!==r)}},67092:(e,t,r)=>{"use strict";r.r(t),r.d(t,{clear:()=>o,editPath:()=>d,editSelectedPath:()=>p});var n=r(68683),i=r(31781);let o=(0,n.G5)(e=>{let{reset:t}=e;return()=>{t(i.tg.currentBehavior)}});var l=r(85684),s=r(68529),a=r(56562),u=r(91603),c=r(32132);let d=(0,n.G5)(e=>{let{snapshot:t,set:r}=e;return async(e,n)=>{if(!e)return;let o=s.GN.attribute([e,n]);if(!t.getLoadable(o).getValue()){let[n,i]=await t.getPromise((0,l.gu)([a.x.props(e),a.x.textWidth(e)])),s=i+n.letterSpacing*(n.text.length-1),u=-(s*n.offset);r(o,["M"+u,"0C"+(u+.25*s),0,u+.75*s,0,u+s,0].join(" "))}r(i.tg.currentBehavior,"pathEditor"),r(c._.WB,{targetId:e,attributeName:n}),r(u.K.rE,u.K.yU)}});var h=r(12060),f=r(34456);let p=(0,n.G5)(e=>{let{send:t,snapshot:r}=e;return()=>{let e=r.getLoadable(f.fJ.current).getValue();if(1!==e.length)return;let n=r.getLoadable(f.fJ.type).getValue(),i=n&&g[n];if(i)return t(d,e[0],i)}}),g={path:"d",[h.Od]:"path"}},67984:(e,t,r)=>{"use strict";r.d(t,{Y:()=>l});var n=r(68683),i=r(40949),o=r(78800);let l=(0,n.G5)(e=>{let{snapshot:t,getService:r,set:n}=e;return()=>{r(o.a).save(t.getLoadable(i.K6.rE).getValue().current),n(i.K6.rE,e=>({...e,saved:e.current}))}})},68529:(e,t,r)=>{"use strict";r.d(t,{Ji:()=>n,cJ:()=>a,Y6:()=>c,pI:()=>i.pI,GN:()=>i.GN});var n=r(89731);r(4334);var i=r(68929);r(49513);var o=r(2047),l=r(21575),s=r(47121);function a(e){let t=(0,o.E3)(e);return(0,s.u)([t],e=>{var t;if(null===(t=e.attrs)||void 0===t?void 0:t.style){let t="string"==typeof e.attrs.style?(0,l.z)(e.attrs.style):e.attrs.style,r={};for(let n in e.attrs)"opacity"!==n&&(r[n]=t[n]);e.attrs={...e.attrs,style:r}}}),t}var u=r(71081);function c(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("div");n.innerHTML=e;let i={onSVGElement:null!==(t=r.onSVGElement)&&void 0!==t?t:d};return(0,u.D)(n,()=>{let e=n.getElementsByTagName("svg")[0];return e&&function e(t,r){let n=function(e){if(!e.childNodes.length)return[];let t=e.childNodes.length,r=e.childNodes,n=Array(t);for(let e=0;e<t;e++)n[e]=r[e];return n}(t),i=n.length;if(t instanceof SVGElement){let o=t.getAttribute("fill");if("svg"===t.tagName){let e;let r=function(e){let t=e.getAttribute("viewBox");if(null==t)return null;{let e=t.split(/[\s,]+/gi).map(e=>parseFloat(e));return[e[0]||0,e[1]||0,e[2]||0,e[3]||0]}}(t),n=parseFloat(t.getAttribute("width")||"0"),i=parseFloat(t.getAttribute("height")||"0"),o=t.getElementsByTagName("style");for(let t=0,r=o.length;t<r;t++)(e=o[t]).parentNode.removeChild(e);!r||n||i||(t.setAttribute("width",r[2].toString()),t.setAttribute("height",r[3].toString()))}for(let t=0;t<i;t++)e(n[t],r);(function(e){var t;if("text"===e.tagName)return!0;if("g"!==e.tagName)return!1;if(function(e){if("none"===e.getAttribute("display"))return!0;if(!e.getBoundingClientRect)return!1;let t=e.getBoundingClientRect();return!t.width||!t.height}(e)||(t=0,0))return!0;let r=e.childNodes,n=r.length;for(let e=0;e<n;e++){let t=r[e];if(t instanceof SVGElement&&"text"===t.tagName&&t.textContent&&t.textContent.indexOf("thenounproject.com")>-1)return!0}return!1})(t)&&t.parentNode.removeChild(t),"none"===o&&"g"===t.tagName&&t.removeAttribute("fill"),r.onSVGElement(t)}else t.parentNode&&(!(t instanceof Comment)||0>t.data.indexOf("@FLD:"))&&t.parentNode.removeChild(t)}(e,i),n.innerHTML||""})}let d=()=>{}},68683:(e,t,r)=>{"use strict";r.d(t,{Dv:()=>P,Ts:()=>a,sV:()=>g,qv:()=>_,G5:()=>h,Et:()=>f,Jk:()=>L,KP:()=>T,ie:()=>c,h$:()=>N,YY:()=>A,D3:()=>j,pM:()=>M,ci:()=>I,qT:()=>R});var n=r(57456),i=r(71096),o=r(51897),l=r(96047);let s=Symbol("CommandName");class a{send(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=e(this._getContext())(...r);return(0,l.$X)(i)?(this._fireCommandState(e,{state:"loading"}),i.then(t=>(this._fireCommandState(e,{state:"completed",result:t}),t),t=>{throw this._fireCommandState(e,{state:"failed",result:t}),t})):(this._fireCommandState(e,{state:"completed",result:i}),i)}sendByName(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=this.get(e);if("function"==typeof i)return this.send(i,...r);console.warn('Unknown command "'+e+'"')}configure(e){let{contextGetter:t}=e;return this._getContext=t,this}register(e,t){var r;let n="string"==typeof(r=e)?r:r.name,i="string"==typeof e?t:e;if(null==i)throw Error("Invalid command handler");return i[s]=n,this._items.set(n,i),this}unregister(e){let t=this._items.get(e);return t&&(delete t[s],this._items.delete(e)),this}get(e){return this._items.get(e)}getCommandName(e){return e[s]}subscribeToCommandState(e,t){let r;let n=this._trackedCommandMap;return n.has(e)?r=n.get(e).add(t):(r=new Set().add(t),n.set(e,r)),()=>{r.delete(t),0===r.size&&n.delete(e)}}_fireCommandState(e,t){var r;null===(r=this._trackedCommandMap.get(e))||void 0===r||r.forEach(e=>e(t))}dispose(){this._items.clear()}constructor(){this._items=new Map,this._trackedCommandMap=new Map,this.send=this.send.bind(this),this.sendByName=this.sendByName.bind(this)}}a=(0,i.Cg)([o.e,(0,i.Sn)("design:type",Function),(0,i.Sn)("design:paramtypes",[])],a);let u=[e=>{let{getService:t,createContext:r,registerMiddleware:n}=e,i=t(a),o=i.send;i.configure({contextGetter:r}),n(e=>{e.send=o})}];function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,n.Ef)(e,[...u,...t.map(e=>t=>{let r=e(),{desactivate:n,activate:i}="function"==typeof r?{activate:r}:r;t.register({dispose:"function"==typeof n?()=>n(t):d}),i(t)})])}let d=()=>{};function h(e,t){if("function"==typeof e)return t?r=>()=>e(r).apply(void 0,t):e;{let{key:t,callback:r}=e;return Object.defineProperty(r,"name",{get:()=>t}),r}}function f(e){return h(t=>{let{getService:r}=t;return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];let{sendByName:o}=r(a);return o(e,...n)}})}var p=r(80470);class g{on(e,t){return this.eventMap.has(e)||this.eventMap.set(e,new p.v),this.eventMap.get(e).event(t)}fire(e,t){var r;null===(r=this.eventMap.get(e))||void 0===r||r.fire(t)}constructor(){this.eventMap=new Map}}g=(0,i.Cg)([o.e],g);var y=r(60919),v=r(76222);v.zx?y.Q.WinCtrl:y.Q.CtrlCmd,y.Q.Alt,y.Q.Shift,v.zx?y.Q.CtrlCmd:y.Q.WinCtrl;var m=r(15513);let x=v.uF||v.zx?e=>e?e.parts.map(e=>{let t=m.YM.toUserSettingsGeneral(e.keyCode);return e.altKey&&(t=m.YM.toUserSettingsGeneral(m.DD.Alt)+"+"+t),e.shiftKey&&(t=m.YM.toUserSettingsGeneral(m.DD.Shift)+"+"+t),e.ctrlKey&&(t=m.YM.toUserSettingsGeneral(m.DD.Ctrl)+"+"+t),t}).join(", "):"":()=>"",b=()=>Error("Unimplemented method");class _{constructor(){this._onInitializeSnapshot=new p.v,this.initializeSnapshot=e=>{this._onInitializeSnapshot.fire(e),this._onInitializeSnapshot.dispose()},this.onInitializeSnapshot=p.J.once(this._onInitializeSnapshot.event),this.persist=(e,t)=>{throw b()},this.recover=e=>{throw b()}}}_=(0,i.Cg)([o.e],_);var w=r(7620);let S=(0,w.createContext)(null);var E=r(54568),k=r(82802);function A(){return(0,w.useContext)(S)}let C=(0,w.createContext)(null);function T(e){return()=>(0,w.useContext)(C)(e)}var D=r(24632);function N(e){return()=>A().getService(e)}let M=N(a);function R(){return M().send}function j(e){let t=R();return(0,w.useCallback)(function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t(e,...n)},[t,e])}function L(e){return()=>j(e)}function I(e){let t=M(),r=(0,D.kN)();return(0,w.useMemo)(()=>{let n=t.getCommandName(e);return n&&x(r.getKeybindingByCommand(n))},[e,r,t])}let O=e=>{let{children:t}=e,r=R(),n=(0,w.useRef)(new Map),i=(0,w.useCallback)(e=>{let t=n.current;return t.has(e)||t.set(e,function(e,t){let r={};for(let n in e)r[n]=t.bind(void 0,e[n]);return r}(e,r)),t.get(e)},[r]);return(0,w.createElement)(C.Provider,{value:i},t)},P=e=>{let{children:t}=e,r=(0,k.S)("svgx-editor");return(0,E.jsx)(S.Provider,{value:r,children:(0,E.jsx)(O,{children:t})})}},68929:(e,t,r)=>{"use strict";r.d(t,{AV:()=>i,pI:()=>n,GN:()=>y});var n={};r.r(n),r.d(n,{DEFAULT_DOCUMENT_STATE:()=>m,attrs:()=>E,background:()=>B,children:()=>A,contentBBox:()=>N,contentBBoxString:()=>M,definition:()=>I,defs:()=>j,defsTree:()=>L,documentId:()=>w,objectNestedLevel:()=>V,objectSiblings:()=>F,relationTree:()=>O,size:()=>P,solidGraphics:()=>D,state:()=>k,svgxString:()=>U,title:()=>S,topObject:()=>G,tree:()=>R,viewBox:()=>C,viewBoxString:()=>T});var i={};r.r(i),r.d(i,{S:()=>z,a:()=>Y});var o=r(35298),l=r(31781),s=r(9455),a=r(85684),u=r(2047),c=r(53812),d=r(24864),h=r(31415),f=r(11349),p=r(99879),g=r(12060),y=r(33387);let v="_root_",m={id:v,title:"Untitled",type:"svg",attrs:{xmlns:h.NS,width:"512px",height:"512px"},children:d.PI},{atom:x,selector:b,selectorFamily:_}=(0,o.M)("v1/document"),w=(0,a.jV)(v),S=x({key:"title",default:"Untitled"}),E=b({key:"attrs",get:e=>{let{get:t}=e;return t(y.attrs(v))},set:(e,t)=>{let{set:r}=e;r(y.attrs(v),t)}}),k=b({key:"state",get:e=>{let{get:t}=e,r=t(y.objectState(v));return r.type?{...r,attrs:{...r.attrs,viewBox:t(T)},title:t(S)}:m},set:(e,t)=>{let{set:r}=e;t instanceof a.nO?(r(y.objectState(v),m),r(S,t)):(r(y.objectState(v),t),r(S,t.title))}}),A=b({key:"children",get:e=>{let{get:t}=e;return t(y.children(v))},set:(e,t)=>{let{set:r}=e;return r(y.children(v),t)}}),C=b({key:"viewBox",get:e=>{let{get:t}=e,r=(0,u.B)(t(y.attribute([v,"viewBox"])));if(r)return r;let n=t(P);return{x:0,y:0,width:n.width,height:n.height}}}),T=b({key:"viewBoxString",get:e=>{let{get:t}=e,r=t(C);return[r.x,r.y,r.width,r.height].join(" ")}}),D=b({key:"solidGraphics",get:e=>{let{get:t}=e;return t(y.solidGraphics(v))}}),N=b({key:"contentBBox",get:e=>{let{get:t}=e,r=t(D),n=t((0,a.gu)(r.map(e=>y.transformedBBox(e))));return(0,f.Cc)(n)}}),M=b({key:"contentBBoxString",get:e=>{let{get:t}=e,r=t(N);return[r.x,r.y,r.width,r.height].map(e=>Math.round(1e3*e)/1e3).join(" ")}}),R=b({key:"tree",get:e=>{let{get:t}=e,{children:r,...n}=t(k);return{...n,children:r.map(e=>t(y.tree(e)))}},set:(e,t)=>{let{set:r}=e;return r(y.tree(v),t)}}),j=b({key:"defs",get:e=>{let{get:t}=e,r=t(A).find(e=>"defs"===t(y.type(e)));return r?t(y.children(r)):[]},set:(e,t)=>{let{get:r,set:n}=e,i=r(A).find(e=>"defs"===r(y.type(e)));if(i)n(y.children(i),t);else{let e=(0,u.$C)();n(y.type(e),"defs"),n(y.children(e),t),t instanceof a.nO||n(A,t=>[e,...t])}}}),L=b({key:"defsTree",get:e=>{let{get:t}=e;return t(j).map(e=>t(y.tree(e)))},set:(e,t)=>{let{get:r,set:n}=e;if(t instanceof a.nO){for(let e of r(j))n(y.tree(e),t);n(j,t)}else n(j,t.map(e=>(n(y.tree(e.id),e),e.id)))}}),I=_({key:"definition",get:e=>t=>{let{get:r}=t;return 0>r(j).indexOf(e)?null:y.tree(e)},set:e=>(t,r)=>{let{set:n,get:i,reset:o}=t;!r||r instanceof a.nO?(o(y.tree(e)),n(j,t=>t.filter(t=>t!==e))):(n(y.tree(e),r),0>i(j).indexOf(e)&&n(j,t=>[...t,e]))}}),O=b({key:"relationTree",get:e=>{let{get:t}=e;return t(y.relationTree(v))},set:(e,t)=>{let{set:r}=e;return r(y.relationTree(v),t)}}),P=b({key:"size",get:e=>{let{get:t}=e,r=t(E);return{width:parseInt(r.width||m.attrs.width)||0,height:parseInt(r.height||m.attrs.height)||0}},set:(e,t)=>{let{set:r}=e;if(t instanceof a.nO)r(y.attrs(v),{width:m.attrs.width,height:m.attrs.height,viewBox:m.attrs.viewBox});else{let e=Math.max(t.width,0),n=Math.max(t.height,0);r(y.attrs(v),t=>({...t,width:e+"px",height:n+"px",viewBox:"0 0 "+e+" "+n}))}}}),U=b({key:"svgxString",get:e=>{let{get:t}=e,r=t(R);return(0,c.Ps)(r)},set:(e,t)=>{let{set:r,get:n,reset:i}=e;if(t instanceof a.nO)r(R,t);else{n(A).forEach(e=>{i(y.tree(e))});let e=(0,c.r6)(t);e&&r(R,e)}}}),B=b({key:"background",get:e=>{var t;let{get:r}=e,n=r(A).find(e=>r(y.type(e))===g.w6);return null!==(t=n?(0,p.B)(r(y.attribute([n,"fill"]))):void 0)&&void 0!==t?t:"none"},set:(e,t)=>{let{get:r,set:n}=e,i=r(A).find(e=>r(y.type(e))===g.w6);if(!i){let e=i=(0,u.$C)();n(y.type(e),g.w6),n(A,t=>[e,...t])}t instanceof a.nO||!t||"none"===t?n(A,e=>e.filter(e=>r(y.type(e))!==g.w6)):n(y.attribute([i,"fill"]),(0,p.B)(t))}}),G=_({key:"topObject",get:e=>t=>{let{get:r}=t,n=e,i=n;for(;n;){let e=r(y.parentId(n));if(!e)return i;i=n,n=e}return e}}),V=_({key:"objectNestedLevel",get:e=>t=>{let{get:r}=t,n=r(w),i=r(y.parentId(e)),o=0;for(;i&&i!==n;)if(i=r(y.parentId(i)),++o>50){console.warn("To many levels");break}return o}}),F=_({key:"objectSiblings",get:e=>t=>{let{get:r}=t,n=r(y.parentId(e));return n?r(y.children(n)):d.PI}}),{selector:K}=(0,o.M)("v1/cropping"),z=l.tg.hasBehavior("cropping"),Y=K({key:"obfuscatorPathData",get:e=>{let{get:t}=e;if(!t(z))return;let r=t(s.at.di),{width:n,height:i}=t(P);return["M",r.x," ",r.y,"h",r.width,"v",r.height,"h",-r.width,"z M0 0","v",i,"h",n,"v",-i,"z"].join("")}})},70119:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});let n={width:"left",height:"top"},i=[];for(let e=.1;e<1e5;e*=10)i.push(+e),i.push(2*e),i.push(5*e);class o{_initialize(){this._initialized=!0,this._rulerTop=s(this._container),this._rulerLeft=s(this._container),this._corner=s(this._container)}setProps(e){return function(e,t){if(t)for(let r of Object.keys(t))e[r]=t[r]}(this._props,e),this}render(){this._initialized||this._initialize();let e=this._props;this._container.style.position="relative",function(e,t){let r=t.rulerHeight,n=e.getContext("2d"),i=r.toString();e.setAttribute("width",i),e.setAttribute("height",i),n.fillStyle=t.backgroundColor,n.strokeStyle=t.stroke,n.lineWidth=1,n.fillRect(0,0,r,r)}(this._corner,e),this._render(this._rulerTop,!0),this._render(this._rulerLeft,!1)}_render(e,t){let r=this._props,{rulerHeight:o,scale:l,backgroundColor:s,stroke:a,unitsPerStep:u}=r,c=t?"width":"height",d=r[c];!function(e,t,r,i){let o=t.rulerHeight.toString(),l=e.style,s=n[r],a=n[i],u=t[r]-t.rulerHeight;e.setAttribute(r,u.toString()),e.setAttribute(i,o),l[a]="0",l[s]=o+"px",l[r]=u+"px",l[i]=o+"px"}(e,r,c,t?"height":"width");let h=function(e){let t=window.devicePixelRatio||1,r=e.getBoundingClientRect();e.width=r.width*t,e.height=r.height*t;let n=e.getContext("2d");return n.scale(t,t),n}(e);if(h.fillStyle=s,t?h.fillRect(0,0,d,o):h.fillRect(0,0,o,d),0===l)return;let f=+l,p=r[t?"x":"y"],g=r[c],y=50/f,v=1;for(let e=0;e<i.length;e++){let t=i[e];if(v=t,y<=t)break}h.fillStyle=a,h.strokeStyle=a,h.beginPath();let m=v*f,x=p/f%v*f-m;g=2*r[c];let b=x-m;for(;x<g;x+=m){let e,r=Math.round(x);b+=m,r=Math.round(x)+.5,t?(h.moveTo(r,o),h.lineTo(r,0)):(h.moveTo(o,r),h.lineTo(0,r));let n=m/u;for(let e=1;e<u;e++){let r=Math.round(x+n*e)+.5,i=e%2?12:10;t?(h.moveTo(r,o),h.lineTo(r,i)):(h.moveTo(o,r),h.lineTo(i,r))}let i=(b-p)/f;if(v>=1)e=Math.round(i);else{let t=(v+"").split(".")[1].length;e=+i.toFixed(t)}if(0!==e&&1e3!==e&&e%1e3==0&&(e=e/1e3+"K"),t)h.fillText(String(e),x+2,8);else{let t=(e+"").split("");for(let e=0;e<t.length;e++)h.fillText(t[e],1,x+9+9*e)}}h.stroke()}dispose(){this._initialized&&(this._rulerTop=l(this._rulerTop),this._rulerLeft=l(this._rulerLeft),this._rulerLeft=l(this._corner)),this._initialized=!1}static create(e){return new o({container:e})}constructor(e){this._initialized=!1,this._container=e.container,this._props={...o.defaultProps,...e},void 0===e.width&&(this._props.width=this._container.offsetWidth),void 0===e.height&&(this._props.height=this._container.offsetHeight)}}function l(e){let t=e.parentNode;t&&t.removeChild(e)}function s(e){let t=document.createElement("canvas");return t.style.position="absolute",t.style.top="0",t.style.left="0",e.appendChild(t),t}o.defaultProps={stepSize:50,unitsPerStep:10,rulerHeight:15,width:0,height:0,x:0,y:0,scale:1,stroke:"#777777",backgroundColor:"#F4F6FB"}},71081:(e,t,r)=>{"use strict";r.d(t,{D:()=>o});var n=r(31415);let i=()=>{window.__ensureDOM__root__||(window.__ensureDOM__root__=(0,n.h)("div",{style:{pointerEvents:"none",position:"fixed",visibility:"visible",width:"100%"}}));let e=window.__ensureDOM__root__;return e.parentNode!==document.body&&document.body.appendChild(e),e};function o(e,t){let r=e.parentNode,n=e.nextSibling,o=i();o.appendChild(e);let l=t(e);return r?r.insertBefore(e,n):o.removeChild(e),l}},71246:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var n=r(38595);function i(e,t){let r=(0,n.nj)("#121212"),i=(0,n.xp)(r),o=(0,n.bi)(i);return"hex"===e?(r=(0,n.nj)(t),i=(0,n.xp)(r),o=(0,n.bi)(i)):"rgb"===e?(i=t,r=(0,n.v2)(i),o=(0,n.bi)(i)):"hsv"===e&&(o=t,i=(0,n.hT)(o),r=(0,n.v2)(i)),{hex:r,rgb:i,hsv:o}}},71348:e=>{e.exports={container:"PluginErrorBoundary_container__MqKqw",button:"PluginErrorBoundary_button__TREsC",retry:"PluginErrorBoundary_retry__AFJfY",icon:"PluginErrorBoundary_icon__peCbY",tip:"PluginErrorBoundary_tip____YDw"}},72166:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var n=r(80569);function i(e){return n.l.extend(e,e=>{let{get:t,...r}=e,n=null,i=!1;return{...r,get:e=>i?n:(i=!0,n=t(e))}})}},72720:(e,t,r)=>{"use strict";r.d(t,{_:()=>s,y:()=>a});var n=r(95336),i=r(67806),o=r(39968),l=r(12704);let s=(0,o.Ay)(i.Ay)(e=>{let{theme:t}=e;return{width:t.customVars.editorDrawer.width,maxHeight:"100vh",overflowY:"auto",flexShrink:0,zIndex:0,"& .MuiDrawer-paper":{width:t.customVars.editorDrawer.width,boxSizing:"border-box",borderRight:"none",boxShadow:0,top:t.mixins.toolbar.height}}}),a=(0,o.Ay)(n.default)(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"100%",maxHeight:"calc(100vh - ".concat(t.customVars.toolbar.size,")"),overflow:"hidden",[t.breakpoints.down(l.P)]:{height:"unset"}}})},73036:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var n=r(97354),i=r(33068);function o(e){i.f.setTimeout(()=>{let{onUnhandledError:t}=n.c;if(t)t(e);else throw e})}},74298:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=r(76836);class i extends n.B{get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return t.closed||e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}constructor(e){super(),this._value=e}}},74361:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SVGXEditorRoot:()=>i3});var n={};r.r(n),r.d(n,{toggleGrid:()=>th,toggleGuides:()=>tp});var i={};r.r(i),r.d(i,{circle:()=>rR,ellipse:()=>rj,line:()=>rL,polygon:()=>rU,polyline:()=>rO,rect:()=>rB});var o=r(54568),l=r(1967),s=r(57257),a=r(62314);let u=(0,l.i1)(()=>({name:"code-editor",components:[{component:a.m,outlet:s.MainOverlayOutlet}]}));var c=r(72166),d=r(23715),h=r(13725);let f=(0,l.i1)(()=>({name:"fonts",modules:{"fonts-service":(0,c.G)(h.U)},onConfigure(e){let{get:t}=e;d.Bd&&t(h.U).initialize()}}));var p=r(68683),g=r(31781),y=r(4871),v=r(91039),m=r(51005),x=r(78800),b=r(82802),_=r(7620),w=r(57456),S=r(36130),E=r(74534),k=r(40949);function A(e){return t=>e({...t,commands:t.getService(p.Ts),components:t.getService(E.X),stateHistory:t.getService(k.Mw),events:t.getService(p.sV)})}let C="_sw1",T="_sw2",D="_sd "+C,N="_sd "+T,M={svgBackground:"viewport.svg.background",svgContent:"viewport.svg.content",svgUI:"viewport.svg.ui",htmlUI:"viewport.html.ui"};var R=r(89731),j=r(12060),L=r(85684),I=r(4334),O=r(68929),P=r(38628),U=r(49513);let B=/\s*\:+\s*/g,G=/(?:\s*\;\s*)+/g;function V(e){let t={};for(let r in e)if("style"===r&&"string"==typeof e[r])t[r]=function(e){let t=e.split(G),r={};for(let e of t){let[t,n]=e.split(B);r[(0,P.Iq)(t)]=n}return r}(e[r]);else{let n=(0,U.Xz)(r);t[null===n?r:n.propertyName]=e[r]}return t}var F=r(71096),K=r(51897),z=r(84898),Y=r(33387);class J{add(e,t){return this.nodes.set(e,t),(0,z.EA)(e,{flags:t.flags}),t.bbox&&(0,Y.defineBoundingBox)(e,t.bbox),this}getComponent(e){var t;return null===(t=this.nodes.get(e))||void 0===t?void 0:t.component}dispose(){this.nodes.clear()}constructor(){this.nodes=new Map}}J=(0,F.Cg)([K.e],J);let H=(0,p.h$)(J),q=e=>{let{id:t}=e,r=(0,L.vc)(O.GN.contentText(t));return(0,_.createElement)(_.Fragment,null,r)};var W=r(6530);let $=e=>{let{id:t,type:r,children:n}=e,i=(0,L.vc)(O.GN.attrs(t));return(0,_.createElement)(r,(0,W.k)(V(i),{[j.rG]:t}),n)},Z=e=>{var t;let{id:r}=e,n=H(),i=(0,L.vc)(O.GN.type(r)),l=(0,L.vc)(O.GN.children(r));return i===j.jK?(0,o.jsx)(q,{id:r}):(0,_.createElement)(null!==(t=n.getComponent(i))&&void 0!==t?t:$,{id:r,type:i},l.map(e=>(0,o.jsx)(Z,{id:e},e)))},Q=()=>{let e=(0,L.vc)(O.pI.state),t=(0,L.vc)(O.pI.children),r=(0,I.E)(),n=(0,_.useRef)(null),i=V(e.attrs);return i.style={...i.style,overflow:"visible"},i.ref=n,(0,_.useEffect)(()=>{r.setRef(n)},[r]),(0,_.createElement)(e.type,i,t.map(X))},X=e=>(0,o.jsx)(Z,{id:e},e),ee=()=>(0,o.jsx)(Q,{});var et=r(39968),er=r(44445);let en=()=>{let{width:e,height:t}=(0,L.vc)(O.pI.size),r=(0,L.vc)(er.at.di);return(0,o.jsx)(ei,{d:["M",r.x," ",r.y,"h",r.width,"v",r.height,"h",-r.width,"z M0 0","v",t,"h",e,"v",-t,"z"].join("")})},ei=(0,et.Ay)("path")(e=>{let{theme:t}=e;return{pointeEvents:"none",opacity:.5,fill:t.vars.palette.Viewport.main}}),eo=()=>((0,g.J0)(R,"canvas"),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ee,{}),(0,o.jsx)(en,{}),(0,o.jsx)(g.T0,{name:j.l.content})]})),el=()=>(0,L.vc)(O.AV.S)?(0,o.jsx)(es,{}):null,es=()=>{let e=(0,L.vc)(O.AV.a),t=(0,L.vc)(O.pI.viewBox);return(0,o.jsxs)("g",{children:[(0,o.jsx)(eu,{d:e}),(0,o.jsx)(ec,{...t,className:T}),function(e,t){let r=t.width,n=t.y,i=n+t.height,o=[,,],l=r/(e+1);for(let t=0;t<e;t++){let e=l*(t+1);o[t]=(0,_.createElement)(ed,{key:t,className:C,x1:e,y1:n,x2:e,y2:i})}return o}(2,t),function(e,t){let r=t.height,n=t.x,i=n+t.width,o=[,,],l=r/(e+1);for(let t=0;t<e;t++){let e=l*(t+1);o[t]=(0,_.createElement)(ed,{key:t,className:C,x1:n,y1:e,x2:i,y2:e})}return o}(2,t)]})},ea={fill:"none",stroke:"#FFFFFF",mixBlendMode:"difference"},eu=(0,et.Ay)("path")({fill:"rgba(0, 0, 0, 0.75)",pointerEvents:"none"}),ec=(0,et.Ay)("rect")(ea),ed=(0,et.Ay)("line")(ea);var eh=r(99879);let ef=e=>{let{id:t}=e,r=(0,L.vc)(O.pI.size),n=(0,L.vc)(O.GN.attribute([t,"fill"])),i=(0,_.useMemo)(()=>(0,eh.B)(n),[n]);return i?(0,_.createElement)("rect",{[j.rG]:t,"data-fl-background":"",x:0,y:0,width:r.width,height:r.height,fill:i}):null};var ep=r(33976),eg=r(56562);let ey=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={fallback:null},r="function"==typeof e?e:()=>e;return e=>n=>{let i={...t,...r(n)};return(0,o.jsx)(_.Suspense,{...i,children:(0,o.jsx)(e,{...n})})}})({fallback:null})(e=>{let{id:t}=e,r=(0,L.vc)(O.GN.attrs(t)),n=(0,L.vc)(eg.x.pathData(t));return(0,_.createElement)("path",{...V(r),[j.rG]:t,"data-fl-textpath":"",href:null,d:n})}),ev=e=>t=>{let{get:r}=t;return(0,ep.a)("path",{d:r(eg.x.pathData(e)),"stroke-width":r(O.GN.attribute([e,"stroke-width"]))})},em=A(e=>{let{getService:t,components:r,stateHistory:n}=e;r.section(M.svgContent).add(eo),r.section(M.svgUI).add(el),n.register(O.pI.tree),t(J).add(j.Od,{label:"obj_name_text",flags:S.O.SOLID_GRAPHICS,bbox:ev,component:ey}).add(j.w6,{label:"obj_name_background",flags:S.O.GRAPHICS,component:ef}),t(p.qv).onInitializeSnapshot(e=>{let{set:t}=e;t(O.pI.state,O.pI.DEFAULT_DOCUMENT_STATE)})});var ex=r(90045),eb=r(4327),e_=r(77617);let ew=(0,et.Ay)("circle")({cursor:"pointer",fill:"white",stroke:"teal"}),eS=(0,et.Ay)("path")({stroke:"white",fill:"none",mixBlendMode:"difference",pointerEvents:"none"}),eE=(0,et.Ay)("circle")({cursor:"move",fill:"transparent",stroke:"white",mixBlendMode:"difference"}),ek=()=>{let e=(0,g.$j)(!0),t=(0,L.vc)(er.yo.$G),r=(0,L.lZ)(ex.l.Sn),[n,i]=(0,L.L4)(ex.l.$),[l,s]=(0,L.L4)(ex.l.gX),[a,u]=(0,_.useState)(0),[c,d]=null!=n?n:[e_.oB,e_.oB];if((0,eb.useEvent)(e.onStart,e=>{let{isPrimary:t,cancel:n,sourceEvent:i}=e;if(!t)return n();{i.stopPropagation();let e=parseInt(i.currentTarget.getAttribute("data-index")||"-1");e<0?r(!1):e!==a&&u(e)}}),(0,eb.useEvent)(e.onMove,e=>{let{position:t}=e;2===a?s(t):i(e=>{if(!e)return e;let r=[...e];return r[a]=t,r})}),null==n||null==l)return null;let h=["M",c.x,c.y,"L",d.x,d.y].join(" ");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eS,{d:h,fill:"none",stroke:"white",strokeWidth:2*t}),(0,o.jsx)(eE,{"data-index":2,fill:"transparent",r:32*t,cx:l.x,cy:l.y,onMouseDown:e.listener,onMouseUp:e.listener}),(0,o.jsx)(eA,{index:0,point:c,onStart:e.listener}),(0,o.jsx)(eA,{index:1,point:d,onStart:e.listener})]})};function eA(e){let{index:t,point:r,onStart:n}=e,i=(0,L.vc)(er.yo.$G);return(0,o.jsx)(ew,{"data-index":t,cx:r.x,cy:r.y,r:8*i,fill:"white",strokeWidth:2*i,onMouseDown:n,onTouchStart:n})}let eC=()=>{let[e]=(0,L.L4)(ex.l.Sn);return e?(0,o.jsx)(ek,{}):null},eT=A(e=>{let{components:t}=e;t.section(M.svgUI).add(eC)});var eD=r(67005),eN=r(80470);class eM{getState(){return this._state}setState(e){this._onChange.fire(this._state="function"==typeof e?e(this._state):e)}refresh(){this.setState({...this._state,version:new Date().getTime()})}subscribeComponent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r={component:e,priority:t};return this._components.add(r),this.refresh(),()=>{this._components.delete(r)}}render(){let e=this._state;return Array.from(this._components).sort(eR).map((t,r)=>{let{component:n}=t;return n(e,r)})}open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e_.oB,t=arguments.length>1?arguments[1]:void 0;this.setState({active:!0,advanced:t,position:e})}close(){this.setState(e=>({...e,active:!1}))}dispose(){this._onChange.dispose(),this._onRender.dispose(),this._components.clear()}static create(){return new eM}constructor(){this._components=new Set,this._onChange=new eN.v,this._onRender=new eN.v,this._state={position:{x:0,y:0}},this.onChange=this._onChange.event,this.onRender=this._onRender.event}}let eR=(e,t)=>e.priority>t.priority?-1:+(e.priority<t.priority),ej=(0,p.h$)(()=>new eM);var eL=r(35298);let{atom:eI}=(0,eL.M)("v1/contextMenu"),eO=eI({key:"state",default:{position:e_.oB}}),eP=eI({key:"activeItem",default:null}),eU=(0,_.createContext)(null),eB=()=>(0,_.useContext)(eU),eG={x:0,y:0},eV=e=>{let{position:t=eG,style:r,version:n,children:i}=e,l=(0,_.useRef)(null),[s,a]=(0,_.useState)({width:230,height:230}),u=(0,g.lW)(),c=(0,_.useMemo)(()=>{let e=function(e,t){let{x:r,y:n}=e,i=Math.min(t.width,e.width),o=Math.min(t.height,e.height),l=t.x+t.width,s=t.y+t.height,a=r+e.width,u=n+e.height;return a>l&&(r=Math.max(r-i,0)),u>s&&(n=Math.max(n-o,0)),{x:r,y:n,width:i,height:o}}({x:t.x,y:t.y,width:s.width,height:s.height},{x:0,y:0,width:u.width,height:u.height});return{top:e.y+"px",left:e.x+"px"}},[t,s,u]);return(0,_.useLayoutEffect)(()=>{if(l.current){let e=l.current.getBoundingClientRect();a({width:e.width,height:e.height})}},[n]),(0,o.jsx)(eF,{style:{...c,...r},children:i})},eF=(0,et.Ay)("ul")(e=>{let{theme:t}=e;return{position:"fixed",top:0,left:0,padding:"8px 0",margin:0,fontSize:"14px",lineHeight:1.5,backgroundColor:t.vars.palette.background.paper,color:t.vars.palette.text.primary,listStyle:"none",boxShadow:"0px 3px 5px 0px rgba(0, 0, 0, 0.3)",minWidth:"230px",[t.breakpoints.down("sm")]:{"&":{width:"80% !important",left:"10% !important"},"& & > ul":{background:"white",position:"absolute",left:"0 !important",right:"auto !important",width:"100%",top:"30px !important",margin:0}}}}),eK=()=>{let e=(0,_.useRef)(null),t=(0,g.YO)(),r=ej(),{send:n,sendByName:i}=(0,p.pM)(),[{position:l,active:s,version:a},u]=(0,L.L4)(eO),c=(0,_.useCallback)(e=>{"string"==typeof e?i(e):n(e),r.close(),i("editor.focus")},[r,i,n]);(0,_.useEffect)(()=>r.onChange(u).dispose,[r,u]),(0,eb.useEvent)(t.onContextMenu,(0,_.useCallback)(e=>{let{clientPosition:t,sourceEvent:n}=e;r.open(t,n.shiftKey),n.preventDefault()},[r]));let d=t=>{t.target===e.current&&r.close(),t.stopPropagation()};return s?(0,o.jsx)(g.nB,{children:(0,o.jsx)(eU.Provider,{value:c,children:(0,o.jsx)(ez,{ref:e,onTouchStart:d,onMouseDown:d,children:(0,_.createElement)(eV,{position:l,version:a},...r.render())})})}):null},ez=(0,et.Ay)("div")({position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"transparent"}),eY=A(e=>{let{components:t}=e;t.section(eD.h.content).add(eK)});var eJ=r(82668),eH=r(33269),eq=r(86149),eW=r(91603);let e$=()=>((0,g.J0)(eH,"history"),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eQ,{}),(0,o.jsx)(eZ,{})]})),eZ=()=>{let e=(0,eq.rG)();return(0,eJ.Y6)(()=>{e.undo()}),(0,eJ.YX)(()=>{e.redo()}),null},eQ=()=>{let e=(0,L.vc)(eW.K.rE),t=(0,eq.rG)(),r=(0,_.useRef)(0),n=function(){let{recoilState:e}=(0,eq.rG)();return(0,L.Zs)(t=>{let{snapshot:r,gotoSnapshot:n,set:i}=t;return t=>{"navigate"===t.action||"reset"===t.action?n(r.map(r=>{let{getLoadable:n,set:i}=r,{latest:o}=n(eW.K.rE).getValue();i(e,t.state),i(eW.K.uX,{index:t.index,length:t.length}),i(eW.K.rE,e=>({...e,latest:o}))})):i(eW.K.uX,{index:t.index,length:t.length})}},[e])}();return(0,_.useEffect)(()=>t.subscribe(n),[t,n]),(0,_.useEffect)(()=>{e.current===e.latest&&r.current<e.latest&&(r.current=e.latest,t.pushCurrentState())},[e,t]),(0,_.useEffect)(()=>(t.register(eW.K.rE),()=>{t.unregister(eW.K.rE)}),[t]),(0,_.useEffect)(()=>{let e=!0;return t.getTrackedState().then(r=>{e&&t.init(r)}),()=>{e=!1}},[t]),null},eX=A(e=>{let{components:t}=e;t.section("root").add(e$)}),{atom:e0}=(0,eL.M)("v1/grid"),e1=e0({key:"enabled",default:!1}),e2=e0({key:"step",default:64}),e5=e0({key:"snapThreshold",default:10});var e8=r(24864),e6=r(11349),e3=r(34456),e9=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.OBJECT_RECT=1]="OBJECT_RECT",e[e.OBJECT_MID=2]="OBJECT_MID",e[e.CANVAS_RECT=4]="CANVAS_RECT",e[e.CANVAS_MID=8]="CANVAS_MID",e[e.CANVAS=12]="CANVAS",e[e.OBJECT=3]="OBJECT",e}({});let{atom:e4,selector:e7}=(0,eL.M)("v1/guides"),{CANVAS_RECT:te,CANVAS_MID:tt,OBJECT_MID:tr,OBJECT_RECT:tn}=e9,ti=Object.freeze({xAxis:e8.PI,yAxis:e8.PI}),to=e4({key:"enabled",default:!0}),tl=e7({key:"state",get:e=>{let{get:t}=e,r=t(to),n=t(e3.fJ.current),i=t(O.pI.size);if(!r||n.length<1)return ti;let o=[ts(0,te),ts(i.width,te),ts(.5*i.width,tt)],l=[ts(0,te),ts(i.height,te),ts(.5*i.height,tt)],s=ta(o),a=ta(l),u=n.map(e=>t(O.pI.topObject(e)));for(let e of t(O.pI.children))if(0>u.indexOf(e)){let r=t(O.GN.transform(e)),n=r?(0,e6.YT)(t(O.GN.bbox(e)),r):t(O.GN.bbox(e));n!==e6.PY&&(s(n.x,tn),s(n.x2,tn),s(n.cx,tr),a(n.y,tn),a(n.y2,tn),a(n.cy,tr))}return{xAxis:o,yAxis:l}}});function ts(e,t){return{value:e,level:t}}function ta(e){let t=e.reduce((e,t,r)=>{let{value:n}=t;return e[n.toFixed(2)]=r,e},{});return(r,n)=>{let i=r.toFixed(2);if(null==t[i])t[i]=e.push(ts(r,n))-1;else{let o=t[i];n>e[o].level&&(e[o]=ts(r,n))}}}let{atom:tu}=(0,eL.M)("v1/grid"),tc=tu({key:"snappingContext",default:null}),td=e=>!e,th=(0,p.G5)(e=>{let{set:t}=e;return()=>{t(e1,td)}}),tf=e=>!e,tp=(0,p.G5)(e=>{let{set:t}=e;return()=>{t(to,tf)}});function tg(e,t,r){return e>t&&e<t+r?t:e<t&&e>t-r?t:e}function ty(e,t){return{x:Math.round(e.x/t)*t,y:Math.round(e.y/t)*t}}function tv(e,t){let r=e.x,n=e.y,i=1/0,o=1/0;for(let{value:n}of t.xAxis){let t=Math.abs(n-e.x);t<i&&(r=n,i=t)}for(let{value:r}of t.yAxis){let t=Math.abs(r-e.y);t<o&&(n=r,o=t)}return{x:r,y:n}}var tm=r(31415),tx=r(68529);let tb=()=>{let e=(0,g.Q5)("gridPattern"),t=(0,L.vc)(tx.pI.size);return(0,L.vc)(e1)?(0,o.jsxs)("svg",{style:{pointerEvents:"none"},xmlns:tm.NS,x:0,y:0,width:t.width,height:t.height,children:[(0,o.jsx)("defs",{children:(0,o.jsx)(t_,{id:e})}),(0,o.jsx)("rect",{x:0,y:0,width:t.width,height:t.height,fill:"url(#"+e+")"})]}):null},t_=e=>{let{id:t}=e,r=(0,L.vc)(e2);return(0,o.jsxs)("pattern",{id:t,style:{stroke:"aqua"},x:0,y:0,width:r,height:r,patternUnits:"userSpaceOnUse",children:[(0,o.jsx)("line",{className:C,x1:0,y1:r,x2:r,y2:r}),(0,o.jsx)("line",{className:C,x1:r,y1:0,x2:r,y2:r})]})};var tw=r(82531),tS=r(55280),tE=r(60919),tk=r(67090);let tA=(0,p.h$)(function(){let e=0,t=0,r=0;return{set(e){r=e},update(n){e!==n.x||t!==n.y?(r=1,e=n.x,t=n.y):r++},reset(){r=1},count:()=>r}});function tC(){let e=0,t,r,n="",i=arguments.length;for(;e<i;e++)(t=arguments[e])&&(r=function e(t){let r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){let o=t.length;for(r=0;r<o;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(t))&&(n&&(n+=" "),n+=r);return n}var tT=r(11856);let tD={container:"fl-container",alt:"fl-alt",rotationHandle:"fl-rotationHandle",rotationHandlePattern:"fl-rotationHandlePattern",scaleHandlePattern:"fl-scaleHandlePattern",boxes:"fl-boxes"},tN=e=>{let{id:t,dashed:r}=e,n=(0,L.vc)(tx.GN.absoluteTransform(t)),i=(0,L.vc)(tx.GN.bbox(t)),[l,s,a,u]=(0,_.useMemo)(()=>{let e=(0,e6.wH)(i);return n?e.map(e=>(0,tT.vo)(e,n)):e},[i,n]);return(0,o.jsx)(tM,{className:tC(tD.container,r?D:C),d:["M"+l.x,l.y+"L",s.x,s.y+"L"+a.x,a.y+"L"+u.x,u.y,"Z"].join(" "),fill:"transparent",stroke:"red"})},tM=(0,et.Ay)("path")(e=>{let{theme:t}=e;return{stroke:"transparent","&:hover":{stroke:t.vars.palette.primary.main}}}),tR=e=>{var t,r;let{state:n,isNested:i,dashed:l}=e,s=function(e){let t=(0,L.vc)(e),r=(0,L.vc)(e3.fJ.current);return(0,_.useMemo)(()=>t.filter(e=>0>r.indexOf(e)),[r,t])}(n),a=(0,L.vc)(g.$C.touch),u=(0,L.vc)(g.$C.action);return a||(u&tw.qe.MOVE)>0?null:(0,o.jsx)("g",{className:tC(tD.boxes,i&&tD.alt),children:(0,o.jsx)(_.Suspense,{fallback:null,children:(t=s,r=l,t.map((e,t)=>(0,o.jsx)(tN,{id:e,dashed:r},t+"-1")))})})},tj=(0,et.Ay)(e=>{let{x:t,y:r,width:n,height:i,className:l,...s}=e;return(0,o.jsx)("rect",{...s,className:tC(C,l),x:t,y:r,width:n,height:i})})(e=>{let{theme:t}=e;return{fill:"rgba(61, 177, 255, 0.25)",stroke:t.vars.palette.primary.main,pointerEvents:"none"}}),tL=()=>{let e=(0,L.vc)(e3.Yz.wk);return e&&(0,o.jsx)(tj,{...e})},tI=()=>(!function(){let e=(0,g.$j)(!0),t=tA(),r=(0,p.qT)(),n=(0,L.Zs)(e=>{let{set:t,reset:r}=e;return e=>{let{isPrimary:n,cancel:i,localPosition:o}=e;n?t(e3.Yz.xL,o):(r(e3.Yz.xL),i())}},[]),i=(0,L.Zs)(e=>{let{set:t}=e;return e=>{let{localPosition:r}=e;t(e3.Yz.yc,r)}}),o=(0,L.Zs)(e=>{let{snapshot:n}=e;return async e=>{let{keyMod:i}=e,o=n.getLoadable(e3.Yz.wk).getValue();if(!o)return;let l=n.getLoadable(e3.fJ.parentId).getValue(),s=(i&(tE.Q.CtrlCmd|tE.Q.Shift))>0?"add":(i&tE.Q.Alt)>0?"remove":"set";t.update(o),await r(tS.select,{point:o,endPoint:{x:o.x+o.width,y:o.y+o.height},method:s,containerId:l,fallbackIfEmpty:!0})}},[t,r]),l=(0,L.E0)(e3.Yz.xL);(0,eb.useEvent)(e.onStart,n),(0,eb.useEvent)(e.onMove,i),(0,eb.useEvent)(e.onEnd,o),(0,eb.useEvent)(e.onComplete,l),(0,eb.useEvent)(e.onContextMenu,(0,L.Zs)(e=>{let{snapshot:t}=e;return e=>{let{localPosition:n}=e;if((!(0,tk.bi)(t)||!((0,tk.lC)(t,{point:n}).length>0))&&t.getLoadable(e3.fJ.current).getValue().length<2)return r(tS.select,{point:n})}}))}(),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tR,{state:tx.pI.children}),(0,o.jsx)(tL,{})]}));var tO=r(76653);let tP=e=>{let{children:t,priority:r}=e,n=ej();return(0,_.useEffect)(()=>n.subscribeComponent(t,r),[n,r,t]),null},tU=e=>{let{handler:t}=e,r=(0,p.ci)(t);return(0,o.jsx)(tB,{children:r})},tB=(0,et.Ay)("span")({flex:"none",fontSize:"12px",fontEeight:"bold",marginLeft:"10px"});var tG=r(88270),tV=r.n(tG);let tF=e=>{let{disabled:t,label:r,handler:n}=e,i=eB();return(0,o.jsxs)(tK,{className:t?tV().disabled:void 0,onClick:t?void 0:e=>i(n,e),children:[(0,o.jsx)("span",{children:r}),(0,o.jsx)(tU,{handler:n})]})},tK=(0,et.Ay)("li")(e=>{let{theme:t}=e;return{cursor:"pointer",padding:"4px 32px",width:"100%",whiteSpace:"nowrap",userSelect:"none",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"space-between","&:hover, &:active, &:focus":{backgroundColor:t.vars.palette.primary.main},["&."+tV().disabled]:{cursor:"default",color:t.vars.palette.text.disabled,"&:hover, &:active, &:focus":{backgroundColor:"transparent"}}}}),tz=e=>{let{children:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tY,{}),t,(0,o.jsx)(tY,{})]})},tY=(0,et.Ay)("li")({cursor:"default",padding:"8px 16px",paddingBottom:"4px",marginBottom:"4px","&::before":{content:'""',height:"1px",width:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",display:"block"},"&:hover":{background:"none"},"&+&, &:first-of-type, &:last-of-type":{display:"none"}});var tJ=r(87674),tH=r(90732);let tq=e=>{let{name:t,label:r,disabled:n,children:i}=e,[l]=(0,_.useState)(null!=t?t:tH.u),[s,a]=(0,L.L4)(eP),[u,c]=(0,tJ.useDebounce)(),[d,h]=(0,_.useState)(!1),f=(0,_.useCallback)(e=>a(e?l:null),[a,l]),p=s===l;return(0,_.useEffect)(()=>(p?d||u(()=>f(!1),500):d&&u(()=>f(!0),300),c),[p,d,u,c,f]),(0,o.jsxs)(tW,{className:tC(!n&&p&&tV().active,n&&tV().disabled),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onClick:()=>{c(),f(!0)},children:[(0,o.jsx)("span",{children:r}),p&&(0,o.jsx)(eV,{style:{left:"100%",top:0},children:i})]})},tW=(0,et.Ay)(tK)({position:"relative","&::after":{content:'">"',display:"inline-block",verticalAlign:"middle",lineHeight:"100%",width:"auto",height:"1em",fontSize:"24px",transform:"scaleX(0.5)",position:"absolute",right:0,top:0,paddingRight:"16px"},"> ul":{position:"absolute",top:0,left:"100%",transform:"translateY(-8px)",marginLeft:"-4px",zIndex:1}}),t$=()=>{let e=(0,L.vc)(e3.fJ.current),t=(0,tO.c3)("editor.commands"),r=(0,L.Zs)(t=>{let{snapshot:{getLoadable:r}}=t;return()=>{let t=e.find(e=>"g"===r(tx.GN.type(e)).getValue());return{hasClipboard:null!=r(e3.K5.e).getValue(),hasGroup:t,hasTarget:e.length>0,hasTransform:null!=r(e3.fJ.attribute("transform")).getValue().find(e=>null!=e),target:e,disableUndo:r(eW.K.XA).getValue(),disableRedo:r(eW.K.Rq).getValue()}}},[e]);return(0,o.jsx)(tP,{children:e=>{let n=r();return n.hasTarget?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(tz,{children:[(0,o.jsx)(tF,{label:t("cut"),handler:tS.cut}),(0,o.jsx)(tF,{label:t("copy"),handler:tS.copy}),(0,o.jsx)(tF,{label:t("paste"),handler:tS.paste,disabled:!n.hasClipboard}),(0,o.jsx)(tF,{label:t("duplicate"),handler:tS.duplicate})]}),(0,o.jsxs)(tz,{children:[(0,o.jsxs)(tq,{label:t("order"),children:[(0,o.jsx)(tF,{label:t("moveFront"),handler:tS.moveToFront}),(0,o.jsx)(tF,{label:t("moveForward"),handler:tS.moveForward}),(0,o.jsx)(tF,{label:t("moveBackwards"),handler:tS.moveBackwards}),(0,o.jsx)(tF,{label:t("moveBack"),handler:tS.moveToBack})]}),(0,o.jsxs)(tq,{label:t("rotate"),children:[(0,o.jsx)(tF,{label:t("flipH"),handler:tS.flipHorizontally}),(0,o.jsx)(tF,{label:t("flipV"),handler:tS.flipVertically}),(0,o.jsx)(tF,{label:t("rotateClockwise"),handler:tS.rotate90Clockwise}),(0,o.jsx)(tF,{label:t("rotateAnticlockwise"),handler:tS.rotate90Anticlockwise})]})]}),(0,o.jsxs)(tz,{children:[(0,o.jsx)(tF,{label:t("group"),handler:tS.group,disabled:n.target.length<2}),(0,o.jsx)(tF,{label:t("ungroup"),handler:tS.ungroup,disabled:!n.hasGroup||n.target.length>1})]}),e.advanced&&(0,o.jsx)(tF,{label:t("resetTransform"),handler:tS.resetTransform}),(0,o.jsx)(tF,{label:t("delete"),handler:tS.remove,disabled:!n.hasTransform})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tF,{label:t("undo"),handler:eH.undo,disabled:n.disableUndo}),(0,o.jsx)(tF,{label:t("redo"),handler:eH.redo,disabled:n.disableRedo}),(0,o.jsx)(tz,{children:(0,o.jsx)(tF,{label:t("paste"),handler:tS.paste,disabled:!n.hasClipboard})})]})}})};var tZ=r(94994);function tQ(e){let t=100*e-100;return(t>0?"+":"")+t.toFixed(1)+"%"}function tX(e){return(e>0?"+":"")+e.toFixed(0)+"px"}var t0=r(51431);r(62942);let t1=new eN.v().event;(0,L.Iz)({key:"queryStringValue",default:void 0,effects:e=>[t=>{let{setSelf:r,onSet:n}=t;return t5.getParam(e)&&r(t5.getParam(e)),n((t,r,n)=>{t5.setParam(e,n?void 0:t)}),t5.onChange(t=>{var n;r(null!==(n=t[e])&&void 0!==n?n:void 0)}).dispose}]});let t2=window.setTimeout,t5=(()=>{let e=new eN.v,t={},r=0;t1(r=>{t=(0,t0.mA)(r.search),e.fire(t)});let n=e=>{!function(e){let t=window.location.pathname+(0,t0.wj)(e);r&&(clearTimeout(r),r=0),r=t2(()=>{r=0,window.history.replaceState("","",t)})}(t=e)},i=()=>null!=t?t:{};return{get:i,set:n,onChange:e.event,setParam(e,t){n({...i(),[e]:t})},getParam:e=>i()[e]}})();var t8=r(39922);function t6(e,t){let r=(0,t8.Dx)(t,e);return 180+180/Math.PI*Math.atan2(-r.x,-r.y)}var t3=r(77529);let t9=e3.fJ.TransformAction;function t4(e,t){return isFinite(e)?e:t}var t7=function(e){return e[e.NONE=0]="NONE",e[e.X=1]="X",e[e.Y=2]="Y",e[e.XY=3]="XY",e}(t7||{});let re=e3.fJ.TransformAction,rt=["nw","n","ne","e","se","s","sw","w"],rr={nw:[0,0],n:[.5,0],ne:[1,0],e:[1,.5],se:[1,1],s:[.5,1],sw:[0,1],w:[0,.5]},rn=e3.fJ.TransformAction,ri={SCALEBOX:"pattern-scalebox",ROTATEBOX:"pattern-rotatebox"},ro=()=>{let e=(0,L.vc)(er.yo.$G),t=2*e,r=12*e;return(0,o.jsxs)("defs",{children:[(0,o.jsx)(rl,{id:ri.SCALEBOX,className:tD.scaleHandlePattern,x:0,y:0,width:"100%",height:"100%",children:(0,o.jsx)("circle",{cx:r,cy:r,r:7.5*e-t,strokeWidth:t})}),(0,o.jsx)(rs,{id:ri.ROTATEBOX,className:tD.rotationHandlePattern,x:0,y:0,width:"100%",height:"100%",children:(0,o.jsx)("path",{transform:"scale("+e+") translate(5, 10.5)",d:"M18,13c0,3.31-2.69,6-6,6s-6-2.69-6-6s2.69-6,6-6v2.5l3.5-3.5l-3.5-3.5v2.5c-4.42,0-8,3.58-8,8c0,4.42,3.58,8,8,8c4.42,0,8-3.58,8-8 H18z"})})]})},rl=(0,et.Ay)("pattern")(e=>{let{theme:t}=e;return{circle:{fill:"#fff",stroke:t.vars.palette.primary.main}}}),rs=(0,et.Ay)("pattern")(e=>{let{theme:t}=e;return{path:{fill:t.vars.palette.primary.main}}});var ra=r(12704);let ru=e=>{let{points:t,transform:r,unitScale:n,onRotate:i}=e,l=(0,ra.N)(),s=32*n,a=t[1],u=t[5],c=l?u:a,d=l?t[4]:t[2],h=c.x-.5*s,f=c.y-16*n,p=function(e,t,r){let n=t.a<0?-1:1,i=t.d<0?-1:1;return(0,tT.Lj)((0,tT.Wg)((0,tT.Jl)(r>90?r-180:r<-90?r+180:r,e.x,e.y),(0,tT.U3)(n,i,e.x,e.y)))}(c,r,function(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}(c,d));return l?(0,o.jsxs)(rc,{className:tD.rotationHandle,transform:p,onTouchStart:i,onMouseDown:i,children:[(0,o.jsx)("rect",{x:h,y:f+1.2*s,width:s,height:s,rx:"10000px",style:{fill:"white",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.161))"}}),(0,o.jsx)("rect",{fill:"transparent",color:"black",x:h,y:f+s,width:s,height:s})]},"_r"):(0,o.jsxs)(rc,{className:tD.rotationHandle,transform:p,onTouchStart:i,onMouseDown:i,children:[(0,o.jsx)("line",{className:"noevent",x1:a.x,y1:a.y,x2:a.x,y2:f,strokeWidth:2*n}),(0,o.jsx)("rect",{fill:"transparent",x:h,y:f-s,width:s,height:a.y-f+s})]},"_r")},rc=(0,et.Ay)("g")(e=>{let{theme:t}=e;return{rect:{fill:"url(#pattern-rotatebox)"},line:{stroke:t.vars.palette.primary.main}}}),rd=e=>{let{isNested:t,unitScale:r,onTranslate:n,onScale:i,onRotate:l}=e,s=(0,p.qT)(),a=tA(),u=(0,L.vc)(e3.Vw.oU),c=(0,L.vc)(e3.Vw.rC),d=(0,L.vc)(e3.fJ.absoluteTransform),h=5*r,f=(0,g.$j)(!0),y=(0,L.vc)(e3.Vw.tj),v=(0,L.Zs)(e=>{let{snapshot:t}=e;return e=>{let r=t.getLoadable(e3.fJ.mainId).getValue();return(0,tk.$I)(t,e,r)}},[]);return(0,eb.useEvent)(f.onStart,(0,_.useCallback)(e=>{let{isPrimary:t,sourceEvent:r,position:i,cancel:o}=e;t&&n&&v(i)?n(r):o()},[n,v])),(0,eb.useEvent)(f.onEnd,(0,L.Zs)(e=>{let{snapshot:t}=e;return async e=>{let{keyMod:r}=e,n=t.getLoadable(g.$C.cursorStartPosition).getValue(),i=t.getLoadable(g.$C.cursorPosition).getValue(),o=t.getLoadable(e3.fJ.current).getValue();if(a.update(n),i.x===n.x&&i.y===n.y&&1===o.length){let e=o[0],l=t.getLoadable(tx.GN.parentId(e)).getValue();if((0,tk.lC)(t,{point:n,containerId:e}).length>0)a.reset(),r===(tE.Q.CtrlCmd|tE.Q.Shift)&&await s(tS.select,{point:n,endPoint:i,containerId:e});else{let r=(0,tk.lC)(t,{point:n,containerId:l});if(r.length>0){let t=r.indexOf(e);await s(tS.select,{point:n,endPoint:i,containerId:l,hitStackShift:t+ +(a.count()>1)})}}}}},[a,s])),(0,o.jsxs)(rh,{className:t?tD.alt:void 0,children:[(0,o.jsx)(ro,{}),(0,o.jsx)(ry,{cx:u.x,cy:u.y,strokeWidth:r,width:h,height:h}),t&&(0,o.jsx)("path",{className:N,fill:"none",style:{pointerEvents:"none"},d:rg(...y)}),(0,o.jsx)("path",{className:T,fill:"transparent",d:rg(c[0],c[2],c[4],c[6])}),(0,o.jsx)(rf,{transform:d,points:c,onRotate:l,onScale:i})]})},rh=(0,et.Ay)("g")(e=>{let{theme:t}=e,r=t.vars.palette.secondary.main;return{"> path":{cursor:"move",stroke:t.vars.palette.primary.main,fill:"transparent"},["&."+tD.alt]:{["."+tD.container]:{stroke:"red","&:hover":{stroke:r}},["."+tD.rotationHandle]:{line:{stroke:r}},["."+tD.rotationHandlePattern]:{path:{fill:r}},["."+tD.scaleHandlePattern]:{circle:{stroke:r}},"> path":{"&:hover":{stroke:r}}}}}),rf=e=>{let{points:t,transform:r=tT.uq.Default,onScale:n,onRotate:i}=e,l=rt.length,s=(0,L.vc)(er.yo.$G),a=r?(0,tT._H)(r):0,u=24*s;return(0,o.jsx)(o.Fragment,{children:rt.map((e,c)=>{let d=t[c],h=rt[(c+Math.round((a+180)*l/360))%l],f=(0,o.jsx)(rp,{onTouchStart:n,onMouseDown:n,"data-handle":e,className:h,transform:"rotate("+a+","+d.x+","+d.y+")",x:d.x-.5*u,y:d.y-.5*u,width:u,height:u},c+"-s");return"n"===e?[(0,o.jsx)(ru,{points:t,transform:r,unitScale:s,onRotate:i},"".concat(c,"-rotate-handle")),f]:f})})},rp=(0,et.Ay)("rect")({fill:"url(#pattern-scalebox)","&.nw, &.se":{cursor:"nwse-resize"},"&.n, &.s":{cursor:"ns-resize"},"&.e, &.w":{cursor:"ew-resize"},"&.ne, &.sw":{cursor:"nesw-resize"}});function rg(e,t,r,n){return["M"+e.x,e.y,"L"+t.x,t.y,"L"+r.x,r.y,"L"+n.x,n.y+"Z"].join(" ")}let ry=(0,et.Ay)(e=>{let{cx:t=0,cy:r=0,strokeWidth:n=1,width:i=10,height:l=i}=e;return(0,o.jsx)("path",{d:["M"+(t-i),r,"L"+(t+i),r,"M"+t,r-l,"L"+t,r+l].join(" "),strokeWidth:n})})({pointerEvents:"none"});(0,L.eU)({key:"selectionTransformState",default:tT.uq.Default});let rv=e=>{let{}=e,t=(0,L.vc)(e3.fJ.current),r=(0,L.vc)(er.yo.$G),n=(0,L.vc)(e3.fJ.nested),i=function(){let[e,t]=(0,_.useState)(!1);return(0,_.useEffect)(()=>{if(e){let e=e=>{e.ctrlKey&&e.shiftKey||t(!1)};return document.addEventListener("keyup",e),()=>{document.removeEventListener("keyup",e)}}{let e=e=>{e.ctrlKey&&e.shiftKey&&t(!0)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}},[e]),e}(),l=function(){let e=(0,t3.OW)(),t=(0,L.lZ)(e3.fJ.transformAction),r=(0,g.$j)(),n=(0,L.Zs)(e=>{let{snapshot:r,set:n}=e;return async e=>{let{isPrimary:i,localPosition:o,sourceEvent:l,cancel:s}=e;if(i){var a,u;l.stopPropagation(),t(rn.TRANSLATE);let e=await r.getPromise(e3.fJ.bbox),i=await r.getPromise(e3.fJ.absoluteTransform);n(g.$C.anchors,(a=o,u=(0,e6.gp)(e,i),[(0,t8.Dx)(u.topLeft,a),(0,t8.Dx)(u.topRight,a),(0,t8.Dx)(u.bottomRight,a),(0,t8.Dx)(u.bottomLeft,a),(0,t8.Dx)(u.center,a)]))}else s()}},[t]),i=(0,L.Zs)(e=>{let{snapshot:t,set:r}=e;return e=>{let{keyMod:n,position:i}=e,o=t.getLoadable(g.$C.startPointData(0)).getValue().local;if(null==o)return;let l=i.x-o.x,s=i.y-o.y;n&tE.Q.Shift&&(Math.abs(l)>Math.abs(s)?s=0:l=0),r(g.$C.tips,["X: "+tX(l)+"\nY: "+tX(s)]),r(e3.fJ.transformDelta,(0,tT.iQ)(l,s))}},[]),o=(0,L.Zs)(t=>{let{reset:r}=t;return()=>{r(e3.fJ.transformAction),r(g.$C.tips),e()}},[e]);return(0,eb.useEvent)(r.onStart,n),(0,eb.useEvent)(r.onMove,i),(0,eb.useEvent)(r.onComplete,o),r.listener}(),s=function(){let e=(0,g.$j)(),t=(0,t3.OW)(),r=(0,L.Zs)(e=>{let{snapshot:t}=e;return e=>(function(e,t){let r=rt.indexOf(t),[n,i]=rr[t],o=e[r],l=e[(r+4)%8];return{origin:{x:l.x,y:l.y},axis:.5===n?2:.5===i?1:3,anchor:o}})(t.getLoadable(e3.Vw.rC).getValue(),e)},[]),n=(0,_.useRef)(null),i=(0,L.Zs)(e=>{let{set:t}=e;return e=>{let{isPrimary:i,sourceEvent:o,cancel:l}=e;if(i){o.stopPropagation();let e=o.currentTarget.getAttribute("data-handle");if(!e)throw Error("Invalid direction: "+e);n.current=r(e),t(e3.fJ.transformAction,re.SCALE)}else l()}},[r]),o=(0,L.Zs)(e=>{let{set:t,snapshot:r}=e;return e=>{let i,o,{keyMod:l,position:s}=e,{x:a,y:u}=s;if(!n.current)return;let{origin:c}=n.current,{anchor:d,axis:h}=n.current,f=r.getLoadable(e3.fJ.initialTransform).getValue();if(f){let e=(0,tT.DI)(f),t=(0,tT.vo)({x:a,y:u},e),r=(0,tT.vo)(d,e),n=(0,tT.vo)(c,e);i=(t.x-n.x)/(r.x-n.x||1),o=(t.y-n.y)/(r.y-n.y||1),c=n}else i=(a-c.x)/(d.x-c.x),o=(u-c.y)/(d.y-c.y);i=t4(1&h?i:1,0)||.001,o=t4(2&h?o:1,0)||.001,l&tE.Q.Shift||(3&h)!=3||(o=i);let p=(0,tT.U3)(i,o,c.x,c.y);f&&(p=(0,tT.Wg)(f,(0,tT.Wg)(p,(0,tT.DI)(f)))),t(g.$C.tips,["X: "+tQ(i)+"\nY: "+tQ(o)]),t(e3.fJ.transformDelta,p)}},[]),l=(0,L.Zs)(e=>{let{reset:r}=e;return()=>{r(e3.fJ.transformAction),r(g.$C.tips),t()}},[t]);return(0,eb.useEvent)(e.onStart,i),(0,eb.useEvent)(e.onMove,o),(0,eb.useEvent)(e.onComplete,l),e.listener}(),a=function(){var e,t;let r=(0,g.$j)(),n=(0,t3.OW)(),[i,o]=(0,_.useState)(e_.oB),l=(0,L.Zs)(e=>{let{snapshot:t,set:r}=e;return e=>{let{sourceEvent:n,isPrimary:i,cancel:l}=e;i?(n.stopPropagation(),o(t.getLoadable(e3.Vw.oU).getValue()),r(e3.fJ.transformAction,t9.ROTATE)):l()}},[]),s=(0,L.Zs)(e=>{let{snapshot:t,set:r}=e;return()=>{var e;let n=t.getLoadable(g.$C.keyMod).getValue(),[o,l]=t.getLoadable(g.$C.cursorRange).getValue(),s=t6(i,o)-t6(i,l);n&tE.Q.Shift&&(s=15*Math.round(s/15)),r(g.$C.tips,["A: "+((e=s)>0?"+":"")+e.toFixed(1)+"\xb0"]),r(e3.fJ.transformDelta,(0,tT.Jl)(s,i.x,i.y))}},[i]),a=(0,L.Zs)(e=>{let{set:t,reset:r}=e;return()=>{t(e3.fJ.transformAction,t9.SELECT),r(g.$C.tips),n()}},[n]);return e=()=>{if(r)return[r.onStart(l),r.onMove(s),r.onEnd(a)]},t=[r,l,s,a],(0,_.useEffect)(()=>{let t=e();return t&&(()=>{(0,tZ.AS)(t)})},t),r.listener}(),u=(0,L.Zs)(e=>{let{snapshot:r,set:n}=e;return async()=>{if(!r.getLoadable(tx.GN.transform(e3.fJ.TARGET_PROXY_ID)).getValue()){let e=await r.getPromise((0,L.gu)(t.map(e=>tx.GN.absoluteBBox(e))));n(e3.fJ.bbox,(0,e6.Cc)(e))}}},[t]);return((0,_.useEffect)(()=>{t.length>1&&t.join(",")&&u()},[t,u]),0===t.length)?null:(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)(tR,{state:e3.fJ.siblings,isNested:!0}),(0,o.jsx)(rd,{isNested:n,unitScale:r,onTranslate:l,onScale:s,onRotate:a}),i&&(0,o.jsx)(tR,{state:e3.fJ.children,dashed:!0})]})},rm=["select"],rx=["translate","rotate","scale"],rb=[...rm,...rx],r_=()=>((0,g.J0)(tS,"selection"),(0,o.jsxs)(_.Suspense,{children:[(0,o.jsx)(g.nS,{keys:rm,component:tI}),(0,o.jsx)(g.nS,{keys:rb,component:rv}),(0,o.jsx)(t$,{})]})),rw=()=>(0,L.vc)(to)?(0,o.jsx)(g.nS,{keys:[...rx,"pathEditor"],render:()=>(0,o.jsx)(rS,{})}):null,rS=()=>{let e=(0,L.vc)(g.$C.action),{current:t,local:r}=(0,L.vc)(g.$C.pointData(0)),n=(0,L.vc)(tc),i=(0,L.vc)(tl),{width:l,height:s,x:a,y:u}=(0,L.vc)(er.at.di);if(!n||(e&tw.qe.DRAG)!==tw.qe.DRAG)return null;let{targetX:c,targetY:d}=n,h=t.x!==r.x,f=t.y!==r.y;return(0,o.jsxs)(o.Fragment,{children:[h&&i.xAxis.map((e,t)=>{let{value:r,level:n}=e;if(r!==c)return null;let i=rT(n);return(0,o.jsx)(i,{className:C,x1:r,y1:u,x2:r,y2:u+s},"x-"+t)}),f&&i.yAxis.map((e,t)=>{let{value:r,level:n}=e;if(r!==d)return null;let i=rT(n);return(0,o.jsx)(i,{className:C,x1:a,y1:r,x2:a+l,y2:r},"y-"+t)})]})},rE=(0,et.Ay)("line")(e=>{let{theme:t}=e;return{stroke:t.vars.palette.primary.main,pointerEvents:"none"}}),rk=(0,et.Ay)(rE)(e=>{let{theme:t}=e;return{stroke:t.vars.palette.primary.main}}),rA=(0,et.Ay)(rE)(e=>{let{theme:t}=e;return{stroke:t.vars.palette.primary.main}}),rC={[e9.CANVAS_RECT]:rk,[e9.CANVAS_MID]:rk,[e9.OBJECT_RECT]:rA,[e9.OBJECT_MID]:rA};function rT(e){var t;return null!==(t=rC[e])&&void 0!==t?t:rA}let rD=()=>(!function(){let e=(0,g.YO)(),t=(0,L.Zs)(e=>{let{snapshot:t,set:r}=e,n=e=>t.getLoadable(e).getValue();return e=>{var t,i;let o=function(e,t){let r=e(e5)*e(er.yo.$G),n=e(g.$C.anchors),i=e(tl),o=e(to),l=e(e1),s=e(e2),a=n[0].x,u=n[0].y,c=0,d=0,h=1/0,f=1/0,p=l?ty:()=>null,y=o?tv:()=>null;for(let e of n){let r={x:t.x+e.x,y:t.y+e.y};for(let e of[p(r,s),y(r,i)])if(null!==e){let t=Math.abs(e.x-r.x),n=Math.abs(e.y-r.y);t<h&&(h=t,a=r.x,c=e.x),n<f&&(f=n,u=r.y,d=e.y)}}return{snapThreshold:r,targetX:c,targetY:d,closestAnchorX:a,closestAnchorY:u}}(n,e);return r(tc,o),t=e,{x:tg((i=o).closestAnchorX,i.targetX,i.snapThreshold)-(i.closestAnchorX-t.x),y:tg(i.closestAnchorY,i.targetY,i.snapThreshold)-(i.closestAnchorY-t.y)}}},[]);(0,g.ES)(e,t)}(),(0,g.J0)(n,"magnetism"),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tb,{}),(0,o.jsx)(rw,{})]})),rN=A(e=>{let{components:t}=e;t.section(M.svgUI).add(rD)});function rM(e){return t=>{let{id:r,children:n}=t,i=V(e((0,L.vc)(tx.GN.attrs(r))));return i[j.rG]=r,(0,_.createElement)("path",i,n)}}let rR=rM(e=>{let{cx:t=0,cy:r=0,r:n=0,...i}=e;return n*=1,t*=1,r*=1,{...i,"data-type":"circle","data-cx":t,"data-cy":r,"data-r":n,d:["M"+t,r+"m"+-n,"0a"+n,n+" 0 1, 0 "+2*n,"0a"+n,n+" 0 1, 0 "+-(2*n),0].join(",")}}),rj=rM(e=>{let{cx:t=0,cy:r=0,rx:n=0,ry:i=0,...o}=e;t*=1,r*=1;let l=.5522847498*(n*=1),s=.5522847498*(i*=1);return{...o,"data-cx":t,"data-cy":r,"data-rx":n,"data-ry":i,d:["M"+(t-n),r,"C"+(t-n),r-s,t-l,r-i,t,r-i,"C"+(t+l),r-i,t+n,r-s,t+n,r,"C"+(t+n),r+s,t+l,r+i,t,r+i,"C"+(t-l),r+i,t-n,r+s,t-n,r,"Z"].join(" ")}}),rL=rM(e=>{let{x1:t=0,y1:r=0,x2:n=0,y2:i=0,...o}=e;return t*=1,r*=1,n*=1,i*=1,{...o,"data-type":"line","data-x1":t,"data-y1":r,"data-x2":n,"data-y2":i,d:["M"+t,r+"L"+n,i].join(" ")}}),rI=/[,\s]+/g,rO=rM(e=>{let{points:t="",...r}=e;return{...r,"data-type":"polyline",d:rP(t)}});function rP(e){let t=e.trim().split(rI),r=Array(Math.ceil(e.length/2)),n=1;r[0]="M"+t[0]+" "+t[1];for(let e=2,i=t.length;e<i;e+=2)r[n++]="L"+t[e]+" "+t[e+1];return r.join("")}let rU=rM(e=>{let{points:t="",...r}=e;return{...r,"data-type":"polygon",d:rP(t)+"Z"}}),rB=rM(e=>{let{x:t=0,y:r=0,width:n=0,height:i=0,...o}=e;return t*=1,r*=1,n*=1,i*=1,{...o,"data-type":"rect","data-x":t,"data-y":r,"data-width":n,"data-height":i,d:["M"+t,r+"H"+(t+n),"V"+(r+i),"H"+t,"Z"].join(" ")}}),rG=A(e=>{let{getService:t}=e,r=t(J);for(let e in i){let t=i[e];"function"==typeof t&&r.add(e,{component:t,flags:S.O.SOLID_GRAPHICS|S.O.SHAPE})}});var rV=r(67092),rF=r(32132),rK=r(20913);function rz(e){return(t,r)=>(0,_.createElement)(e,t,r)}let rY=rz("circle"),rJ=rz("path"),rH=rz("ellipse"),rq=rz("rect"),rW=rz("line");rz("g");let r$="circle",rZ="rect",rQ="hdl-l noevent "+C,rX="hdl-c alt",r0={x:"x",y:"y"},r1=(e,t)=>{var r;let n=2*e.r,i=2*n+e.unitScale,l=e.data,s={"data-i":e.index,fill:"transparent",x:e.cx-n,y:e.cy-n,width:i,height:i};for(let e in l)s["data-"+e]=l[e];return(0,o.jsxs)("g",{transform:null===(r=e.transform)||void 0===r?void 0:r.toString(),children:[t||r2[e.type](e),(0,_.createElement)("rect",s)]},e.key)},r2={rect:e=>{let t=2*e.r+e.unitScale;return rq({className:e.className||"hdl-r",x:e.cx-e.r,y:e.cy-e.r,width:t,height:t})},circle:e=>rY({className:e.className||"hdl-c",cx:e.cx,cy:e.cy,r:e.r})},r5=e=>{let{command:t,index:r,transform:n,unitScale:i,handleSize:o}=e,l=r8(t.x,t.y,n);return r1({unitScale:i,key:r.toString(),index:r,type:rZ,data:r0,cx:l.x,cy:l.y,r:o})};function r8(e,t,r){return r?(0,tT.vo)({x:e,y:t},r):{x:e,y:t}}let r6={L:r5,M:r5,C:e=>{let{prevCommand:t,command:r,index:n,focusedIndex:i,focusedKey:l,transform:s,handleSize:a,showAll:u,unitScale:c}=e,d=r8(t.x,t.y,s),h=r8(r.x,r.y,s),f=r8(r.x1,r.y1,s),p=r8(r.x2,r.y2,s),g=r1({key:n+"-0",type:rZ,unitScale:c,index:n,data:r0,cx:h.x,cy:h.y,r:a}),y=[],v=n===i,m=n-1===i,x=n+1===i,b="x1"===l;return(u||x&&b||v&&!b)&&y.push(rW({key:n+"-l1",className:rQ,x1:p.x,y1:p.y,x2:h.x,y2:h.y}),r1({key:n+"-h1",type:r$,unitScale:c,index:n,cx:p.x,cy:p.y,r:a,data:{x:"x2",y:"y2"}})),(u||m&&("x2"===l||"x"===l)||v&&b)&&y.push(rW({key:n+"-l2",className:rQ,x1:d.x,y1:d.y,x2:f.x,y2:f.y}),r1({key:n+"-h2",type:r$,unitScale:c,index:n,cx:f.x,cy:f.y,r:a,data:{x:"x1",y:"y1"}})),y.push(g),(0,o.jsx)(o.Fragment,{children:y})},Q:e=>{let{index:t,focusedIndex:r,prevCommand:n,command:i,transform:l,handleSize:s,unitScale:a}=e,u=r8(n.x,n.y,l),c=r8(i.x,i.y,l),d=r8(i.x1,i.y1,l),h=r1({key:t+"-0",type:rZ,unitScale:a,index:t,cx:c.x,cy:c.y,r:s,data:r0});return t!==r&&t!==r-1&&t!==r+1?(0,o.jsx)(o.Fragment,{children:h}):(0,o.jsxs)(o.Fragment,{children:[rW({key:t+"-l1",className:rQ,x1:u.x,y1:u.y,x2:d.x,y2:d.y}),rW({key:t+"-l2",className:rQ,x1:d.x,y1:d.y,x2:c.x,y2:c.y}),r1({key:t+"-h1",type:r$,unitScale:a,index:t,cx:d.x,cy:d.y,r:s,data:{x:"x1",y:"y1"}}),h]})},T:e=>{let{index:t,focusedIndex:r,prevCommand:n,command:i,transform:l,handleSize:s,unitScale:a}=e,u=r8(n.x,n.y,l),c=(0,tT.U3)(-1,-1,u.x,u.y),d=r8(n.x1,n.y1,(0,tT.wO)(c,l)),h=r8(n.x1,n.y1,l),f=r8(i.x,i.y,l),p=r1({key:t+"-0",type:rZ,unitScale:a,index:t,cx:f.x,cy:f.y,r:s,data:r0});return t===r||t-1===r?(0,o.jsxs)(o.Fragment,{children:[rW({key:t+"-l1",className:rQ,transform:c,x1:u.x,y1:u.y,x2:h.x,y2:h.y}),rW({key:t+"-l2",className:rQ,x1:d.x,y1:d.y,x2:f.x,y2:f.y}),r1({key:t+"-h1",type:r$,unitScale:a,index:t,cx:h.x,cy:h.y,r:s,transform:c,data:{prev:!0,x:"x1",y:"y1"}}),r1({key:t+"-h2",type:rZ,unitScale:a,index:t,cx:f.x,cy:f.y,r:s,data:{x:"x",y:"y"}}),p]}):(0,o.jsx)(o.Fragment,{children:p})},S:e=>{let{index:t,focusedIndex:r,focusedKey:n,prevCommand:i,command:l,transform:s,handleSize:a,unitScale:u}=e,c=r8(i.x,i.y,s),d=(0,tT.U3)(-1,-1,c.x,c.y),h=r8(l.x,l.y,s),f=r8(l.x2,l.y2,s),p=r8(i.x2,i.y2,s),g=r1({key:t+"-0",type:rZ,unitScale:u,index:t,cx:h.x,cy:h.y,r:a,data:r0});return t===r?(0,o.jsxs)(o.Fragment,{children:[rW({key:t+"-l1",className:rQ,x1:h.x,y1:h.y,x2:f.x,y2:f.y}),r1({key:t+"-h1",type:r$,unitScale:u,index:t,cx:f.x,cy:f.y,r:a,data:{x:"x2",y:"y2"}}),g]}):t-1===r&&("x"===n||"x2"===n)?(0,o.jsxs)(o.Fragment,{children:[rW({key:t+"-l2",className:rQ,transform:d,x1:p.x,y1:p.y,x2:c.x,y2:c.y}),r1({key:t+"-h2",type:r$,unitScale:u,index:t,cx:p.x,cy:p.y,r:a,transform:d,data:{x:"x2",y:"y2",prev:!0}}),g]}):(0,o.jsx)(o.Fragment,{children:g})},A:e=>{let{index:t,focusedIndex:r,prevCommand:n,command:i,transform:l,unitScale:s,handleSize:a}=e,u=r8(i.x,i.y,l),c=function(e,t){return{x:(t.x+e.x)*.5,y:(t.y+e.y)*.5}}(i,n),d=r8(c.x,c.y,l),h=(0,tT.Jl)(i.xAxisRotation,d.x,d.y),f=(0,tT.vo)(c,(0,tT.Wg)(l||(0,tT.D_)(),(0,tT.iQ)(i.rx,i.ry))),p=f.y-2*i.ry,g=f.x-2*i.rx,y=r1({key:t+"-0",type:rZ,unitScale:s,index:t,cx:u.x,cy:u.y,r:a,data:r0});if(t!==r&&t-1!==r)return(0,o.jsx)(o.Fragment,{children:y});let v=d.x,m=d.y;return(0,o.jsxs)(o.Fragment,{children:[rW({key:t+"-l1",className:"hdl-l noevent alt "+C,transform:h,x1:v,y1:p,x2:v,y2:p-30}),r1({key:t+"-h1",className:rX+" fl-c-rotate",type:r$,unitScale:s,index:t,transform:h,cx:v,cy:p-30,r:a,data:{r:"xAxisRotation","origin-x":c.x,"origin-y":c.y,"origin-r":i.xAxisRotation}}),rH({key:t+"-e1",className:"hdl-e alt "+C,transform:h,cx:v,cy:m,rx:Math.abs(i.rx),ry:Math.abs(i.ry)}),rJ({key:t+"-p1","fill-rule":"evenodd",d:function(e,t,r,n){var i;return["M",e,",",t,"m",-r,",0 ","a",r,",",r," 0 1,0 ",2*r,",0","a",r,",",r," 0 1,0 ",-(2*r),",0Z"].join("")+["M",e,",",t,"m",-(i=r-n),",0 ","a",i,",",i," 0 1,0 ",2*i,",0Z"].join("")}(v,m,a,s),transform:i.sweep?void 0:(0,tT.U3)(1,-1,v,m),className:rX}),r1({key:t+"-h2",type:r$,index:t,unitScale:s,cx:v,cy:m,r:a,data:{toggle:"sweep"}}),r1({key:t+"-h3",type:r$,unitScale:s,className:rX,index:t,transform:h,cx:g,cy:m,r:a,data:{x:"rx","offset-x":-c.x,multi:-1}}),r1({key:t+"-h4",className:rX,type:r$,unitScale:s,index:t,transform:h,cx:f.x,cy:m,r:a,data:{x:"rx","offset-x":c.x}}),r1({className:rX,type:r$,unitScale:s,key:t+"-h5",index:t,cx:v,cy:f.y,r:a,transform:h,data:{y:"ry","offset-y":c.y}}),r1({index:t,key:t+"-h6",className:rX,type:r$,unitScale:s,transform:h,cx:v,cy:p,r:a,data:{y:"ry","offset-y":-c.y,multi:-1}}),y]})}},r3=()=>{let e=(0,L.vc)(er.yo.$G),t=(0,L.vc)(rF._.IR),r=5*e,n=(0,L.vc)(rF._._G),i=(0,L.vc)(rF._.yr)||t.length<3,l=(0,L.vc)(e3.fJ.absoluteTransform),s=null==n?void 0:n.commandIndex,a=null==n?void 0:n.commandKey;return(0,o.jsx)(o.Fragment,{children:t.map((n,o)=>{let u=r6[n.code];return u?(0,_.createElement)(u,{key:o,index:o,focusedIndex:s,focusedKey:a,showAll:i,command:n,prevCommand:t[o-1],nextCommand:t[o+1],unitScale:e,transform:l,handleSize:r}):null})})},r9=()=>{let e=(0,g.$j)(!0),t=(0,L.lZ)(rF._.VS),r=(0,t3.OW)(),n=(0,L.Zs)(e=>{let{set:t,snapshot:r}=e;return e=>{let n=r.getLoadable(rF._.ew).getValue();n&&t(e3.fJ.computedAttrs,{[n]:null!=e?e:r.getLoadable(rF._.mj).getValue()})}},[]),i=(0,L.E0)(g.tg.currentBehavior),o=(0,L.Zs)(e=>{let{snapshot:t}=e;return()=>({activeHandle:t.getLoadable(rF._.VS).getValue(),transform:t.getLoadable(e3.fJ.absoluteTransform).getValue()})},[]),l=(0,L.Zs)(e=>{let{set:t,snapshot:r}=e;return e=>{let n=r.getLoadable(rF._.VS).getValue();n&&t(rF._.IR,t=>{let r=t.slice(),i=n.index;if(i<0)return t;let o=r[i],l=r[i+1],s={...o};if(null!=n.propRotate?s[n.propRotate]=180-t6({x:n.originX,y:n.originY},e)+n.originRotate:null!=n.propToggle?s[n.propToggle]=!s[n.propToggle]:(void 0!==n.propX&&(s[n.propX]=-(n.offsetX||0)+e.x*n.multiplier),void 0!==n.propY&&(s[n.propY]=-(n.offsetY||0)+e.y*n.multiplier)),"x"===n.propX||"y"===n.propY){let t=e.x-o.x,n=e.y-o.y;if("x2"in s&&(s.x2+=t),"y2"in s&&(s.y2+=n),l){let e={...l};"x1"in e&&(e.x1+=t),"y1"in e&&(e.y1+=n),r[i+1]=e}}return r[i]=s,r})}},[]);return(0,eb.useEvent)(e.onStart,(0,_.useCallback)(e=>{t(function(e){let t,r,n,i,o;let l=e.target,s=parseInt(l.getAttribute("data-i")||"");if(isNaN(s))return null;let a=null!=l.getAttribute("data-prev"),u=l.getAttribute("data-r")||void 0,c=l.getAttribute("data-toggle")||void 0;void 0!==u?(n=+(l.getAttribute("data-origin-x")||0),i=+(l.getAttribute("data-origin-y")||0),o=+(l.getAttribute("data-origin-r")||0)):(t=l.getAttribute("data-x")||void 0,r=l.getAttribute("data-y")||void 0);let d=+(l.getAttribute("data-offset-x")||0),h=+(l.getAttribute("data-offset-y")||0),f=l.getAttribute("data-multi");return{index:a?s-1:s,propX:t,propY:r,propRotate:u,propToggle:c,originRotate:o,originX:n,originY:i,offsetX:d,offsetY:h,multiplier:null!==f?+f:1,handleTransform:(0,rK.Q)(l.parentNode)||tT.uq.Default}}(e.sourceEvent))},[t])),(0,eb.useEvent)(e.onMove,(0,_.useCallback)(e=>{let{position:t}=e,{activeHandle:r,transform:n}=o();if(null==r)return;let i=(0,tT.vo)(t,(0,tT.DI)(r.handleTransform));n&&(i=(0,tT.vo)(i,(0,tT.DI)(n))),l(i)},[l,o])),(0,eb.useEvent)(e.onEnd,(0,_.useCallback)(()=>{let{activeHandle:e}=o();if(!e){i();return}e.propToggle&&l({x:0,y:0}),n(),t(null),r()},[l,t,r,o,n,i])),null},r4=(0,et.Ay)(e=>(0,o.jsxs)("g",{...e,children:[(0,o.jsx)(r7,{}),(0,o.jsx)(r3,{}),(0,o.jsx)(r9,{})]}))(e=>{let{theme:t}=e,r=t.vars.palette.primary.main,n=t.vars.palette.secondary.main,i=t.vars.palette.neutral;return{".hdl-r":{fill:r,shapeRendering:"crispEdges"},".hdl-c":{fill:r,"&.alt":{fill:n},"&.disabled":{fill:i}},".hdl-e":{pointerEvents:"none",fill:"none",stroke:r,strokeDasharray:"10 10","&.alt":{stroke:n}},".hdl-l":{pointerEvents:"none",stroke:r,"&.alt":{stroke:n},"&.disabled":{stroke:i}}}}),r7=(0,et.Ay)(e=>{let t=(0,L.vc)(e3.fJ.absoluteTransform),r=(0,L.vc)(rF._.mj);return(0,o.jsx)("path",{...e,className:tC(C,e.className),d:r,transform:(0,tT.Lj)(t),fill:"none"})})(e=>{let{theme:t}=e;return{stroke:t.vars.palette.primary.main}}),ne=(0,L.gD)({key:"canEditPathState",get:e=>{let{get:t}=e,r=t(e3.fJ.type);return"path"===r||r===j.Od}}),nt=()=>{let e=(0,tO.c3)("editor.commands"),t=(0,L.vc)(e3.fJ.type),r=(0,L.vc)(e3.fJ.current),n=(0,L.vc)(ne);return t!==j.Od||r.length>1?null:(0,o.jsx)(tP,{priority:2,children:()=>(0,o.jsx)(tF,{label:e("editPath"),handler:rV.editSelectedPath,disabled:!n})})},nr="pathEditor",nn=()=>((0,g.J0)(rV,nr),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.nS,{keys:[nr],component:r4}),(0,o.jsx)(nt,{})]})),ni=A(e=>{let{components:t,commands:r,events:n,stateHistory:i}=e;t.section(M.svgUI).add(nn),i.register(rF._.IR),n.on("cleanup",()=>{r.send(tS.clear)})});var no=r(86032),nl=r(13583),ns=r(7606);let na=e=>{let{children:t}=e,r=(0,L.vc)(k.K6.rE).current,n=(0,x.k)(),i=(0,no.s)(),o=(0,_.useCallback)(e=>{n.changed()&&e.prevent()},[n]);return(0,_.useEffect)(()=>(0,ns.ZX)(o).dispose,[o]),(0,_.useEffect)(()=>(0,nl.E)(e=>{e.waitFor(async()=>{!e.prevented&&n.changed()&&!await i()&&e.prevent()})}).dispose,[o,i,n]),(0,_.useEffect)(()=>{n.set(r)},[r,n]),t};var nu=r(28748),nc=r(53651);let nd=e=>{let{children:t}=e,r=function(){let e=(0,tO.c3)("dialogs.dialogSaveReminder"),t=(0,p.qT)(),r=(0,nc.usePromptAction)(()=>({id:"saveReminder",title:e("title"),text:e("text"),actions:[{value:"save",label:e("save"),primary:!0},{value:null,label:e("cancel")}]}),[e]);return(0,_.useCallback)(async()=>{let e=await r();return!!e.value&&("save"!==e.value||!!await t(m.OJ))},[t,r])}(),[n,i]=(0,tJ.useDebounce)(),[o,l]=(0,_.useState)(!1),s=(0,L.vc)(k.K6.ik),a=(0,nu.useSession)(),u=!o&&s&&!a;return(0,_.useEffect)(()=>{let e=!0;return u&&n(async()=>{try{await r()}finally{e&&l(!0)}},9e5),()=>{e=!1,i()}},[u,r,n,i]),t},nh=()=>((0,g.J0)({saveFile:m.OJ},"project"),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(na,{}),(0,o.jsx)(nd,{})]}));var nf=r(14198);let np=A(e=>{let{getService:t,components:r}=e,n=t(k.Mw);r.section(M.svgContent).add(nh),n.register(nf.J.Uo)});var ng=r(31301),ny=r(25293),nv=r(9358),nm=r(93965),nx=r(12879),nb=r(6661),n_=r(46668),nw=r(58220),nS=r(60125),nE=r(20914),nk=r(21947),nA=r(84425),nC=r(50494),nT=r(1674),nD=r(2588),nN=r(1760);let nM=e=>(0,o.jsx)(nN.A,{viewBox:"0 -960 960 960",...e,children:(0,o.jsx)("path",{d:"M437.838-362.78q-33 0-56.5-23.5t-23.5-56.5v-400q0-33 23.5-56.5t56.5-23.5h400q33 0 56.5 23.5t23.5 56.5v400q0 33-23.5 56.5t-56.5 23.5zm0-80h400v-400h-400zm-160 160v80q-33 0-56.5-23.5t-23.5-56.5zm-80-80v-80h80v80zm0-160v-80h80v80zm0-160v-80h80v80zm160 480v-80h80v80zm160 0v-80h80v80zm160 0v-80h80v80zm-559.382 80.618v80q-33 0-56.5-23.5t-23.5-56.5zm-80-80v-80h80v80zm0-160v-80h80v80zm0-160v-80h80v80zm160 480v-80h80v80zm160 0v-80h80v80zm160 0v-80h80v80z",fill:"currentColor"})}),nR=e=>(0,o.jsx)(nN.A,{viewBox:"0 -960 960 960",...e,children:(0,o.jsx)("path",{d:"M124.633-38.456q-33 0-56.5-23.5t-23.5-56.5v-480h80v480h480v80zm160-240v80q-33 0-56.5-23.5t-23.5-56.5zm-80-80v-80h80v80zm0-160v-80h80v80zm80-160h-80q0-33 23.5-56.5t56.5-23.5zm80 480v-80h80v80zm160 0v-80h80v80zm160-80h80q0 33-23.5 56.5t-56.5 23.5zm-245.56-165.559v80q-33 0-56.5-23.5t-23.5-56.5zm-80-80v-80h80v80zm0-160v-80h80v80zm80-160h-80q0-33 23.5-56.5t56.5-23.5zm80 480v-80h80v80zm0-480v-80h80v80zm160 0v-80h80v80zm0 480v-80h80v80zm160-480v-80q33 0 56.5 23.5t23.5 56.5zm0 400h80q0 33-23.5 56.5t-56.5 23.5zm0-80v-80h80v80zm0-160v-80h80v80z",fill:"currentColor"})}),nj=nD.A,nL=nT.A,nI=e=>(0,o.jsx)(nN.A,{viewBox:"0 -960 960 960",...e,children:(0,o.jsx)("path",{d:"M560-199.82v-560l280 280zM400-200v-560L120-480Z",fill:"currentColor"})}),nO=e=>(0,o.jsx)(nN.A,{viewBox:"0 -960 960 960",...e,children:(0,o.jsx)("path",{d:"M760.09-559.91h-560l280-280zm-.18 160h-560l280 280z",fill:"currentColor"})}),nP=r(66382).A,nU=e=>(0,o.jsx)(nN.A,{viewBox:"0 -960 960 960",...e,children:(0,o.jsx)("path",{d:"m348-292-56-56 172-172H320v-80h280v280h-80v-144L348-292Zm412-188v-280H480v-80h360v360h-80ZM200-120q-33 0-56.5-23.5T120-200v-640h80v640h640v80H200Z",fill:"currentColor"})});var nB=r(42483),nG=r(41744),nV=r(9455);let nF=()=>{let e=(0,L.vc)(e3.fJ.current).length<=1,t=(0,p.qT)();return{disabled:e,alignLeft:(0,_.useCallback)(()=>t(tS.alignLeft),[t]),alignCenterX:(0,_.useCallback)(()=>t(tS.alignCenterX),[t]),alignRight:(0,_.useCallback)(()=>t(tS.alignRight),[t]),alignTop:(0,_.useCallback)(()=>t(tS.alignTop),[t]),alignCenterY:(0,_.useCallback)(()=>t(tS.alignCenterY),[t]),alignBottom:(0,_.useCallback)(()=>t(tS.alignBottom),[t])}},nK=()=>{let e=(0,p.qT)();return(0,_.useCallback)(()=>e(tS.remove),[e])},nz=()=>{let e=(0,p.qT)();return(0,_.useCallback)(()=>e(tS.duplicate),[e])},nY=()=>{let e=(0,p.qT)();return{flipHorizontally:(0,_.useCallback)(()=>e(tS.flipHorizontally),[e]),flipVertically:(0,_.useCallback)(()=>e(tS.flipVertically),[e])}},nJ=()=>{let e=(0,L.vc)(e3.fJ.current),t=(0,L.vc)(e3.fJ.isGrouped),r=(0,p.qT)(),n=1===e.length&&!t;return{grouped:t,disabled:n,group:(0,_.useCallback)(()=>r(tS.group),[r]),ungroup:(0,_.useCallback)(()=>r(tS.ungroup),[r])}},nH=()=>{let e=(0,p.qT)();return{moveToFront:(0,_.useCallback)(()=>e(tS.moveToFront),[e]),moveForward:(0,_.useCallback)(()=>e(tS.moveForward),[e]),moveBackwards:(0,_.useCallback)(()=>e(tS.moveBackwards),[e]),moveToBack:(0,_.useCallback)(()=>e(tS.moveToBack),[e])}},nq=e=>{e.stopPropagation()},nW=()=>"select"!==(0,L.vc)(g.tg.currentBehavior)?null:(0,o.jsx)(n6,{children:(0,o.jsxs)(n$,{onMouseDown:nq,onTouchStart:nq,children:[(0,o.jsx)(nZ,{}),(0,o.jsx)(nQ,{}),(0,o.jsx)(nX,{}),(0,o.jsx)(n0,{}),(0,o.jsx)(n1,{}),(0,o.jsx)(n2,{})]})}),n$=(0,et.Ay)(e=>{let{children:t,style:r,...n}=e,i=(0,_.useRef)(null),l=(0,L.vc)(nV.at.AN),s=(0,L.vc)(e3.Vw.HT),[a,u]=(0,_.useState)({x:0,y:0});return(0,_.useEffect)(()=>{let e=i.current;e&&u(function(e,t,r){let n={x:0,y:0};return e.top<t.top&&(n.y+=r.height+e.height),e.left<t.left&&(n.x+=t.left-e.left),e.right>t.right&&(n.x+=t.right-e.right),e.bottom>t.bottom&&(n.y+=t.bottom-e.bottom),n}(e.getBoundingClientRect(),l,s))},[l,s]),(0,o.jsx)("div",{...n,ref:i,style:{...r,"--offset-x":"".concat(a.x,"px"),"--offset-y":"".concat(a.y,"px")},children:(0,o.jsx)(nC.default,{gap:.5,direction:"row",children:t})})})(e=>{let{theme:t}=e;return{position:"absolute",top:"auto",bottom:"100%",left:"50%",transform:"translate(calc(-50% + var(--offset-x)), var(--offset-y))",padding:t.spacing(2),pointerEvents:"none",[t.breakpoints.up("sm")]:{padding:t.spacing(2,2,6)},"> .MuiStack-root":{px:2,py:1.5,pointerEvents:"auto",alignItems:"center",justifyContent:"center",minWidth:"230px",minHeight:"60px",borderRadius:"3px",color:t.vars.palette.neutral.main,background:t.vars.palette.neutral.contrastText,boxShadow:"0px 3px 6px #00000029"}}}),nZ=()=>{let e=(0,tO.c3)("editor.commands.align"),{disabled:t,alignLeft:r,alignCenterX:n,alignRight:i,alignTop:l,alignCenterY:s,alignBottom:a}=nF(),[u,c]=(0,_.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n5,{id:"align-button",tooltip:e("label"),disabled:t,icon:(0,o.jsx)(ny.A,{}),onClick:e=>{c(e.currentTarget)}}),(0,o.jsxs)(n8,{id:"align-menu",anchorEl:u,open:!!u,onClose:()=>{c(null)},MenuListProps:{"aria-labelledby":"align-button"},children:[(0,o.jsxs)(nA.A,{onClick:r,children:[(0,o.jsx)(ny.A,{}),e("align_left")]}),(0,o.jsxs)(nA.A,{onClick:n,children:[(0,o.jsx)(ng.A,{}),e("align_center")]}),(0,o.jsxs)(nA.A,{onClick:i,children:[(0,o.jsx)(nv.A,{}),e("align_right")]}),(0,o.jsxs)(nA.A,{onClick:l,children:[(0,o.jsx)(nb.A,{}),e("align_top")]}),(0,o.jsxs)(nA.A,{onClick:s,children:[(0,o.jsx)(nx.A,{}),e("align_middle")]}),(0,o.jsxs)(nA.A,{onClick:a,children:[(0,o.jsx)(nm.A,{}),e("align_bottom")]})]})]})},nQ=()=>{let e=(0,tO.c3)("editor.commands"),{moveToFront:t,moveForward:r,moveBackwards:n,moveToBack:i}=nH(),[l,s]=(0,_.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n5,{id:"order-button",tooltip:e("order"),icon:(0,o.jsx)(nS.A,{}),onClick:e=>{s(e.currentTarget)}}),(0,o.jsxs)(n8,{id:"order-menu",anchorEl:l,open:!!l,onClose:()=>{s(null)},MenuListProps:{"aria-labelledby":"order-button"},children:[(0,o.jsxs)(nA.A,{onClick:t,children:[(0,o.jsx)(nM,{}),e("moveFront")]}),(0,o.jsxs)(nA.A,{onClick:r,children:[(0,o.jsx)(nj,{}),e("moveForward")]}),(0,o.jsxs)(nA.A,{onClick:n,children:[(0,o.jsx)(nL,{}),e("moveBackwards")]}),(0,o.jsxs)(nA.A,{onClick:i,children:[(0,o.jsx)(nR,{}),e("moveBack")]})]})]})},nX=()=>{let e=(0,tO.c3)("editor.commands"),{flipHorizontally:t,flipVertically:r}=nY(),[n,i]=(0,_.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n5,{id:"flip-button",tooltip:e("flip"),icon:(0,o.jsx)(nE.A,{style:{fontSize:"26px"}}),onClick:e=>{i(e.currentTarget)}}),(0,o.jsxs)(n8,{id:"flip-menu",anchorEl:n,open:!!n,onClose:()=>{i(null)},MenuListProps:{"aria-labelledby":"flip-button"},children:[(0,o.jsxs)(nA.A,{onClick:t,children:[(0,o.jsx)(nI,{}),e("flipH")]}),(0,o.jsxs)(nA.A,{onClick:r,children:[(0,o.jsx)(nO,{}),e("flipV")]})]})]})},n0=()=>{let e=(0,tO.c3)("editor.commands"),{grouped:t,disabled:r,group:n,ungroup:i}=nJ();return t?(0,o.jsx)(n5,{tooltip:e("ungroup"),disabled:r,icon:(0,o.jsx)(nU,{}),onClick:i},"ungroup"):(0,o.jsx)(n5,{tooltip:e("group"),disabled:r,icon:(0,o.jsx)(nP,{}),onClick:n},"group")},n1=()=>{let e=(0,tO.c3)("editor.commands"),t=nz();return(0,o.jsx)(n5,{tooltip:e("duplicate"),icon:(0,o.jsx)(nw.A,{style:{fontSize:"22px"}}),onClick:t})},n2=()=>{let e=(0,tO.c3)("editor.commands"),t=nK();return(0,o.jsx)(n5,{tooltip:e("delete"),hoverColor:"error.main",icon:(0,o.jsx)(n_.A,{}),onClick:t})},n5=e=>{let{id:t,icon:r,tooltip:n,disabled:i=!1,hoverColor:l,onClick:s}=e;return(0,o.jsx)(nG.A,{arrow:!0,title:n,placement:"top",children:(0,o.jsx)("span",{children:(0,o.jsx)(nB.default,{id:t,disabled:i,onClick:s,sx:()=>({borderRadius:"50%",color:"inherit",p:.5,width:"30px",height:"30px","&:disabled":{color:"inherit",opacity:.25},...l&&!i?{transition:"color 0.2s","&:hover, &:focus, &:active":{color:l}}:{}}),children:r})})})},n8=e=>(0,o.jsx)(nk.A,{...e,onClick:t=>{var r;return null==e?void 0:null===(r=e.onClose)||void 0===r?void 0:r.call(e,t,"backdropClick")},sx:e=>{let{vars:t}=e;return{".MuiPaper-root":{color:t.palette.neutral.main,background:t.palette.neutral.contrastText},".MuiList-root":{py:2},".MuiMenuItem-root":{display:"flex",alignItems:"center",gap:1.5,px:2.5,py:1.5,fontWeight:600}}}}),n6=(0,et.Ay)(e=>{let{children:t,...r}=e,n=(0,L.vc)(e3.Vw.HT);return(0,L.vc)(e3.fJ.hasTarget)?(0,o.jsx)("div",{...r,style:{width:n.width,height:n.height,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")},children:t}):null})({position:"relative",pointerEvents:"none","& > *":{pointerEvents:"auto"}}),n3=A(e=>{let{components:t,commands:r,events:n,stateHistory:i}=e;t.section(M.svgUI).add(r_),t.section(M.htmlUI).add(nW,{suspense:!0}),i.register(e3.fJ.persistedState),n.on("cleanup",()=>{r.send(tS.clear)})});var n9=r(82481),n4=r(88977),n7=r(32993),ie=r(13883),it=r(70119);let ir="--ruler-height",ii="var("+ir+")",io="calc(100% - "+ii+")",il=e=>{let{children:t}=e,r=(0,L.vc)(er.cm.Sn),n=(0,L.vc)(er.cm.wk),i=(0,ie.A)(),l=(0,_.useRef)(null),s=(0,n7.useElementRect)(l);return(0,o.jsxs)(is,{ref:l,style:{[ir]:(r?n.rulerHeight:0)+"px"},children:[r?(0,o.jsx)(iu,{...n,width:s.width,height:s.height,stroke:i.palette.Viewport.discreteText,backgroundColor:i.palette.Viewport.main}):null,(0,o.jsx)(ia,{children:t})]})},is=(0,et.Ay)("div")({width:"100%",height:"100%",position:"relative",flex:1}),ia=(0,et.Ay)("div")({top:ii,left:ii,width:io,height:io,position:"relative"}),iu=e=>{let t=(0,_.useRef)(null),r=(0,_.useRef)(null);return(0,_.useEffect)(()=>{if(r.current){let e=t.current=new it.b({container:r.current});return()=>{e.dispose()}}},[]),(0,_.useEffect)(()=>{t.current&&(t.current.setProps(e),t.current.render())},[e]),(0,o.jsx)("div",{ref:r})};var ic=r(43702),id=r(27968),ih=r(61069);let ip=e=>{let{client:t,style:r={display:"block"},host:n,dataAdSlot:i,format:l="",fullWidthResponsive:s=!0,personalized:a=!1}=e,u=(0,ih.nW)({src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=".concat(t),async:!0,crossOrigin:"anonymous"});return(0,_.useEffect)(()=>{try{u&&((window.adsbygoogle=window.adsbygoogle||[]).requestNonPersonalizedAds=+!a,(window.adsbygoogle=window.adsbygoogle||[]).push({}))}catch(e){}},[u,a]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("ins",{className:"adsbygoogle",style:r,"data-ad-client":t,"data-ad-host":n,"data-ad-slot":i,"data-ad-format":l,"data-full-width-responsive":s})})};var ig=r(95336),iy=r(39409),iv=r(2578),im=r(28537),ix=r(53008),ib=r(38719),i_=r(69807),iw=r(17191);let iS=()=>{let e=(0,L.vc)(e1),t=(0,p.qT)();return{active:e,toggle:(0,_.useCallback)(()=>t(th),[t])}},iE=()=>{let e=(0,L.vc)(to),t=(0,p.qT)();return{active:e,toggle:(0,_.useCallback)(()=>t(tp),[t])}},ik=()=>{let e=(0,L.vc)(er.cm.Sn),t=(0,p.qT)();return{active:e,toggle:(0,_.useCallback)(()=>t(n4.toggleRuler),[t])}},iA=()=>{let e=(0,L.vc)(er.yo.hs),t=(0,p.qT)();return{value:e,update:(0,_.useCallback)(e=>t(n4.zoom,{delta:e}),[t])}},iC=e=>{e.stopPropagation()},iT=()=>(0,o.jsxs)(nC.default,{gap:1.5,direction:"row","data-mui-color-scheme":"dark",onMouseDown:iC,onTouchStart:iC,sx:{position:"relative",display:{xs:"none",md:"flex"}},children:[(0,o.jsx)(iD,{}),(0,o.jsx)(iN,{}),(0,o.jsx)(iM,{}),(0,o.jsx)(iR,{})]}),iD=()=>{let e=(0,tO.c3)("editor.commands"),{value:t,update:r}=iA();return(0,o.jsxs)(nC.default,{gap:2.5,direction:"row",sx:e=>{let{vars:t}=e;return{background:t.palette.background.paper,borderRadius:"5px",width:"48px",py:1,px:3,minWidth:"240px",alignItems:"center",justifyContent:"center"}},children:[(0,o.jsx)(iw.default,{sx:{fontSize:"0.6875rem",fontWeight:800,letterSpacing:"0.82px",lineHeight:"initial",textTransform:"uppercase",color:"text.primary"},children:e("zoom")}),(0,o.jsx)(i_.Ay,{"aria-label":"Zoom",getAriaValueText:e=>"".concat(e),valueLabelDisplay:"auto",value:t,onChange:(e,n)=>{r(("object"==typeof n?n[0]:n)-t)},step:.1,min:.5,max:2,sx:{maxWidth:"110px",".MuiSlider-thumb":{width:"17px",height:"17px"},".MuiSlider-rail":{height:"7px",opacity:1,backgroundColor:"text.primary"},".MuiSlider-track":{height:"7px"}}})]})},iN=()=>{let e=(0,tO.c3)("editor.commands"),{active:t,toggle:r}=iS();return(0,o.jsx)(ij,{icon:(0,o.jsx)(im.A,{}),tooltip:e(t?"disable_grid":"enable_grid"),active:t,onClick:r})},iM=()=>{let e=(0,tO.c3)("editor.commands"),{active:t,toggle:r}=ik();return(0,o.jsx)(ij,{icon:(0,o.jsx)(ix.A,{style:{fontSize:"28px"}}),tooltip:e(t?"disable_ruler":"enable_ruler"),active:t,onClick:r})},iR=()=>{let e=(0,tO.c3)("editor.commands"),{active:t,toggle:r}=iE();return(0,o.jsx)(ij,{icon:(0,o.jsx)(iv.A,{style:{fontSize:"32px"}}),tooltip:e(t?"disable_guides":"enable_guides"),active:t,onClick:r})},ij=e=>{let{icon:t,tooltip:r,active:n,onClick:i}=e;return(0,o.jsx)(nG.A,{arrow:!0,title:r,placement:"top",children:(0,o.jsx)(ib.A,{onClick:i,sx:e=>{let{vars:t}=e;return{aspectRatio:"1/1",borderRadius:"5px",background:t.palette.background.paper,width:"48px",height:"100%",color:n?t.palette.primary.main:"text.primary"}},children:t})})},iL=()=>{let e="ca-pub-9736925360253703",t=(0,id.G)("CookieScriptConsent"),r=t.value||"",n=r&&JSON.parse(r),i=(0,ic.FK)(),l=(0,iy.L)(),s=(0,ra.N)(),a=!t.loading&&!i&&!l.isPremium&&!s&&e;return(0,o.jsxs)(ig.default,{component:"footer",sx:{p:{md:2},display:"flex",alignItems:"center",background:e=>{let{vars:t}=e;return t.palette.Viewport.main},borderTop:"1px solid",borderTopColor:e=>{let{vars:t}=e;return t.palette.background.paper}},children:[(0,o.jsx)(iT,{}),a&&(0,o.jsx)(ip,{client:e,dataAdSlot:"9243976414",fullWidthResponsive:!0,personalized:(null==n?void 0:n.action)==="accept",style:{display:"inline-block",width:"400px",height:"100%",margin:"5px 40px",borderLeft:"1px solid #e4e8ef"}})]})},iI=e=>{let{children:t}=e;return(0,o.jsx)(iO,{children:t})},iO=(0,et.Ay)("div")({position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none","& > *":{pointerEvents:"auto"}});(0,et.Ay)("pattern")({circle:{fill:"#d3dad8"},rect:{fill:"#fff"}});let iP=()=>{let e=(0,L.vc)(g.tg.id),t=(0,L.vc)(er.yo.$G),r="#"+e+" .";return(0,o.jsxs)("style",{children:[r+C+"{stroke-width:"+t+"}",r+T+"{stroke-width:"+2*t+"}",r+"_sd{stroke-dasharray:"+(10*t).toFixed(3)+" "+(5*t).toFixed(3)+"}"]})},iU=e=>{let{width:t,height:r,children:n}=e,i=(0,_.useRef)(null),[l,s]=(0,L.L4)(er.at.AN),a=(0,L.vc)(er.at.di),u=(0,L.Zs)(e=>{let{snapshot:t}=e;return()=>t.getLoadable(er.yo.hs).getValue()},[]),c=!!(null==l?void 0:l.width),d=(0,p.qT)();return(0,_.useLayoutEffect)(()=>{if(i.current){let e=i.current.getBoundingClientRect();s((0,n7.createElementRect)(e))}},[i,s,t,r]),(0,_.useEffect)(()=>{c&&d(n4.focusCanvas)},[d,c]),(0,_.useEffect)(()=>{let e=e=>{if(e.preventDefault(),e.stopPropagation(),e.metaKey||e.ctrlKey||e.altKey){let t=-.01*Math.min(Math.max(e.deltaY,-10),10);d(n4.zoom,t*u())}else{let t=1/u();d(n4.move,{x:e.deltaX*t,y:e.deltaY*t})}},t=i.current;if(t)return t.addEventListener("wheel",e,{passive:!1}),()=>{t.removeEventListener("wheel",e)}},[i,d,u]),function(e){let t=(0,g.YO)(),r=(0,L.Zs)(t=>{let{snapshot:r}=t;return t=>{let n=e.current;if(!n)return t;let i=n.getBoundingClientRect(),o=r.getLoadable(er.at.di).getValue(),l=r.getLoadable(er.yo.$G).getValue();return{x:(t.x-i.left)*l+o.x,y:(t.y-i.top)*l+o.y}}},[e]);(0,_.useLayoutEffect)(()=>t.addLocalConstraint(r).dispose,[r,t])}(i),(0,o.jsxs)(iB,{ref:i,viewBox:a.x+" "+a.y+" "+a.width+" "+a.height,style:{width:t,height:r},children:[(0,o.jsx)(iP,{}),(0,o.jsx)(iG,{}),n]})},iB=(0,et.Ay)("svg")({width:"100%",height:"100%",display:"block",flex:1,"> svg":{overflow:"visible"}}),iG=()=>{let{width:e,height:t}=(0,L.vc)(er.yo.Tp);return(0,o.jsx)(iV,{fill:"#fff",x:0,y:0,width:e,height:t})},iV=(0,et.Ay)("rect")({stroke:"#d3dad8"}),iF=()=>{let e=(0,_.useRef)(null);return(0,g.J0)(n4,"viewport"),(0,o.jsxs)(iK,{ref:e,children:[(0,o.jsxs)(il,{children:[(0,o.jsx)(n9.Ay,{children:e=>{let{width:t,height:r}=e;return(0,o.jsxs)(iU,{width:t,height:r,children:[(0,o.jsx)(g.T0,{name:M.svgBackground}),(0,o.jsx)(g.T0,{name:M.svgContent}),(0,o.jsx)(g.T0,{name:M.svgUI})]})}}),(0,o.jsx)(iI,{children:(0,o.jsx)(g.T0,{name:M.htmlUI})})]}),(0,o.jsx)(iH,{}),(0,o.jsx)(iL,{})]})},iK=(0,et.Ay)("div")({display:"flex",flexDirection:"column",width:"100%",height:"100%"}),iz=()=>{let e=(0,_.useRef)(null),t=(0,g.$j)(!0);return(0,eb.useEvent)(t.onStart,(0,L.Zs)(t=>{let{snapshot:r}=t;return t=>{let{isTertiary:n,cancel:i}=t;n?e.current=r.getLoadable(er.at.cY).getValue():i()}},[])),(0,eb.useEvent)(t.onMove,(0,L.Zs)(t=>{let{snapshot:r,set:n}=t;return t=>{var i;let{}=t,o=r.getLoadable(er.yo.$G).getValue(),[l,s]=r.getLoadable(g.$C.clientCursorRange).getValue(),a=null!==(i=e.current)&&void 0!==i?i:e.current=r.getLoadable(er.at.cY).getValue();n(er.at.cY,{x:a.x+(s.x-l.x)*o,y:a.y+(s.y-l.y)*o})}},[])),null},iY=(0,L.gD)({key:"viewportScaleAndOffset",get:e=>{let{get:t}=e;return{scale:t(er.yo.hs),offset:t(er.at.cY)}},set:(e,t)=>{let{set:r}=e;t instanceof L.nO||(r(er.yo.hs,t.scale),r(er.at.cY,t.offset))}}),iJ=()=>{let e=(0,g.$j)(!0),t=(0,L.E0)(g.tg.hasBehavior("pinch")),r=(0,_.useRef)({initialScale:0,initialOffset:e_.oB,initialMidPoint:e_.oB,initialSnapshot:null,initialPoints:[]});return(0,eb.useEvent)(e.onStart,(0,L.Zs)(e=>{let{snapshot:t,set:n}=e;return e=>{let{pointCount:i,points:[o,l],cancel:s}=e;2!==i?(s(),r.current.initialSnapshot=t):(r.current.initialScale=t.getLoadable(er.yo.hs).getValue(),r.current.initialOffset=t.getLoadable(er.at.cY).getValue(),r.current.initialPoints=[o.client,l.client],r.current.initialMidPoint=(0,t8.gG)(o.client,l.client),n(g.tg.currentBehavior,"pinch"))}},[])),(0,eb.useEvent)(e.onMove,(0,L.Zs)(e=>{let{snapshot:t,set:n,gotoSnapshot:i}=e;return e=>{let{points:[{client:o},{client:l}]}=e,s=r.current,[a,u]=s.initialPoints;if(null!==s.initialSnapshot){let e=t.map(e=>{let{set:t}=e;t(g.tg.currentBehavior,"pinch")});s.initialSnapshot=null,i(e)}else{let e=t.getLoadable(er.yo.$G).getValue(),i=s.initialOffset,c=s.initialMidPoint,d=(0,t8.gG)(o,l),h=(0,t8.Sl)(o,l)/(0,t8.Sl)(a,u);n(iY,{scale:r.current.initialScale*h,offset:{x:i.x+(c.x-d.x)*e,y:i.y+(c.y-d.y)*e}})}}},[])),(0,eb.useEvent)(e.onEnd,(0,_.useCallback)(()=>{r.current.initialScale=0,r.current.initialSnapshot=null,t()},[t])),null},iH=()=>(0,L.vc)(g.$C.touch)?(0,o.jsx)(iJ,{}):(0,o.jsx)(iz,{}),iq=A(e=>{let{components:t}=e;t.section(eD.h.content).add(iF)}),iW=()=>()=>({activate:e=>{(0,w.IQ)(e,[np,eY,eX,iq,em,n3,rN,ni,rG,eT])}});var i$=r(27145);let iZ=()=>(0,p.ie)({},[iW()]),iQ=(0,i$.xk)("svgx-editor-options"),iX=e=>{let{children:t}=e,r=(0,p.qT)(),n=(0,b.S)(iQ);return(0,_.useEffect)(()=>{n&&r(m.n_,n)},[n,r]),t},i0=(0,v.default)(()=>Promise.resolve().then(r.bind(r,7968)),{loadableGenerated:{webpack:()=>[7968]},ssr:!1}),i1=(0,l.i1)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"svgx-editor",modules:{[iQ.name]:iQ(()=>e),"svgx-editor":(0,c.G)(iZ)},components:[{component:g.ol,outlet:s.RootOutlet,wrap:!0},{component:iX,outlet:s.RootOutlet,wrap:!0},{component:i0,outlet:s.MainContentOutlet}],onConfigure:e=>{let{get:t}=e;if(d.Bd){let{initializeSnapshot:e}=t(iZ).getService(p.qv);t(y.n).registerInitializer(e)}}}});var i2=r(49840),i5=r(36780),i8=r(68229),i6=r(72290);let i3=e=>{let{children:t,keybindings:r,options:n={}}=e;return("local"===n.fileSource||"ai"===n.fileSource)&&(n.fileData=(0,i2.KT)()),(0,o.jsx)(i5.DesignerRoot,{options:{keybindings:r},plugins:[f(),i1(n),u()],children:(0,o.jsx)(_.Suspense,{fallback:(0,o.jsx)(i9,{}),children:t})})},i9=()=>{let e={display:"flex",alignItems:"center",justifyContent:"center"};return(0,o.jsx)(ig.default,{sx:e,position:"fixed",width:"100%",height:"100%",children:(0,o.jsx)(i6.A,{component:ig.default,sx:{...e,width:80,height:80,borderRadius:40},children:(0,o.jsx)(i8.A,{})})})}},74507:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});let n=new(r(98882)).c(e=>e.complete())},74534:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(71096),i=r(54568),o=r(51897),l=r(7620),s=r(89303);class a{section(e){let t=this._sections.get(e);return null==t&&this._sections.set(e,t=new u),t.scopeId=this.scopeId,t}getMiddlewares(){return Array.from(this._middlewares)}dispose(){this._sections.forEach(e=>{e.dispose()}),this._sections.clear(),this._middlewares.clear()}constructor({key:e},t){this._middlewares=new Set,this._sections=new Map,this.defaultSection="root",this.key=e,this.scopeId=t}}a=(0,n.Cg)([o.e,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",["undefined"==typeof ServiceProps?Object:ServiceProps,String])],a);class u{toArray(){return this._items.slice()}add(e){let{suspense:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof e)throw Error("Invalid component renderer");let r=this.scopeId;if(t){let t=e;e=()=>(0,i.jsx)(l.Suspense,{fallback:null,children:(0,i.jsx)(t,{})})}return this._items.push(()=>(0,i.jsx)(s.h.Provider,{value:r,children:(0,i.jsx)(e,{})})),this}dispose(){this._items=[],this.map=null}constructor(){this._items=[],this.map=this._items.map.bind(this._items),this.forEach=this._items.forEach.bind(this._items)}}},76222:(e,t,r)=>{"use strict";let n,i;r.d(t,{OS:()=>v,fr:()=>y,uF:()=>f,zx:()=>p});var o,l=r(24338);let s=!1,a=!1,u=!1,c=!1,d="en",h=void 0!==l&&void 0!==l.versions&&void 0!==l.versions.electron&&"renderer"===l.type;if("object"!=typeof navigator||h){if("object"==typeof l){s="win32"===l.platform,a="darwin"===l.platform,l.platform,d="en";let e=l.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e),r=t.availableLanguages["*"];t.locale,d=r||"en",t._translationsConfigFile}catch(e){}}}else s=(i=navigator.userAgent).indexOf("Windows")>=0,a=i.indexOf("Macintosh")>=0,i.indexOf("Linux"),d=navigator.language;let f=s,p=a,g=d;!function(e){e.value=function(){return g},e.isDefaultVariant=function(){return 2===g.length?"en"===g:g.length>=3&&"e"===g[0]&&"n"===g[1]&&"-"===g[2]},e.isDefault=function(){return"en"===g}}(o||(o={})),"object"==typeof self?self:"object"==typeof r.g&&r.g;var y=function(e){return e[e.Windows=1]="Windows",e[e.Macintosh=2]="Macintosh",e[e.Linux=3]="Linux",e}({});let v=a?2:s?1:3},76698:(e,t,r)=>{"use strict";r.d(t,{Tg:()=>p});var n=r(96789),i=r(99986),o=r(98882),l=r(54263),s=r(4581),a=r(77621),u=r(64787),c=r(19614),d=r(30297),h=r(73036),f=r(55328);function p(e){if(e instanceof o.c)return e;if(null!=e){var t,r,p,y,v;if((0,l.l)(e)){return t=e,new o.c(e=>{let r=t[f.s]();if((0,d.T)(r.subscribe))return r.subscribe(e);throw TypeError("Provided object does not correctly implement Symbol.observable")})}if((0,n.X)(e)){return r=e,new o.c(e=>{for(let t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}if((0,i.y)(e)){return p=e,new o.c(e=>{p.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,h.m)})}if((0,s.T)(e))return g(e);if((0,u.x)(e)){return y=e,new o.c(e=>{for(let t of y)if(e.next(t),e.closed)return;e.complete()})}if((0,c.U)(e)){return v=e,g((0,c.C)(v))}}throw(0,a.L)(e)}function g(e){return new o.c(t=>{y(e,t).catch(e=>t.error(e))})}async function y(e,t){for await(let r of e)if(t.next(r),t.closed)return;t.complete()}},76836:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var n=r(98882),i=r(98233);let o=(0,r(56883).L)(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var l=r(50200),s=r(63272);class a extends n.c{lift(e){let t=new u(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new o}next(e){(0,s.Y)(()=>{if(this._throwIfClosed(),!this.isStopped)for(let t of(this.currentObservers||(this.currentObservers=Array.from(this.observers)),this.currentObservers))t.next(e)})}error(e){(0,s.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){(0,s.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:t,isStopped:r,observers:n}=this;return t||r?i.Kn:(this.currentObservers=null,n.push(e),new i.yU(()=>{this.currentObservers=null,(0,l.o)(n,e)}))}_checkFinalizedStatuses(e){let{hasError:t,thrownError:r,isStopped:n}=this;t?e.error(r):n&&e.complete()}asObservable(){let e=new n.c;return e.source=this,e}constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}}a.create=(e,t)=>new u(e,t);class u extends a{next(e){var t,r;null===(r=this.destination)||void 0===r||null===(t=r.next)||void 0===t||t.call(r,e)}error(e){var t,r;null===(r=this.destination)||void 0===r||null===(t=r.error)||void 0===t||t.call(r,e)}complete(){var e,t;null===(t=this.destination)||void 0===t||null===(e=t.complete)||void 0===e||e.call(t)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:i.Kn}constructor(e,t){super(),this.destination=e,this.source=t}}},77509:(e,t,r)=>{"use strict";function n(){}r.d(t,{l:()=>n})},77529:(e,t,r)=>{"use strict";r.d(t,{OW:()=>s,cG:()=>a});var n=r(68683),i=r(7620),o=r(33269),l=r(86149);let s=(0,n.Jk)(o.pushChange);function a(e,t){let r=(0,l.rG)();(0,i.useEffect)(()=>r.subscribe(r=>{e===r.action&&t(r)}),[t,r,e])}(0,n.Jk)(o.undo),(0,n.Jk)(o.redo),(0,n.Jk)(o.reset)},77617:(e,t,r)=>{"use strict";r.d(t,{oB:()=>n}),Object.freeze({x:0,y:0,width:0,height:0});let n=Object.freeze({x:0,y:0});Object.freeze({width:0,height:0})},77621:(e,t,r)=>{"use strict";function n(e){return TypeError("You provided ".concat(null!==e&&"object"==typeof e?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}r.d(t,{L:()=>n})},78800:(e,t,r)=>{"use strict";r.d(t,{a:()=>s,k:()=>a});var n=r(71096),i=r(68683),o=r(51897),l=r(80470);class s{current(){return this._current}changed(){return this._current!==this._saved}set(e){this._current=e}save(e){this._saved!==e&&this._onChange.fire(this._saved=this._current=e)}constructor(){this._onChange=new l.v,this._current=0,this._saved=0,this.onChange=this._onChange.event}}s=(0,n.Cg)([o.e],s);let a=(0,i.h$)(s)},79230:(e,t,r)=>{"use strict";r.d(t,{LC:()=>V,qy:()=>z,GO:()=>K,sE:()=>U,K_:()=>R,j6:()=>L,dd:()=>O});var n=r(98882),i=r(76698),o=r(48307),l=r(96789),s=r(30297),a=r(64672);let{isArray:u}=Array,c=["addListener","removeListener"],d=["addEventListener","removeEventListener"],h=["on","off"];function f(e,t){return r=>n=>e[r](t,n)}var p=r(5840);let g={now:()=>(g.delegate||performance).now(),delegate:void 0};var y=r(98233);let v={schedule(e){let t=requestAnimationFrame,r=cancelAnimationFrame,{delegate:n}=v;n&&(t=n.requestAnimationFrame,r=n.cancelAnimationFrame);let i=t(t=>{r=void 0,e(t)});return new y.yU(()=>null==r?void 0:r(i))},requestAnimationFrame(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let{delegate:n}=v;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...t)},cancelAnimationFrame(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let{delegate:n}=v;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...t)},delegate:void 0};function m(e){return e?x(e):b}function x(e){return new n.c(t=>{let r=e||g,n=r.now(),i=0,o=()=>{t.closed||(i=v.requestAnimationFrame(l=>{i=0;let s=r.now();t.next({timestamp:e?s:l,elapsed:s-n}),o()}))};return o(),()=>{i&&v.cancelAnimationFrame(i)}})}let b=x();var _=r(341),w=r(66085);let S=new n.c,E=(e,t)=>e(),k=e=>function(){for(var t=arguments.length,r=Array(t),p=0;p<t;p++)r[p]=arguments[p];return E(()=>(function e(t,r,p,g){var y,v,m,x;if((0,s.T)(p)&&(g=p,p=void 0),g){return e(t,r,p).pipe((y=g,(0,a.T)(e=>u(e)?y(...e):y(e))))}let[b,_]=(v=t,(0,s.T)(v.addEventListener)&&(0,s.T)(v.removeEventListener))?d.map(e=>n=>t[e](r,n,p)):(m=t,(0,s.T)(m.addListener)&&(0,s.T)(m.removeListener))?c.map(f(t,r)):(x=t,(0,s.T)(x.on)&&(0,s.T)(x.off))?h.map(f(t,r)):[];if(!b&&(0,l.X)(t))return(0,o.Z)(t=>e(t,r,p))((0,i.Tg)(t));if(!b)throw TypeError("Invalid event target");return new n.c(e=>{let t=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.next(1<r.length?r:r[0])};return b(t),()=>_(t)})})(e(),...r),S)},A=e=>{let t=k(e);return(e,r,n)=>("function"==typeof r&&(n=r,r={}),[t(e,r,n),t(e,{...r,capture:!0},n)])},C=A(()=>window),T=k(()=>window),D=A(()=>document),N=e=>V.pipe((0,p.p)(t=>t.key===e));E(()=>m,()=>S)().pipe((0,_.u)()).pipe((0,w.s)(1));let[M,R]=C("pointerdown"),[j,L]=C("pointermove"),[I,O]=C("pointerup"),[P,U]=C("pointercancel"),[B,G]=C("contextmenu"),[V,F]=D("keydown");T("resize");let K=T("blur");N("`"),V.pipe((0,p.p)(e=>"`"===e.key));let z=N("Escape");N("Enter")},80569:(e,t,r)=>{"use strict";r.d(t,{l:()=>p});class n{static fromValue(e){return new n(e,u,c)}static fromPromise(e){return new n(e,a,c)}static from(e){return d(e)?i(e):o(e)}static cast(e){return e instanceof n?e:l(e)}static load(e){return s(function e(t){try{let r=t();if(d(r))return r.then(null,r=>{if(d(r))return r.then(()=>e(t));throw r});return r}catch(r){if(d(r))return r.then(()=>e(t));throw r}}(e))}constructor(e,t,r){this.contents=e,this.valueOrThrow=t,this.toPromise=r}}let{fromPromise:i,fromValue:o,from:l,cast:s}=n;function a(){throw this.contents}function u(){return this.contents}function c(){return Promise.resolve(this.contents)}function d(e){return!!e&&"function"==typeof e.then}var h=r(27145);let{load:f}=n;class p{value(e){return this.from(e).valueOrThrow()}promise(e){return this.from(e).toPromise()}from(e){let t=this.get;return f(()=>t(e))}static extend(e,t){let r=p.create(e),n=t({get:r.get,dispose:r.dispose,ref:r.ref});return new p(n.get,n.dispose,n.ref)}static create(e){if(e instanceof p)return e;let{get:t,dispose:r,ref:n}=(0,h.De)(e);return new p(e=>f(()=>t(e)),r,n)}constructor(e,t,r){this.get=e,this.dispose=t,this.ref=r}}},81913:e=>{e.exports={container:"DesignerContainer_container__fp7tu",overlay:"DesignerContainer_overlay__OydH7"}},82344:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var n=r(68683),i=r(32356),o=r(61764);let l=(0,n.G5)(e=>{let{send:t}=e;return async()=>{let e=await t(o.O,{skipAuthDialog:!0});if(!e)throw Error("Unable to save project.");return await (0,i.x4)().projects.share({projectUUid:e}).content()}})},82531:(e,t,r)=>{"use strict";r.d(t,{qe:()=>a,Wr:()=>g,gm:()=>u});var n=r(80470);let i=(e,t,r)=>{let i=e=>o.fire(e),o=new n.v({onFirstListenerAdd:()=>{e.addEventListener(t,i,r)},onLastListenerRemove:()=>{e.removeEventListener(t,i,r)}});return o.event};var o=r(94994),l=r(16797);class s{get current(){var e;return null!==(e=this._current)&&void 0!==e?e:this._current=this._constraint(this.local)}constructor(e,t=s._noConstraint,r=s._noConstraint){this._localConstraint=t,this._constraint=r,this.client={x:e.clientX,y:e.clientY},this.local=this._localConstraint(this.client)}}s._noConstraint=e=>e;var a=function(e){return e[e.NONE=0]="NONE",e[e.START=1]="START",e[e.MOVE=2]="MOVE",e[e.END=4]="END",e[e.CLICK=8]="CLICK",e[e.MENU=16]="MENU",e[e.DRAG=3]="DRAG",e}({}),u=function(e){return e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=2]="SECONDARY",e[e.TERTIARY=1]="TERTIARY",e[e.PINCH=3]="PINCH",e}({});class c{get isPrimary(){return 0===this.type}get isSecondary(){return 2===this.type}get isTertiary(){return 1===this.type}get clientPosition(){return this.points[0].client}get localPosition(){return this.points[0].local}get position(){return this.points[0].current}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.target,r=new c(t);return Object.assign(r,e),r.cancelled=!1,r.cancel=t.cancel,r}static fromDOMEvent(e,t){let r=new c(t.target);return r.touch=!0,r.target=t.target,r.touch=e.type.indexOf("touch")>-1,r.sourceEvent=e,r.action=function(e){switch(e){case"touchstart":case"mousedown":return 1;case"touchmove":case"mousemove":return 3;case"touchend":case"mouseup":return 4;case"click":return 8;case"contextmenu":return 16;default:return 0}}(e.type),r.keyMod=(0,l.eZ)(e),r.points=function(e,t){let r=h(t.localConstraints),n=h(t.constraints);if(!e.touch)return[new s(e.sourceEvent,r,n)];{let t=e.sourceEvent.touches,i=t.length,o=Array(i);for(let e=0;e<i;e++){let i=t.item(e);o[e]=new s(i,r,n)}return o}}(r,t),r.pointCount=r.points.length,r.type=r.touch?3*(r.points.length>1):e.button,r.cancelled=!1,r}dispose(){this.target=null}cancel(){this.cancelled=!0}preventDefault(){this.sourceEvent.preventDefault()}stopPropagation(){this.sourceEvent.stopPropagation()}toObject(){return{touch:this.touch,type:this.type,action:this.action,keyMod:this.keyMod,points:this.points.map(e=>({client:e.client,local:e.local,current:e.current}))}}constructor(e){this.target=e,this.cancel=e.cancel}}let d=e=>e;function h(e){var t;if(!e)return d;let r=Array.from(e);return null!==(t=r[r.length-1])&&void 0!==t?t:d}class f{verify(e){if("mousedown"===e){let e=this.isTouch;return this.isTouch=!1,!e}return"touchstart"===e&&(this.isTouch=!0),!0}dispose(){clearTimeout(this.timer),this.isTouch=!1}constructor(){this.timer=0,this.isTouch=!1}}let p=(()=>{let e=0;return()=>"ctl_"+e++})();class g{get onClick(){return this._onClick.event}get onContextMenu(){return this._onContextMenu.event}get onComplete(){return this._onComplete.event}get constraints(){return this._constraints}get localConstraints(){return this._localConstraints}_register(e){return this._disposables.add(e),e}_initEvent(e,t){let r=c.fromDOMEvent(e,{target:this,constraints:this._constraints,localConstraints:this._localConstraints});return t&&(r.points=t.points),r}listener(e){this._touchFixer.verify(e.type)&&this._start(this._initEvent(e))}clickListener(e){this._cancelled||this._click(this._initEvent(e))}contextMenuListener(e){this._cancelled||this._contextMenu(this._initEvent(e))}_start(e){if(this._isDisposed){console.warn("Tried to start gesture from a disposed controller");return}if(e.touch||this._completed){if(this.gesture.dispose(),this._completed=!1,this._cancelled=!1,v(this._onStart,e),this._cancelled){this.complete(e);return}this.gesture=this._initMovement(e)}}_initMovement(e){var t,r;let l,s,a,u,c,d=()=>{if(this._completed)throw Error("Illegal function call after completion")},h={},[f,p]=g.EVENT_TYPE[e.sourceEvent.type],y=this._initEvent.bind(this),m=n.J.once(this.onCancel),x=i(window,f),b=n.J.once(i(window,p)),_=n.J.once(i(document,"keydown")),w=n.J.once(i(window,"blur")),S=e,E=(t=e=>{d(),v(this._onMove,S=y(e))},u=null,c=null,{set:e=>{c=e},dispose:(r=()=>{u!==c&&t(u=c)},s=!1,a=0,a=window.requestAnimationFrame(function e(t){void 0===l&&(l=t),r(t),s||(a=window.requestAnimationFrame(e))}),()=>{s=!0,cancelAnimationFrame(a)})}),k=e=>{d(),h.dispose(),this.complete(e),S=null},A=e=>{("keydown"===e.type&&"Escape"===e.key||"blur"===e.type)&&this.cancel()};return h.dispose=(0,o.xW)(E,x(E.set),b(e=>{E.dispose();let t=y(e,S);v(this._onEnd,t),k(t)}),m(()=>k(e)),_(A),w(A)).dispose,h}_click(e){v(this._onClick,e)}_contextMenu(e){v(this._onContextMenu,e)}addConstraint(e){let t=this._constraints.add(e);return this._onChange.fire(this),this._register({dispose:()=>t.delete(e)})}addLocalConstraint(e){let t=this._localConstraints.add(e);return this._onChange.fire(this),this._register({dispose:()=>t.delete(e)})}complete(e){if(!this._isDisposed){let t=c.create(e,this);t.cancelled=this._cancelled,this._completed=!0,v(this._onComplete,t)}}cancel(){!this._isDisposed&&this._options.cancellable&&(this._cancelled=!0,this._onCancel.fire())}dispose(){this.cancel(),this._isDisposed=!0,this._parentSub.dispose(),this._touchFixer.dispose(),this._disposables.forEach(e=>e.dispose()),this._constraints.clear(),this._localConstraints.clear()}setParent(e,t){if(e===this)throw Error("Cannot assign parent to itself");if(this._parentSub.dispose(),null!=e){var r,n;let i=[(r=this,n=e,(0,o.xW)(...m(r.constraints,n.constraints),...m(r.localConstraints,n.localConstraints))),e.onChange(()=>this.setParent(e,t))];t&&i.push((0,o.xW)(y(e.onStart,this._start.bind(this),this),y(e.onClick,this._click.bind(this),this),y(e.onContextMenu,this._contextMenu.bind(this),this))),this._parentSub={dispose:()=>(0,o.AS)(i)}}else this._parentSub=o.jG.None}static create(e){return new g(e)}constructor(e={}){this.options=e,this.gesture=o.jG.None,this._cancelled=!1,this._completed=!0,this._touchFixer=new f,this._disposables=new Set,this._onStart=this._register(new n.v),this._onMove=this._register(new n.v),this._onEnd=this._register(new n.v),this._onCancel=this._register(new n.v),this._onClick=this._register(new n.v),this._onChange=this._register(new n.v),this._onContextMenu=this._register(new n.v),this._onComplete=this._register(new n.v),this._constraints=new Set,this._localConstraints=new Set,this.name=p(),this.onStart=this._onStart.event,this.onMove=this._onMove.event,this.onEnd=this._onEnd.event,this.onChange=this._onChange.event,this.onCancel=this._onCancel.event,this._options={cancellable:!0,...e},this._parentSub=o.jG.None,this.cancel=this.cancel.bind(this),this.listener=this.listener.bind(this),this.clickListener=this.clickListener.bind(this),this.contextMenuListener=this.contextMenuListener.bind(this)}}function y(e,t,r){return e(e=>t(c.create(e,r)))}function v(e,t){e.fire(t),t.dispose()}function m(e,t){let r=[];return t.forEach(t=>{e.add(t),r.push({dispose:()=>{e.delete(t)}})}),r}g.EVENT_TYPE={touchstart:["touchmove","touchend"],mousedown:["mousemove","mouseup"]}},82668:(e,t,r)=>{"use strict";r.d(t,{DH:()=>d,Pk:()=>h,Y6:()=>a,YX:()=>c,Yw:()=>s,cN:()=>u});var n=r(64712),i=r(40241),o=r(7620);function l(e){let t=(0,n.G5)(e);return[()=>(0,i.useSendCommand)(t),function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e];return(0,i.useCommand)(t,(0,o.useCallback)(e,r))}]}let[s,a]=l("history.undo"),[u,c]=l("history.redo"),[d,h]=l("editor.save")},82890:(e,t,r)=>{"use strict";r.d(t,{Mb:()=>a,ZE:()=>s});var n=r(82802),i=r(59753),o=r(13725),l=r(23134);let s=(0,n.E)(o.U);(0,i.zW)(l.l.fontList);let a=(0,i.zW)(l.l.fontSheet)},82966:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n=function(e){return e.NULL="none",e.SOLID="solid",e.GRADIENT="gradient",e}({})},83252:(e,t,r)=>{"use strict";r.d(t,{F:()=>K});var n=r(54568),i=r(12341),o=r(9189),l=r(52831),s=r(38719),a=r(50494),u=r(39968),c=r(76653),d=r(93487),h=r(46925),f=r(42483),p=r(41744);let g="28px",y=e=>{let{value:t,...r}=e,i=(0,c.c3)("templates.card");return(0,n.jsx)(p.A,{title:i(t?"removeFav":"addFav"),disableInteractive:!0,children:(0,n.jsx)(f.default,{...r,size:"large",children:t?(0,n.jsx)(d.A,{style:{fontSize:g}}):(0,n.jsx)(h.A,{style:{fontSize:g}})})})};var v=r(91886),m=r(19472),x=r(7620),b=r(64017),_=r(68366),w=r(2949),S=r(20845);async function E(e,t){let r=(0,w.b)(t.layout.id),n=(0,S.tm)({width:t.width,height:t.height,background:t.layoutPalette.colors.background,attrs:{style:"visibility:hidden;"}});return(r.build&&await r.build(n,t,t.layout.props),e.disposed)?null:await k(async i=>{await e.render(n,i);let o=i.childNodes.item(i.childNodes.length-1);if(!(r.mount&&o instanceof SVGSVGElement))return null;{var l;let e=(0,_.tW)(o),n=_.bf.from(Object.keys(e).map(t=>e[t]));return await r.mount(e,t,t.layout.props),n.use((l={x:32,y:32,width:t.width-64,height:t.height-64},e=>e.transform(e=>{let t=Math.min(l.width/e.width,l.height/e.height),r=e.width*t,n=e.height*t;return new b.az(l.x+.5*l.width-.5*r,l.y+.5*l.height-.5*n,r,n)}))),n.commit(),o.setAttribute("viewBox",[0,0,t.width,t.height].join(" ")),o.style.visibility="",o.id=t.id,o}})}async function k(e){let t=document.createElement("div");t.style.position="fixed",t.style.left="-99999px",t.style.top="-99999px",t.style.visibility="hidden",document.body.appendChild(t);try{return await e(t)}finally{document.body.removeChild(t)}}var A=r(32356),C=r(93022),T=r(24106),D=r(31415),N=r(61773),M=r(82890);async function R(e){if(!e)return;let t=e.childNodes[0],r=t.getBBox(),n=[r.x,r.y,r.width,r.height].join(" ");if(r.width&&r.height){let r={x:0,y:0,width:512,height:512},i=(0,D.hs)("rect");for(let e in r)t.removeAttribute(e),i.setAttribute(e,String(r[e]));i.setAttribute("fill","none"),e.insertBefore(i,t),e.setAttribute("viewBox","0 0 512 512"),t.setAttribute("viewBox",n),e.style.overflow="visible",t.style.overflow="visible"}}var j=r(53812),L=r(2047);let I=/[^A-Za-z]+/g;async function O(e){let{svg:t,companyName:r,textpath:n}=e,i=(0,j.r6)(t);if(!i)return t;!function(e,t){let r=P(e,e=>{var t;return"fl:textpath"===e.type&&function(e){if(!e)return!1;let t=e.toLowerCase().trim();return t.indexOf("company")>-1||t.indexOf("name")>-1}(null!==(t=e.attrs.text)&&void 0!==t?t:"")});0!==r.length&&(r.sort((e,t)=>{let r=e.attrs.text.replace(I,""),n=t.attrs.text.replace(I,"");return r>n?1:r<n?-1:0}),function(e,t,r){let n=t.trim().split(/\s+/g),i=Math.max(1,Math.ceil(n.length/e.length));e.map(e=>r(e,n.splice(0,i).join(" ")))}(r,t,(t,r)=>{if(r)t.attrs.text=r;else{let r=P(e,e=>e.children.indexOf(t)>-1)[0];r&&(r.children=r.children.slice(),r.children.splice(r.children.indexOf(t),1))}}))}(i,r);let o=!1;return P(i,e=>"fl:background"===e.type).forEach(e=>{e.type="rect",e.attrs["data-fl-background"]="",e.attrs.x="0",e.attrs.y="0",e.attrs.width="100%",e.attrs.height="100%",o=!0}),o||i.children.unshift((0,L.bF)({type:"rect",attrs:{fill:"#fff",x:"0",y:"0",width:"100%",height:"100%"}})),await Promise.all(P(i,e=>"fl:textpath"===e.type).map(async e=>{e.type="path",e.attrs["data-fl-textpath"]="",e.attrs.d=await n.render(function(e){let t={};for(let r in e)t[r.replace(/[a-z]-[a-z]/g,e=>e[0]+e[2].toUpperCase())]=e[r];return t}(e.attrs))})),(0,j.Ps)(i)}function P(e,t){return function e(t,r,n){for(let i of(r(t)&&n.push(t),t.children))e(i,r,n);return n}(e,t,[])}let U=e=>{let{template:t,companyName:r,width:i,height:o}=e,l=(0,x.useRef)(null),[s,a]=(0,x.useState)(!r),u=function(e,t){let r=function(){let e=(0,M.ZE)();return(0,x.useCallback)(async(t,r)=>O({companyName:r,svg:t,textpath:await e.getTextPath()}),[e])}(),[n,i]=(0,x.useState)(null),o=e.name,l=e.updatedAt;return(0,x.useEffect)(()=>{if(!t)return;let e=!0;return(0,A.x4)().assets.getLogoSvg((0,T.U)({name:o},l)).fetch().then(e=>{if(e.ok)return r(e.data,t)}).then(t=>{e&&t&&i(t)}).catch(e=>{console.error(e)}),()=>{e=!1}},[o,l,t,r]),n}(t,r),c=!!r;return(0,x.useEffect)(()=>{if(!r||!u)return;let e=!0,t=l.current;return t instanceof SVGSVGElement&&R(t).then(()=>e&&a(!0)),()=>{e=!1}},[r,u,s]),(0,n.jsxs)(B,{style:{width:i,height:o},children:[c?(0,n.jsx)("svg",{style:s?void 0:{position:"absolute",visibility:"hidden",pointerEvents:"none"},ref:l,xmlns:D.NS,width:i,height:o,viewBox:"0 0 512 512",dangerouslySetInnerHTML:{__html:u||""}}):(0,n.jsx)(N.default,{unoptimized:!0,alt:t.title,src:t.image,width:i,height:o}),!s&&(0,n.jsx)(G,{})]})},B=(0,u.Ay)("div")({display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"100%",maxHeight:"100%","& > svg, & > img":{maxWidth:"100%",maxHeight:"100%",aspectRatio:"1",objectFit:"contain"}}),G=(0,u.Ay)(C.L)({width:"10%",maxWidth:"50px"}),V=e=>{var t;let{template:r,companyName:i,width:o,height:l,style:s}=e;i=null!==(t=null==i?void 0:i.trim())&&void 0!==t?t:"";let a=r.generatedModel,[u,c]=(0,x.useState)(""),d=!!u,h=(0,x.useRef)(null);return(0,x.useEffect)(()=>{let e=new v.M,t=!0;return h.current&&E(e,i?{...a,title:{...a.title,text:i}}:a).then(e=>e&&(0,m.N)(e)).then(e=>{t&&e&&c(e)}),()=>{t=!1}},[a,i]),(0,n.jsxs)(B,{ref:h,style:{color:a.layoutPalette.colors.text,width:o,height:l,...s},children:[(0,n.jsx)(F,{dangerouslySetInnerHTML:{__html:u}}),!d&&(0,n.jsx)(G,{})]})},F=(0,u.Ay)("div")({width:"inherit",height:"inherit"}),K=e=>{let{showBooster:t=!1,template:r,style:s,children:a,imageWidth:u,imageHeight:d,companyName:h,onTemplateClick:f,onFavoriteClick:p,...g}=e,v=(0,c.c3)("templates.card"),m=r.background&&"none"!==r.background?r.background:"#ffffff",x=h&&"company name"!==h.toLowerCase()?h:void 0,b=e=>{e.stopPropagation(),(0,i.R)("btnCustomizeMosaique",{templateId:r.id}),null==f||f(e,r)};return(0,n.jsxs)(Y,{disableTouchRipple:!0,component:"div",onClick:b,style:{...s,background:m},...g,children:[(0,n.jsx)("div",{className:"template-image-container",children:(0,n.jsx)(z,{template:r,companyName:x,width:u,height:d})}),t&&(0,n.jsx)(o.p,{sx:{position:"absolute",top:16,left:16,color:"secondary.main",fontSize:"22px"}}),a,(0,n.jsxs)(J,{className:"template-overlay",gap:1.5,"data-mui-color-scheme":"dark",direction:"row",sx:{display:{xs:"none",sm:"flex"}},children:[(0,n.jsx)(l.A,{variant:"contained",onClick:b,children:v("customize")}),(0,n.jsx)(y,{className:"template-fav-button",value:r.liked,onClick:e=>{e.stopPropagation(),null==p||p(e,r)}})]})]})},z=e=>e.template.generated?(0,n.jsx)(V,{...e}):(0,n.jsx)(U,{...e}),Y=(0,u.Ay)(s.A)(e=>{let{theme:t}=e;return{position:"relative",background:"#FFF",color:"#000",borderRadius:"3px",width:"100%",height:"100%",aspectRatio:"1/1",maxHeight:"100%",overflow:"hidden",padding:t.spacing(.5),"& .template-image-container":{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},"& img":{display:"block",pointerEvents:"none",margin:"0 auto"},[t.breakpoints.up("sm")]:{".template-overlay":{opacity:0,transition:"opacity 0.2s",background:"rgba(0,0,0,0.7)"},"&:hover, &:active":{".template-overlay":{opacity:1}}}}}),J=(0,u.Ay)(a.default)(e=>{let{}=e;return{position:"absolute",top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",".template-fav-button":{position:"absolute",top:4,left:"auto",right:4,bottom:"auto",padding:5}}})},83779:(e,t,r)=>{"use strict";function n(e,t,r){return e>t?t:e<r?r:e}r.d(t,{q:()=>n})},85684:(e,t,r)=>{"use strict";r.d(t,{E0:()=>oR,Iz:()=>ok,K0:()=>oA,L4:()=>oN,Zs:()=>oj,bi:()=>ow,eU:()=>oS,gD:()=>oE,gu:()=>oT,jV:()=>oC,lZ:()=>oM,nO:()=>o_,vc:()=>oD});var n,i=r(7620),o=r(97509),l=r(24338),s=function(e){let t=Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t},a=function(e){return!!e&&"function"==typeof e.then},u=function(e,t){if(null!=e)return e;throw s(null!=t?t:"Got unexpected null or undefined")};function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d{getValue(){throw s("BaseLoadable")}toPromise(){throw s("BaseLoadable")}valueMaybe(){throw s("BaseLoadable")}valueOrThrow(){throw s('Loadable expected value, but in "'.concat(this.state,'" state'))}promiseMaybe(){throw s("BaseLoadable")}promiseOrThrow(){throw s('Loadable expected promise, but in "'.concat(this.state,'" state'))}errorMaybe(){throw s("BaseLoadable")}errorOrThrow(){throw s('Loadable expected error, but in "'.concat(this.state,'" state'))}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw s("BaseLoadable")}}class h extends d{getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{let t=e(this.contents);return a(t)?v(t):b(t)?t:g(t)}catch(t){return a(t)?v(t.next(()=>this.map(e))):y(t)}}constructor(e){super(),c(this,"state","hasValue"),c(this,"contents",void 0),this.contents=e}}class f extends d{getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}constructor(e){super(),c(this,"state","hasError"),c(this,"contents",void 0),this.contents=e}}class p extends d{getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return v(this.contents.then(t=>{let r=e(t);if(b(r))switch(r.state){case"hasValue":case"loading":return r.contents;case"hasError":throw r.contents}return r}).catch(t=>{if(a(t))return t.then(()=>this.map(e).contents);throw t}))}constructor(e){super(),c(this,"state","loading"),c(this,"contents",void 0),this.contents=e}}function g(e){return Object.freeze(new h(e))}function y(e){return Object.freeze(new f(e))}function v(e){return Object.freeze(new p(e))}function m(){return Object.freeze(new p(new Promise(()=>{})))}function x(e){var t;let r=(t=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])).map(e=>b(e)?e:a(e)?v(e):g(e))).every(e=>"hasValue"===e.state)?g(t.map(e=>e.contents)):t.some(e=>"hasError"===e.state)?y(u(t.find(e=>"hasError"===e.state),"Invalid loadable passed to loadableAll").contents):v(Promise.all(t.map(e=>e.contents)));return Array.isArray(e)?r:r.map(t=>Object.getOwnPropertyNames(e).reduce((e,r,n)=>({...e,[r]:t[n]}),{}))}function b(e){return e instanceof d}var _={loadableWithValue:g,loadableWithError:y,loadableWithPromise:v,loadableLoading:m,loadableAll:x,isLoadable:b,RecoilLoadable:{of:e=>a(e)?v(e):b(e)?e:g(e),error:e=>y(e),loading:()=>m(),all:x,isLoadable:b}},w=Object.freeze({__proto__:null,loadableWithValue:_.loadableWithValue,loadableWithError:_.loadableWithError,loadableWithPromise:_.loadableWithPromise,loadableLoading:_.loadableLoading,loadableAll:_.loadableAll,isLoadable:_.isLoadable,RecoilLoadable:_.RecoilLoadable});let S={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function E(e){return S.RECOIL_GKS_ENABLED.has(e)}void 0!==l&&(null==l?void 0:l.env)!=null&&(!function(e,t){var r,n;let i=null===(r=l.env[e])||void 0===r?void 0:null===(n=r.toLowerCase())||void 0===n?void 0:n.trim();if(null!=i&&""!==i){if(!["true","false"].includes(i))throw s("process.env.".concat(e," value must be 'true', 'false', or empty: ").concat(i));t("true"===i)}}("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{S.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),function(e,t){var r;let n=null===(r=l.env[e])||void 0===r?void 0:r.trim();null!=n&&""!==n&&t(n.split(/\s*,\s*|\s+/))}("RECOIL_GKS_ENABLED",e=>{e.forEach(e=>{S.RECOIL_GKS_ENABLED.add(e)})})),E.setPass=e=>{S.RECOIL_GKS_ENABLED.add(e)},E.setFail=e=>{S.RECOIL_GKS_ENABLED.delete(e)},E.clear=()=>{S.RECOIL_GKS_ENABLED.clear()};var k=function(e,t){let{error:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null};let A=null!==(n=i.useSyncExternalStore)&&void 0!==n?n:i.unstable_useSyncExternalStore,C=!1;var T={useSyncExternalStore:A,currentRendererSupportsUseSyncExternalStore:function(){var e;let t=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;if(!t)return!0;let{ReactCurrentDispatcher:r,ReactCurrentOwner:n}=t,o=null!=(null!==(e=null==r?void 0:r.current)&&void 0!==e?e:n.currentDispatcher).useSyncExternalStore;return!A||o||C||(C=!0,k("A React renderer without React 18+ API support is being used with React 18+.")),o},reactMode:function(){return E("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:E("recoil_sync_external_store")&&null!=A?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:E("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}};class D{toJSON(){return{key:this.key}}constructor(e){c(this,"key",void 0),this.key=e}}class N extends D{}class M extends D{}var R={AbstractRecoilValue:D,RecoilState:N,RecoilValueReadOnly:M,isRecoilValue:function(e){return e instanceof N||e instanceof M}},j=Object.freeze({__proto__:null,AbstractRecoilValue:R.AbstractRecoilValue,RecoilState:R.RecoilState,RecoilValueReadOnly:R.RecoilValueReadOnly,isRecoilValue:R.isRecoilValue}),L=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n]},I=function(e,t){return function*(){let r=0;for(let n of e)yield t(n,r++)}()};let{isFastRefreshEnabled:O}=T;class P{}let U=new P,B=new Map,G=new Map;class V extends Error{}let F=new Map;function K(e){return F.get(e)}var z={nodes:B,recoilValues:G,registerNode:function(e){var t;S.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&(t=e.key,B.has(t)&&console.warn('Duplicate atom key "'.concat(t,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.'))),B.set(e.key,e);let r=null==e.set?new j.RecoilValueReadOnly(e.key):new j.RecoilState(e.key);return G.set(e.key,r),r},getNode:function(e){let t=B.get(e);if(null==t)throw new V('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return B.get(e)},deleteNodeConfigIfPossible:function(e){var t,r;if(!E("recoil_memory_managament_2020"))return;let n=B.get(e);null!=n&&null!==(t=n.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(n)&&(B.delete(e),null===(r=K(e))||void 0===r||r(),F.delete(e))},setConfigDeletionHandler:function(e,t){E("recoil_memory_managament_2020")&&(void 0===t?F.delete(e):F.set(e,t))},getConfigDeletionHandler:K,recoilValuesForKeys:function(e){return I(e,e=>u(G.get(e)))},NodeMissingError:V,DefaultValue:P,DEFAULT_VALUE:U},Y={enqueueExecution:function(e,t){t()}},J=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={},n={},i=function(e){return function(){return e}},o=r.hash=function(e){var r=void 0===e?"undefined":t(e);if("number"===r)return e;"string"!==r&&(e+="");for(var n=0,i=0,o=e.length;i<o;++i)n=(n<<5)-n+e.charCodeAt(i)|0;return n},l=function(e,t){return t>>>e&31},s=function(e){return 1<<e},a=function(e,t){var r;return r=e&t-1,r-=r>>1&0x55555555,r=(r=(0x33333333&r)+(r>>2&0x33333333))+(r>>4)&0xf0f0f0f,r+=r>>8,127&(r+=r>>16)},u=function(e,t,r,n){var i=n;if(!e){var o=n.length;i=Array(o);for(var l=0;l<o;++l)i[l]=n[l]}return i[t]=r,i},c=function(e,t,r){var n=r.length-1,i=0,o=0,l=r;if(e)i=o=t;else for(l=Array(n);i<t;)l[o++]=r[i++];for(++i;i<=n;)l[o++]=r[i++];return e&&(l.length=n),l},d=function(e,t,r,n){var i=n.length;if(e){for(var o=i;o>=t;)n[o--]=n[o];return n[t]=r,n}for(var l=0,s=0,a=Array(i+1);l<t;)a[s++]=n[l++];for(a[t]=r;l<i;)a[++s]=n[l++];return a},h={__hamt_isEmpty:!0},f=function(e){return e===h||e&&e.__hamt_isEmpty},p=function(e,t,r,n){return{type:1,edit:e,hash:t,key:r,value:n,_modify:S}},g=function(e,t,r){return{type:2,edit:e,hash:t,children:r,_modify:E}},y=function(e,t,r){return{type:3,edit:e,mask:t,children:r,_modify:k}},v=function(e,t,r){return{type:4,edit:e,size:t,children:r,_modify:A}},m=function(e,t,r,n,i){for(var o=[],l=n,s=0,a=0;l;++a)1&l&&(o[a]=i[s++]),l>>>=1;return o[t]=r,v(e,s+1,o)},x=function(e,t,r,n){for(var i=Array(t-1),o=0,l=0,s=0,a=n.length;s<a;++s)if(s!==r){var u=n[s];u&&!f(u)&&(i[o++]=u,l|=1<<s)}return y(e,l,i)},b=function e(t,r,n,i,o,a){if(n===o)return g(t,n,[a,i]);var u=l(r,n),c=l(r,o);return y(t,s(u)|s(c),u===c?[e(t,r+5,n,i,o,a)]:u<c?[i,a]:[a,i])},_=function(e,t,r,i,o,l,s,a){for(var d=o.length,h=0;h<d;++h){var f=o[h];if(r(s,f.key)){var g=f.value,y=l(g);if(y===g)return o;if(y===n)return--a.value,c(e,h,o);return u(e,h,p(t,i,s,y),o)}}var v=l();return v===n?o:(++a.value,u(e,d,p(t,i,s,v),o))},w=function(e,t){return e===t.edit},S=function(e,t,r,i,o,l,s){if(t(l,this.key)){var a=i(this.value);return a===this.value?this:a===n?(--s.value,h):w(e,this)?(this.value=a,this):p(e,o,l,a)}var u=i();return u===n?this:(++s.value,b(e,r,this.hash,this,o,p(e,o,l,u)))},E=function(e,t,r,i,o,l,s){if(o===this.hash){var a=_(w(e,this),e,t,this.hash,this.children,i,l,s);return a===this.children?this:a.length>1?g(e,this.hash,a):a[0]}var u=i();return u===n?this:(++s.value,b(e,r,this.hash,this,o,p(e,o,l,u)))},k=function(e,t,r,n,i,o,p){var g,v=this.mask,x=this.children,b=l(r,i),_=s(b),S=a(v,_),E=v&_,k=E?x[S]:h,A=k._modify(e,t,r+5,n,i,o,p);if(k===A)return this;var C=w(e,this),T=v,D=void 0;if(E&&f(A)){if(!(T&=~_))return h;if(x.length<=2&&((g=x[1^S])===h||1===g.type||2===g.type))return x[1^S];D=c(C,S,x)}else if(E||f(A))D=u(C,S,A,x);else{if(x.length>=16)return m(e,b,A,v,x);T|=_,D=d(C,S,A,x)}return C?(this.mask=T,this.children=D,this):y(e,T,D)},A=function(e,t,r,n,i,o,s){var a=this.size,c=this.children,d=l(r,i),p=c[d],g=(p||h)._modify(e,t,r+5,n,i,o,s);if(p===g)return this;var y=w(e,this),m=void 0;if(f(p)&&!f(g))++a,m=u(y,d,g,c);else if(!f(p)&&f(g)){if(--a<=8)return x(e,a,d,c);m=u(y,d,h,c)}else m=u(y,d,g,c);return y?(this.size=a,this.children=m,this):v(e,a,m)};function C(e,t,r,n,i){this._editable=e,this._edit=t,this._config=r,this._root=n,this._size=i}h._modify=function(e,t,r,i,o,l,s){var a=i();return a===n?h:(++s.value,p(e,o,l,a))},C.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new C(this._editable,this._edit,this._config,e,t)};var T=r.tryGetHash=function(e,t,r,n){for(var i=n._root,o=0,u=n._config.keyEq;;)switch(i.type){case 1:return u(r,i.key)?i.value:e;case 2:if(t===i.hash)for(var c=i.children,d=0,h=c.length;d<h;++d){var f=c[d];if(u(r,f.key))return f.value}return e;case 3:var p=s(l(o,t));if(i.mask&p){i=i.children[a(i.mask,p)],o+=5;break}return e;case 4:if(i=i.children[l(o,t)]){o+=5;break}return e;default:return e}};C.prototype.tryGetHash=function(e,t,r){return T(e,t,r,this)};var D=r.tryGet=function(e,t,r){return T(e,r._config.hash(t),t,r)};C.prototype.tryGet=function(e,t){return D(e,t,this)};var N=r.getHash=function(e,t,r){return T(void 0,e,t,r)};C.prototype.getHash=function(e,t){return N(e,t,this)},r.get=function(e,t){return T(void 0,t._config.hash(e),e,t)},C.prototype.get=function(e,t){return D(t,e,this)};var M=r.has=function(e,t,r){return T(n,e,t,r)!==n};C.prototype.hasHash=function(e,t){return M(e,t,this)};var R=r.has=function(e,t){return M(t._config.hash(e),e,t)};C.prototype.has=function(e){return R(e,this)};var j=function(e,t){return e===t};r.make=function(e){return new C(0,0,{keyEq:e&&e.keyEq||j,hash:e&&e.hash||o},h,0)},r.empty=r.make();var L=r.isEmpty=function(e){return e&&!!f(e._root)};C.prototype.isEmpty=function(){return L(this)};var I=r.modifyHash=function(e,t,r,n){var i={value:n._size},o=n._root._modify(n._editable?n._edit:NaN,n._config.keyEq,0,e,t,r,i);return n.setTree(o,i.value)};C.prototype.modifyHash=function(e,t,r){return I(r,e,t,this)};var O=r.modify=function(e,t,r){return I(e,r._config.hash(t),t,r)};C.prototype.modify=function(e,t){return O(t,e,this)};var P=r.setHash=function(e,t,r,n){return I(i(r),e,t,n)};C.prototype.setHash=function(e,t,r){return P(e,t,r,this)};var U=r.set=function(e,t,r){return P(r._config.hash(e),e,t,r)};C.prototype.set=function(e,t){return U(e,t,this)};var B=i(n),G=r.removeHash=function(e,t,r){return I(B,e,t,r)};C.prototype.removeHash=C.prototype.deleteHash=function(e,t){return G(e,t,this)};var V=r.remove=function(e,t){return G(t._config.hash(e),e,t)};C.prototype.remove=C.prototype.delete=function(e){return V(e,this)};var F=r.beginMutation=function(e){return new C(e._editable+1,e._edit+1,e._config,e._root,e._size)};C.prototype.beginMutation=function(){return F(this)};var K=r.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};C.prototype.endMutation=function(){return K(this)};var z=r.mutate=function(e,t){var r=F(t);return e(r),K(r)};C.prototype.mutate=function(e){return z(e,this)};var Y=function(e){return e&&J(e[0],e[1],e[2],e[3],e[4])},J=function(e,t,r,n,i){for(;r<e;){var o=t[r++];if(o&&!f(o))return H(o,n,[e,t,r,n,i])}return Y(i)},H=function(e,t,r){switch(e.type){case 1:return{value:t(e),rest:r};case 2:case 4:case 3:var n=e.children;return J(n.length,n,0,t,r);default:return Y(r)}},q={done:!0};function W(e){this.v=e}W.prototype.next=function(){if(!this.v)return q;var e=this.v;return this.v=Y(e.rest),e},W.prototype[Symbol.iterator]=function(){return this};var $=function(e,t){return new W(H(e._root,t))},Z=function(e){return[e.key,e.value]},Q=r.entries=function(e){return $(e,Z)};C.prototype.entries=C.prototype[Symbol.iterator]=function(){return Q(this)};var X=function(e){return e.key},ee=r.keys=function(e){return $(e,X)};C.prototype.keys=function(){return ee(this)};var et=function(e){return e.value},er=r.values=C.prototype.values=function(e){return $(e,et)};C.prototype.values=function(){return er(this)};var en=r.fold=function(e,t,r){var n=r._root;if(1===n.type)return e(t,n.value,n.key);for(var i=[n.children],o=void 0;o=i.pop();)for(var l=0,s=o.length;l<s;){var a=o[l++];a&&a.type&&(1===a.type?t=e(t,a.value,a.key):i.push(a.children))}return t};C.prototype.fold=function(e,t){return en(e,t,this)};var ei=r.forEach=function(e,t){return en(function(r,n,i){return e(n,i,t)},null,t)};C.prototype.forEach=function(e){return ei(e,this)};var eo=r.count=function(e){return e._size};C.prototype.count=function(){return eo(this)},Object.defineProperty(C.prototype,"size",{get:C.prototype.count}),e.exports?e.exports=r:undefined.hamt=r});class H{keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return W(this)}toMap(){return new Map(this._map)}constructor(e){c(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}}class q{keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return W(this)}toMap(){return new Map(this._hamt)}constructor(e){if(c(this,"_hamt",J.empty.beginMutation()),e instanceof q){let t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(let[t,r]of e.entries())this._hamt.set(t,r)}}function W(e){return E("recoil_hamt_2020")?new q(e):new H(e)}var $=Object.freeze({__proto__:null,persistentMap:{persistentMap:W}.persistentMap}),Z=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=new Set;e:for(let t of e){for(let e of r)if(e.has(t))continue e;i.add(t)}return i},Q=function(e,t){let r=new Map;return e.forEach((e,n)=>{r.set(n,t(e,n))}),r};function X(e,t,r,n){let{nodeDeps:i,nodeToNodeSubscriptions:o}=r,l=i.get(e);if(!l||!n||l===n.nodeDeps.get(e)){for(let r of(i.set(e,t),null==l?t:Z(t,l)))o.has(r)||o.set(r,new Set),u(o.get(r)).add(e);if(l)for(let r of Z(l,t)){if(!o.has(r))return;let t=u(o.get(r));t.delete(e),0===t.size&&o.delete(r)}}}var ee={cloneGraph:function(e){return{nodeDeps:Q(e.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Q(e.nodeToNodeSubscriptions,e=>new Set(e))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},saveDepsToStore:function(e,t,r,n){var i,o,l,s,a;let u=r.getState();n!==u.currentTree.version&&n!==(null===(i=u.nextTree)||void 0===i?void 0:i.version)&&n!==(null===(o=u.previousTree)||void 0===o?void 0:o.version)&&k("Tried to save dependencies to a discarded tree");let c=r.getGraph(n);if(X(e,t,c),n===(null===(l=u.previousTree)||void 0===l?void 0:l.version)&&X(e,t,r.getGraph(u.currentTree.version),c),n===(null===(s=u.previousTree)||void 0===s?void 0:s.version)||n===u.currentTree.version){let n=null===(a=u.nextTree)||void 0===a?void 0:a.version;void 0!==n&&X(e,t,r.getGraph(n),c)}}};let et=0,er=0,en=0;var ei={getNextTreeStateVersion:()=>et++,getNextStoreID:()=>er++,getNextComponentID:()=>en++};let{persistentMap:eo}=$,{graph:el}=ee,{getNextTreeStateVersion:es}=ei;function ea(){let e=es();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:eo(),nonvalidatedAtoms:eo()}}var eu={makeEmptyTreeState:ea,makeEmptyStoreState:function(){let e=ea();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,el()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:es};class ec{}var ed={RetentionZone:ec,retentionZone:function(){return new ec}},eh={setByAddingToSet:function(e,t){let r=new Set(e);return r.add(t),r},setByDeletingFromSet:function(e,t){let r=new Set(e);return r.delete(t),r},mapBySettingInMap:function(e,t,r){let n=new Map(e);return n.set(t,r),n},mapByUpdatingInMap:function(e,t,r){let n=new Map(e);return n.set(t,r(n.get(t))),n},mapByDeletingFromMap:function(e,t){let r=new Map(e);return r.delete(t),r},mapByDeletingMultipleFromMap:function(e,t){let r=new Map(e);return t.forEach(e=>r.delete(e)),r}},ef=function*(e,t){let r=0;for(let n of e)t(n,r++)&&(yield n)},ep=function(e,t){return new Proxy(e,{get:(e,r)=>(!(r in e)&&r in t&&(e[r]=t[r]()),e[r]),ownKeys:e=>Object.keys(e)})};let{getNode:eg,getNodeMaybe:ey,recoilValuesForKeys:ev}=z,{RetentionZone:em}=ed,{setByAddingToSet:ex}=eh,eb=Object.freeze(new Set);class e_ extends Error{}function ew(e,t,r,n){let i=e.getState();if(i.nodeCleanupFunctions.has(r))return;let o=eg(r),l=function(e,t,r){if(!E("recoil_memory_managament_2020"))return()=>void 0;let{nodesRetainedByZone:n}=e.getState().retention;function i(e){let r=n.get(e);r||n.set(e,r=new Set),r.add(t)}if(r instanceof em)i(r);else if(Array.isArray(r))for(let e of r)i(e);return()=>{if(!E("recoil_memory_managament_2020"))return;let{retention:n}=e.getState();function i(e){let r=n.nodesRetainedByZone.get(e);null==r||r.delete(t),r&&0===r.size&&n.nodesRetainedByZone.delete(e)}if(r instanceof em)i(r);else if(Array.isArray(r))for(let e of r)i(e)}}(e,r,o.retainedBy),s=o.init(e,t,n);i.nodeCleanupFunctions.set(r,()=>{s(),l()})}function eS(e,t,r){return eg(r).peek(e,t)}function eE(e,t,r){let n=new Set,i=Array.from(r),o=e.getGraph(t.version);for(let e=i.pop();e;e=i.pop()){var l;for(let t of(n.add(e),null!==(l=o.nodeToNodeSubscriptions.get(e))&&void 0!==l?l:eb))n.has(t)||i.push(t)}return n}var ek={getNodeLoadable:function(e,t,r){return ew(e,t,r,"get"),eg(r).get(e,t)},peekNodeLoadable:eS,setNodeValue:function(e,t,r,n){let i=eg(r);if(null==i.set)throw new e_("Attempt to set read-only RecoilValue: ".concat(r));let o=i.set;return ew(e,t,r,"set"),o(e,t,n)},initializeNode:function(e,t,r){ew(e,e.getState().currentTree,t,r)},cleanUpNode:function(e,t){var r;let n=e.getState();null===(r=n.nodeCleanupFunctions.get(t))||void 0===r||r(),n.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,r){var n;let i=ey(t);return null==i||null===(n=i.invalidate)||void 0===n||n.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,r),dirtyAtoms:ex(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,r){let n=e.getState(),i=e.getGraph(t.version),o=eg(r).nodeType;return ep({type:o},{loadable:()=>eS(e,t,r),isActive:()=>n.knownAtoms.has(r)||n.knownSelectors.has(r),isSet:()=>"selector"!==o&&t.atomValues.has(r),isModified:()=>t.dirtyAtoms.has(r),deps:()=>{var e;return ev(null!==(e=i.nodeDeps.get(r))&&void 0!==e?e:[])},subscribers:()=>{var i,o;return{nodes:ev(ef(eE(e,t,new Set([r])),e=>e!==r)),components:I(null!==(i=null===(o=n.nodeToComponentSubscriptions.get(r))||void 0===o?void 0:o.values())&&void 0!==i?i:[],e=>{let[t]=e;return{name:t}})}}})},getDownstreamNodes:eE};let eA=null;var eC={setInvalidateMemoizedSnapshot:function(e){eA=e},invalidateMemoizedSnapshot:function(){var e;null===(e=eA)||void 0===e||e()}};let{getDownstreamNodes:eT,getNodeLoadable:eD,setNodeValue:eN}=ek,{getNextComponentID:eM}=ei,{getNode:eR,getNodeMaybe:ej}=z,{DefaultValue:eL}=z,{reactMode:eI}=T,{AbstractRecoilValue:eO,RecoilState:eP,RecoilValueReadOnly:eU,isRecoilValue:eB}=j,{invalidateMemoizedSnapshot:eG}=eC;function eV(e,t,r){"hasValue"===r.state&&r.contents instanceof eL?e.atomValues.delete(t):e.atomValues.set(t,r),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function eF(e,t){e.replaceState(r=>{let n=eY(r);for(let r of t)!function(e,t,r){if("set"===r.type){let{recoilValue:n,valueOrUpdater:i}=r,o=function(e,t,r,n){let{key:i}=r;if("function"!=typeof n)return n;{let r=eD(e,t,i);if("loading"===r.state){let e='Tried to set atom or selector "'.concat(i,'" using an updater function while the current state is pending, this is not currently supported.');throw k(e),s(e)}if("hasError"===r.state)throw r.contents;return n(r.contents)}}(e,t,n,i);for(let[r,i]of eN(e,t,n.key,o).entries())eV(t,r,i)}else if("setLoadable"===r.type){let{recoilValue:{key:e},loadable:n}=r;eV(t,e,n)}else if("markModified"===r.type){let{recoilValue:{key:e}}=r;t.dirtyAtoms.add(e)}else if("setUnvalidated"===r.type){var n;let{recoilValue:{key:e},unvalidatedValue:i}=r,o=ej(e);null==o||null===(n=o.invalidate)||void 0===n||n.call(o,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else k("Unknown action ".concat(r.type))}(e,n,r);return eJ(e,n),eG(),n})}function eK(e,t){if(ez.length){let r=ez[ez.length-1],n=r.get(e);n||r.set(e,n=[]),n.push(t)}else eF(e,[t])}let ez=[];function eY(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function eJ(e,t){for(let i of eT(e,t,t.dirtyAtoms)){var r,n;null===(r=ej(i))||void 0===r||null===(n=r.invalidate)||void 0===n||n.call(r,t)}}function eH(e,t,r){eK(e,{type:"set",recoilValue:t,valueOrUpdater:r})}var eq={RecoilValueReadOnly:eU,AbstractRecoilValue:eO,RecoilState:eP,getRecoilValueAsLoadable:function(e,t){var r,n;let{key:i}=t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,l=e.getState();o.version!==l.currentTree.version&&o.version!==(null===(r=l.nextTree)||void 0===r?void 0:r.version)&&o.version!==(null===(n=l.previousTree)||void 0===n?void 0:n.version)&&k("Tried to read from a discarded tree");let s=eD(e,o,i);return"loading"===s.state&&s.contents.catch(()=>{}),s},setRecoilValue:eH,setRecoilValueLoadable:function(e,t,r){if(r instanceof eL)return eH(e,t,r);eK(e,{type:"setLoadable",recoilValue:t,loadable:r})},markRecoilValueModified:function(e,t){eK(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,r){eK(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:r})},subscribeToRecoilValue:function(e,t,r){let{key:n}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=eM(),l=e.getState();l.nodeToComponentSubscriptions.has(n)||l.nodeToComponentSubscriptions.set(n,new Map),u(l.nodeToComponentSubscriptions.get(n)).set(o,[null!=i?i:"<not captured>",r]);let s=eI();if(s.early&&"LEGACY"===s.mode){let t=e.getState().nextTree;t&&t.dirtyAtoms.has(n)&&r(t)}return{release:()=>{let t=e.getState(),r=t.nodeToComponentSubscriptions.get(n);if(void 0===r||!r.has(o)){k("Subscription missing at release time for atom ".concat(n,". This is a bug in Recoil."));return}r.delete(o),0===r.size&&t.nodeToComponentSubscriptions.delete(n)}}},isRecoilValue:eB,applyAtomValueWrites:function(e,t){let r=e.clone();return t.forEach((e,t)=>{"hasValue"===e.state&&e.contents instanceof eL?r.delete(t):r.set(t,e)}),r},batchStart:function(){let e=new Map;return ez.push(e),()=>{for(let[t,r]of e)eF(t,r);ez.pop()!==e&&k("Incorrect order of batch popping")}},writeLoadableToTreeState:eV,invalidateDownstreams:eJ,copyTreeState:eY,refreshRecoilValue:function(e,t){var r;let{currentTree:n}=e.getState(),i=eR(t.key);null===(r=i.clearCache)||void 0===r||r.call(i,e,n)}},eW=function(e,t,r){let n=e.entries(),i=n.next();for(;!i.done;){let o=i.value;if(t.call(r,o[1],o[0],e))return!0;i=n.next()}return!1};let{cleanUpNode:e$}=ek,{deleteNodeConfigIfPossible:eZ,getNode:eQ}=z,{RetentionZone:eX}=ed,e0=new Set;function e1(e,t){let r=e.getState(),n=r.currentTree;if(r.nextTree){k("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let e of t)if(e instanceof eX)for(let t of function(e,t){var r;return null!==(r=e.retention.nodesRetainedByZone.get(t))&&void 0!==r?r:e0}(r,e))i.add(t);else i.add(e);for(let t of function(e,t){let r=e.getState(),n=r.currentTree,i=e.getGraph(n.version),o=new Set,l=new Set;return function t(s){var a,c;let d=new Set;for(let t of function(e,t,r,n,i){let o=e.getGraph(t.version),l=[],s=new Set;for(;r.size>0;)(function e(t){if(n.has(t)||i.has(t)){r.delete(t);return}if(s.has(t))return;let a=o.nodeToNodeSubscriptions.get(t);if(a)for(let t of a)e(t);s.add(t),r.delete(t),l.push(t)})(u(r.values().next().value));return l}(e,n,s,o,l)){if("recoilRoot"===eQ(t).retainedBy||(null!==(a=r.retention.referenceCounts.get(t))&&void 0!==a?a:0)>0||e2(t).some(e=>r.retention.referenceCounts.get(e))){l.add(t);continue}let e=i.nodeToNodeSubscriptions.get(t);if(e&&eW(e,e=>l.has(e))){l.add(t);continue}o.add(t),d.add(t)}let h=new Set;for(let e of d)for(let t of null!==(c=i.nodeDeps.get(e))&&void 0!==c?c:e0)o.has(t)||h.add(t);h.size&&t(h)}(t),o}(e,i))!function(e,t,r){var n,i;if(!E("recoil_memory_managament_2020"))return;e$(e,r);let o=e.getState();for(let e of(o.knownAtoms.delete(r),o.knownSelectors.delete(r),o.nodeTransactionSubscriptions.delete(r),o.retention.referenceCounts.delete(r),e2(r)))null===(n=o.retention.nodesRetainedByZone.get(e))||void 0===n||n.delete(r);t.atomValues.delete(r),t.dirtyAtoms.delete(r),t.nonvalidatedAtoms.delete(r);let l=o.graphsByVersion.get(t.version);if(l){let e=l.nodeDeps.get(r);if(void 0!==e)for(let t of(l.nodeDeps.delete(r),e))null===(i=l.nodeToNodeSubscriptions.get(t))||void 0===i||i.delete(r);l.nodeToNodeSubscriptions.delete(r)}eZ(r)}(e,n,t)}function e2(e){let t=eQ(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof eX?[t]:t}function e5(e,t){E("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){let r=e.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(t):e1(e,new Set([t]))}(e,t))}var e8={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,r){var n;if(!E("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=(null!==(n=i.get(t))&&void 0!==n?n:0)+r;0===o?e5(e,t):i.set(t,o)},updateRetainCountToZero:e5,releaseScheduledRetainablesNow:function(e){if(!E("recoil_memory_managament_2020"))return;let t=e.getState();e1(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};let{unstable_batchedUpdates:e6}=o,{unstable_batchedUpdates:e3}={unstable_batchedUpdates:e6},{batchStart:e9}=eq,{unstable_batchedUpdates:e4}={unstable_batchedUpdates:e3},e7=e4||(e=>e());var te={getBatcher:()=>e7,setBatcher:e=>{e7=e},batchUpdates:e=>{e7(()=>{let t=()=>void 0;try{t=e9(),e()}finally{t()}})}},tt=function*(e){for(let t of e)for(let e of t)yield e};let tr="undefined"==typeof Window;var tn={isSSR:tr,isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product,isWindow:e=>!tr&&(e===window||e instanceof Window)};let{batchUpdates:ti}=te,{initializeNode:to,peekNodeInfo:tl}=ek,{graph:ts}=ee,{getNextStoreID:ta}=ei,{DEFAULT_VALUE:tu,recoilValues:tc,recoilValuesForKeys:td}=z,{AbstractRecoilValue:th,getRecoilValueAsLoadable:tf,setRecoilValue:tp,setUnvalidatedRecoilValue:tg}=eq,{updateRetainCount:ty}=e8,{setInvalidateMemoizedSnapshot:tv}=eC,{getNextTreeStateVersion:tm,makeEmptyStoreState:tx}=eu,{isSSR:tb}=tn,{memoizeOneWithArgsHashAndInvalidation:t_}={memoizeWithArgsHash:function(e,t){let r;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];r||(r={});let l=t(...i);return Object.hasOwnProperty.call(r,l)||(r[l]=e(...i)),r[l]}},memoizeOneWithArgsHash:function(e,t){let r,n;return function(){for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];let s=t(...o);return r===s?n:(r=s,n=e(...o))}},memoizeOneWithArgsHashAndInvalidation:function(e,t){let r,n;return[function(){for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];let s=t(...o);return r===s?n:(r=s,n=e(...o))},()=>{r=null}]}};class tw{retain(){this._refCount<=0&&k("Attempt to retain() Snapshot that was already released."),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){tb||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!E("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){E("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}constructor(e,t){for(let r of(c(this,"_store",void 0),c(this,"_refCount",1),c(this,"getLoadable",e=>(this.checkRefCount_INTERNAL(),tf(this._store,e))),c(this,"getPromise",e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise())),c(this,"getNodes_UNSTABLE",e=>{if(this.checkRefCount_INTERNAL(),(null==e?void 0:e.isModified)===!0)return(null==e?void 0:e.isInitialized)===!1?[]:td(this._store.getState().currentTree.dirtyAtoms);let t=this._store.getState().knownAtoms,r=this._store.getState().knownSelectors;return(null==e?void 0:e.isInitialized)==null?tc.values():!0===e.isInitialized?td(tt([t,r])):ef(tc.values(),e=>{let{key:n}=e;return!t.has(n)&&!r.has(n)})}),c(this,"getInfo_UNSTABLE",e=>{let{key:t}=e;return this.checkRefCount_INTERNAL(),tl(this._store,this._store.getState().currentTree,t)}),c(this,"map",e=>{this.checkRefCount_INTERNAL();let t=new tA(this,ti);return e(t),t}),c(this,"asyncMap",async e=>{this.checkRefCount_INTERNAL();let t=new tA(this,ti);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t}),this._store={storeID:ta(),parentStoreID:t,getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{let r=e.graphsByVersion;if(r.has(t))return u(r.get(t));let n=ts();return r.set(t,n),n},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw s("Cannot subscribe to Snapshots")}},this._store.getState().knownAtoms))to(this._store,r,"get"),ty(this._store,r,1);this.autoRelease_INTERNAL()}}function tS(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.getState(),i=r?tm():t.version;return{currentTree:{version:r?i:t.version,stateID:r?i:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(I(n.nodeCleanupFunctions.entries(),e=>{let[t]=e;return[t,()=>{}]}))}}let[tE,tk]=t_((e,t)=>{var r;let n=e.getState();return new tw(tS(e,"latest"===t?null!==(r=n.nextTree)&&void 0!==r?r:n.currentTree:u(n.previousTree)),e.storeID)},(e,t)=>{var r,n;return String(t)+String(e.storeID)+String(null===(r=e.getState().nextTree)||void 0===r?void 0:r.version)+String(e.getState().currentTree.version)+String(null===(n=e.getState().previousTree)||void 0===n?void 0:n.version)});tv(tk);class tA extends tw{constructor(e,t){super(tS(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),c(this,"_batch",void 0),c(this,"set",(e,t)=>{this.checkRefCount_INTERNAL();let r=this.getStore_INTERNAL();this._batch(()=>{ty(r,e.key,1),tp(this.getStore_INTERNAL(),e,t)})}),c(this,"reset",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();this._batch(()=>{ty(t,e.key,1),tp(this.getStore_INTERNAL(),e,tu)})}),c(this,"setUnvalidatedAtomValues_DEPRECATED",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();ti(()=>{for(let[r,n]of e.entries())ty(t,r,1),tg(t,new th(r),n)})}),this._batch=t}}var tC={Snapshot:tw,MutableSnapshot:tA,freshSnapshot:function(e){let t=new tw(tx());return null!=e?t.map(e):t},cloneSnapshot:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",r=tE(e,t);return r.isRetained()?r:(tk(),tE(e,t))}},tT=Object.freeze({__proto__:null,Snapshot:tC.Snapshot,MutableSnapshot:tC.MutableSnapshot,freshSnapshot:tC.freshSnapshot,cloneSnapshot:tC.cloneSnapshot}),tD=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=new Set;for(let e of t)for(let t of e)n.add(t);return n};let{useRef:tN}=i;var tM=function(e){let t=tN(e);return t.current===e&&"function"==typeof e&&(t.current=e()),t};let{getNextTreeStateVersion:tR,makeEmptyStoreState:tj}=eu,{cleanUpNode:tL,getDownstreamNodes:tI,initializeNode:tO,setNodeValue:tP,setUnvalidatedAtomValue_DEPRECATED:tU}=ek,{graph:tB}=ee,{cloneGraph:tG}=ee,{getNextStoreID:tV}=ei,{reactMode:tF}=T,{applyAtomValueWrites:tK}=eq,{releaseScheduledRetainablesNow:tz}=e8,{freshSnapshot:tY}=tT,{Suspense:tJ,useCallback:tH,useContext:tq,useEffect:tW,useRef:t$,useState:tZ}=i;function tQ(){throw s("This component must be used inside a <RecoilRoot> component.")}let tX=Object.freeze({storeID:tV(),getState:tQ,replaceState:tQ,getGraph:tQ,subscribeToTransactions:tQ,addTransactionMetadata:tQ}),t0=!1;function t1(e){if(t0)throw s("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(null===t.nextTree){E("recoil_memory_managament_2020")&&E("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&tz(e);let r=t.currentTree.version,n=tR();t.nextTree={...t.currentTree,version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(n,tG(u(t.graphsByVersion.get(r))))}}let t2=i.createContext({current:tX}),t5=()=>tq(t2);function t8(e,t,r){for(let n of tI(e,r,r.dirtyAtoms)){let e=t.nodeToComponentSubscriptions.get(n);if(e)for(let[t,[n,i]]of e)i(r)}}function t6(e){let t=e.getState(),r=t.currentTree,n=r.dirtyAtoms;if(n.size){for(let[r,i]of t.nodeTransactionSubscriptions)if(n.has(r))for(let[t,r]of i)r(e);for(let[r,n]of t.transactionSubscriptions)n(e);(!tF().early||t.suspendedComponentResolvers.size>0)&&(t8(e,t,r),t.suspendedComponentResolvers.forEach(e=>e()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(e=>e(r)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function t3(e){let{setNotifyBatcherOfChange:t}=e,r=t5(),[,n]=tZ([]);return t(()=>n({})),tW(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),tW(()=>{Y.enqueueExecution("Batcher",()=>{!function(e){let t=e.getState();t.commitDepth++;try{let{nextTree:r}=t;if(null==r)return;t.previousTree=t.currentTree,t.currentTree=r,t.nextTree=null,t6(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):k("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,E("recoil_memory_managament_2020")&&null==r&&tz(e)}finally{t.commitDepth--}}(r.current)})}),null}let t9=!1;function t4(){return t9||(t9=!0,console.warn("Suspended <RecoilRoot> detected. The children of <RecoilRoot> should be wrapped in a <Suspense> boundary since RecoilRoot is not designed to suspend.")),null}let t7=0;function re(e){let t,{initializeState_DEPRECATED:r,initializeState:n,store_INTERNAL:o,children:l,skipCircularDependencyDetection_DANGEROUS:s}=e,a=e=>{let r=t.current.graphsByVersion;if(r.has(e))return u(r.get(e));let n=tB();return r.set(e,n),n},c=(e,t)=>{if(null==t){let{transactionSubscriptions:t}=g.current.getState(),r=t7++;return t.set(r,e),{release:()=>{t.delete(r)}}}{let{nodeTransactionSubscriptions:r}=g.current.getState();r.has(t)||r.set(t,new Map);let n=t7++;return u(r.get(t)).set(n,e),{release:()=>{let e=r.get(t);e&&(e.delete(n),0===e.size&&r.delete(t))}}}},d=e=>{for(let t of(t1(g.current),Object.keys(e)))u(g.current.getState().nextTree).transactionMetadata[t]=e[t]},h=e=>{let r;t1(g.current);let n=u(t.current.nextTree);try{t0=!0,r=e(n)}finally{t0=!1}r!==n&&(t.current.nextTree=r,tF().early&&t8(g.current,t.current,r),u(f.current)())},f=t$(null),p=tH(e=>{f.current=e},[f]),g=tM(()=>null!=o?o:{storeID:tV(),getState:()=>t.current,replaceState:h,getGraph:a,subscribeToTransactions:c,addTransactionMetadata:d,skipCircularDependencyDetection_DANGEROUS:s});return null!=o&&(g.current=o),t=tM(()=>null!=r?function(e,t){let r=tj();return t({set:(t,n)=>{let i=r.currentTree,o=tP(e,i,t.key,n),l=new Set(o.keys()),s=i.nonvalidatedAtoms.clone();for(let e of l)s.delete(e);r.currentTree={...i,dirtyAtoms:tD(i.dirtyAtoms,l),atomValues:tK(i.atomValues,o),nonvalidatedAtoms:s}},setUnvalidatedAtomValues:e=>{e.forEach((e,t)=>{r.currentTree=tU(r.currentTree,t,e)})}}),r}(g.current,r):null!=n?function(e){let t=tY(e),r=t.getStore_INTERNAL().getState();return t.retain(),r.nodeCleanupFunctions.forEach(e=>e()),r.nodeCleanupFunctions.clear(),r}(n):tj()),tW(()=>{let e=g.current;for(let t of new Set(e.getState().knownAtoms))tO(e,t,"get");return()=>{for(let t of e.getState().knownAtoms)tL(e,t)}},[g]),i.createElement(t2.Provider,{value:g},i.createElement(t3,{setNotifyBatcherOfChange:p}),i.createElement(tJ,{fallback:i.createElement(t4,null)},l))}var rt={RecoilRoot:function(e){let{override:t,...r}=e,n=t5();return!1===t&&n.current!==tX?e.children:i.createElement(re,r)},useStoreRef:t5,useRecoilStoreID:function(){return t5().current.storeID},notifyComponents_FOR_TESTING:t8,sendEndOfBatchNotifications_FOR_TESTING:t6},rr=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0};let{useEffect:rn,useRef:ri}=i;var ro=function(e){let t=ri();return rn(()=>{t.current=e}),t.current};let{useStoreRef:rl}=rt,{SUSPENSE_TIMEOUT_MS:rs}=e8,{updateRetainCount:ra}=e8,{RetentionZone:ru}=ed,{useEffect:rc,useRef:rd}=i,{isSSR:rh}=tn;var rf=function(e){if(E("recoil_memory_managament_2020"))return function(e){let t=(Array.isArray(e)?e:[e]).map(e=>e instanceof ru?e:e.key),r=rl();rc(()=>{if(!E("recoil_memory_managament_2020"))return;let e=r.current;if(n.current&&!rh)window.clearTimeout(n.current),n.current=null;else for(let r of t)ra(e,r,1);return()=>{for(let r of t)ra(e,r,-1)}},[r,...t]);let n=rd(),i=ro(t);if(!rh&&(void 0===i||!rr(i,t))){let e=r.current;for(let r of t)ra(e,r,1);if(i)for(let t of i)ra(e,t,-1);n.current&&window.clearTimeout(n.current),n.current=window.setTimeout(()=>{for(let r of(n.current=null,t))ra(e,r,-1)},rs)}}(e)},rp=function(){return"<component name not available>"};let{batchUpdates:rg}=te,{DEFAULT_VALUE:ry}=z,{currentRendererSupportsUseSyncExternalStore:rv,reactMode:rm,useSyncExternalStore:rx}=T,{useStoreRef:rb}=rt,{isRecoilValue:r_}=j,{AbstractRecoilValue:rw,getRecoilValueAsLoadable:rS,setRecoilValue:rE,setUnvalidatedRecoilValue:rk,subscribeToRecoilValue:rA}=eq,{useCallback:rC,useEffect:rT,useMemo:rD,useRef:rN,useState:rM}=i,{setByAddingToSet:rR}=eh,{isSSR:rj}=tn;function rL(e,t,r){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise(t=>{let n=r.current.getState().suspendedComponentResolvers;n.add(t),rj&&a(e.contents)&&e.contents.finally(()=>{n.delete(t)})});if("hasError"===e.state)throw e.contents;throw s('Invalid value of loadable atom "'.concat(t.key,'"'))}function rI(e){let t=rb(),r=rp(),n=rC(()=>{var r;let n=t.current,i=n.getState();return{loadable:rS(n,e,rm().early&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree),key:e.key}},[t,e]),i=rC(e=>{let t;return()=>{var r,n;let i=e();return null!==(r=t)&&void 0!==r&&r.loadable.is(i.loadable)&&(null===(n=t)||void 0===n?void 0:n.key)===i.key?t:(t=i,i)}},[]),o=rD(()=>i(n),[n,i]);return rx(rC(n=>rA(t.current,e,n,r).release,[t,e,r]),o,o).loadable}function rO(e){let t=rb(),r=rp(),n=rC(()=>{var r;let n=t.current,i=n.getState();return rS(n,e,rm().early&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree)},[t,e]),i=rC(()=>({loadable:n(),key:e.key}),[n,e.key]),o=rC(e=>{let t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t},[i]);rT(()=>{let n=rA(t.current,e,e=>{s(o)},r);return s(o),n.release},[r,e,t,o]);let[l,s]=rM(i);return l.key!==e.key?i().loadable:l.loadable}function rP(e){let t=rb(),[,r]=rM([]),n=rp(),i=rC(()=>{var r;let n=t.current,i=n.getState();return rS(n,e,rm().early&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree)},[t,e]),o=i(),l=rN(o);return rT(()=>{l.current=o}),rT(()=>{let o=t.current,s=o.getState(),a=rA(o,e,e=>{var t;if(!E("recoil_suppress_rerender_in_callback"))return r([]);let n=i();null!==(t=l.current)&&void 0!==t&&t.is(n)||r(n),l.current=n},n);if(s.nextTree)o.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{l.current=null,r([])});else{var u;if(!E("recoil_suppress_rerender_in_callback"))return r([]);let e=i();null!==(u=l.current)&&void 0!==u&&u.is(e)||r(e),l.current=e}return a.release},[n,i,e,t]),o}function rU(e){return E("recoil_memory_managament_2020")&&rf(e),({TRANSITION_SUPPORT:rO,SYNC_EXTERNAL_STORE:rv()?rI:rO,LEGACY:rP})[rm().mode](e)}function rB(e){let t=rb();return rL(rU(e),e,t)}function rG(e){let t=rb();return rC(r=>{rE(t.current,e,r)},[t,e])}function rV(e){return E("recoil_memory_managament_2020")&&rf(e),rO(e)}function rF(e){let t=rb();return rL(rV(e),e,t)}var rK=function(e,t){let r=new Map;for(let[n,i]of e)t(i,n)&&r.set(n,i);return r},rz=function(e,t){let r=new Set;for(let n of e)t(n)&&r.add(n);return r},rY=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=new Map;for(let e=0;e<t.length;e++){let r;let i=t[e].keys();for(;!(r=i.next()).done;)n.set(r.value,t[e].get(r.value))}return n};let{batchUpdates:rJ}=te,{DEFAULT_VALUE:rH,getNode:rq,nodes:rW}=z,{useStoreRef:r$}=rt,{AbstractRecoilValue:rZ,setRecoilValueLoadable:rQ}=eq,{SUSPENSE_TIMEOUT_MS:rX}=e8,{cloneSnapshot:r0}=tT,{useCallback:r1,useEffect:r2,useRef:r5,useState:r8}=i,{isSSR:r6}=tn;function r3(e){let t=r$();r2(()=>t.current.subscribeToTransactions(e).release,[e,t])}function r9(e){let t=Q(rK(e.atomValues.toMap(),(e,t)=>{let r=rq(t).persistence_UNSTABLE;return null!=r&&"none"!==r.type&&"hasValue"===e.state}),e=>e.contents);return rY(e.nonvalidatedAtoms.toMap(),t)}function r4(e,t){var r;let n=e.getState(),i=null!==(r=n.nextTree)&&void 0!==r?r:n.currentTree,o=t.getStore_INTERNAL().getState().currentTree;rJ(()=>{let r=new Set;for(let e of[i.atomValues.keys(),o.atomValues.keys()])for(let t of e){var n,l;(null===(n=i.atomValues.get(t))||void 0===n?void 0:n.contents)!==(null===(l=o.atomValues.get(t))||void 0===l?void 0:l.contents)&&rq(t).shouldRestoreFromSnapshots&&r.add(t)}r.forEach(t=>{rQ(e,new rZ(t),o.atomValues.has(t)?u(o.atomValues.get(t)):rH)}),e.replaceState(e=>({...e,stateID:t.getID()}))})}var r7={useRecoilSnapshot:function(){let e=r$(),[t,r]=r8(()=>r0(e.current)),n=ro(t),i=r5(),o=r5();if(r3(r1(e=>r(r0(e)),[])),r2(()=>{let e=t.retain();if(i.current&&!r6){var r;window.clearTimeout(i.current),i.current=null,null===(r=o.current)||void 0===r||r.call(o),o.current=null}return()=>{window.setTimeout(e,10)}},[t]),n!==t&&!r6){if(i.current){var l;window.clearTimeout(i.current),i.current=null,null===(l=o.current)||void 0===l||l.call(o),o.current=null}o.current=t.retain(),i.current=window.setTimeout(()=>{var e;i.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null},rX)}return t},gotoSnapshot:r4,useGotoRecoilSnapshot:function(){let e=r$();return r1(t=>r4(e.current,t),[e])},useRecoilTransactionObserver:function(e){r3(r1(t=>{e({snapshot:r0(t,"latest"),previousSnapshot:r0(t,"previous")})},[e]))},useTransactionObservation_DEPRECATED:function(e){r3(r1(t=>{let r=t.getState().previousTree,n=t.getState().currentTree;r||(k("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),r=t.getState().currentTree);let i=r9(n),o=r9(r),l=Q(rW,e=>{var t,r,n,i;return{persistence_UNSTABLE:{type:null!==(t=null===(r=e.persistence_UNSTABLE)||void 0===r?void 0:r.type)&&void 0!==t?t:"none",backButton:null!==(n=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==n&&n}}}),s=rz(n.dirtyAtoms,e=>i.has(e)||o.has(e));e({atomValues:i,previousAtomValues:o,atomInfo:l,modifiedAtoms:s,transactionMetadata:{...n.transactionMetadata}})},[e]))},useTransactionSubscription_DEPRECATED:r3};let{peekNodeInfo:ne}=ek,{useStoreRef:nt}=rt,{RecoilRoot:nr,useStoreRef:nn}=rt,{useMemo:ni}=i,{loadableWithValue:no}=w,{initializeNode:nl}=ek,{DEFAULT_VALUE:ns,getNode:na}=z,{copyTreeState:nu,getRecoilValueAsLoadable:nc,invalidateDownstreams:nd,writeLoadableToTreeState:nh}=eq;function nf(e){return"atom"===na(e.key).nodeType}class np{newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;let e=nu(this._treeState);for(let[t,r]of this._changes)nh(e,t,no(r));return nd(this._store,e),e}constructor(e,t){c(this,"_store",void 0),c(this,"_treeState",void 0),c(this,"_changes",void 0),c(this,"get",e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!nf(e))throw s("Reading selectors within atomicUpdate is not supported");let t=nc(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;if("hasError"===t.state)throw t.contents;throw s("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))}),c(this,"set",(e,t)=>{if(!nf(e))throw s("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){let r=this.get(e);this._changes.set(e.key,t(r))}else nl(this._store,e.key,"set"),this._changes.set(e.key,t)}),c(this,"reset",e=>{this.set(e,ns)}),this._store=e,this._treeState=t,this._changes=new Map}}var ng=Object.freeze({__proto__:null,atomicUpdater:function(e){return t=>{e.replaceState(r=>{let n=new np(e,r);return t(n),n.newTreeState_INTERNAL()})}}}),ny=function(e,t){if(!e)throw Error(t)};let{atomicUpdater:nv}=ng,{batchUpdates:nm}=te,{DEFAULT_VALUE:nx}=z,{useStoreRef:nb}=rt,{refreshRecoilValue:n_,setRecoilValue:nw}=eq,{cloneSnapshot:nS}=tT,{gotoSnapshot:nE}=r7,{useCallback:nk}=i;class nA{}let nC=new nA;function nT(e,t,r,n){let i,o=nC;if(nm(()=>{let l="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof t)throw s(l);let a=t(ep({...null!=n?n:{},set:(t,r)=>nw(e,t,r),reset:t=>nw(e,t,nx),refresh:t=>n_(e,t),gotoSnapshot:t=>nE(e,t),transact_UNSTABLE:t=>nv(e)(t)},{snapshot:()=>{let t=nS(e);return i=t.retain(),t}}));if("function"!=typeof a)throw s(l);o=a(...r)}),o instanceof nA&&ny(!1),a(o))o=o.finally(()=>{var e;null===(e=i)||void 0===e||e()});else{var l;null===(l=i)||void 0===l||l()}return o}var nD={recoilCallback:nT,useRecoilCallback:function(e,t){let r=nb();return nk(function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return nT(r.current,e,n)},null!=t?[...t,r]:void 0)}};let{useStoreRef:nN}=rt,{refreshRecoilValue:nM}=eq,{useCallback:nR}=i,{atomicUpdater:nj}=ng,{useStoreRef:nL}=rt,{useMemo:nI}=i;class nO{constructor(e){c(this,"value",void 0),this.value=e}}var nP=Object.freeze({__proto__:null,WrappedValue:{WrappedValue:nO}.WrappedValue});let{isFastRefreshEnabled:nU}=T;class nB extends Error{}class nG{size(){return this._numLeafs}root(){return this._root}get(e,t){var r;return null===(r=this.getLeafNode(e,t))||void 0===r?void 0:r.value}getLeafNode(e,t){if(null==this._root)return;let r=this._root;for(;r;){if(null==t||t.onNodeVisit(r),"leaf"===r.type)return this._onHit(r),r;let n=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(n)}}set(e,t,r){let n=()=>{var n,i,o,l,s,a,u;let c,d;for(let[t,n]of e){let e=this._root;if((null==e?void 0:e.type)==="leaf")throw this.invalidCacheError();let i=c;if("branch"!==(c=null!==(s=c=i?i.branches.get(d):e)&&void 0!==s?s:{type:"branch",nodeKey:t,parent:i,branches:new Map,branchKey:d}).type||c.nodeKey!==t)throw this.invalidCacheError();null==i||i.branches.set(d,c),null==r||null===(a=r.onNodeVisit)||void 0===a||a.call(r,c),d=this._mapNodeValue(n),this._root=null!==(u=this._root)&&void 0!==u?u:c}let h=c?null===(n=c)||void 0===n?void 0:n.branches.get(d):this._root;if(null!=h&&("leaf"!==h.type||h.branchKey!==d))throw this.invalidCacheError();let f={type:"leaf",value:t,parent:c,branchKey:d};null===(i=c)||void 0===i||i.branches.set(d,f),this._root=null!==(o=this._root)&&void 0!==o?o:f,this._numLeafs++,this._onSet(f),null==r||null===(l=r.onNodeVisit)||void 0===l||l.call(r,f)};try{n()}catch(e){if(e instanceof nB)this.clear(),n();else throw e}}delete(e){let t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let r=e.parent,n=e.branchKey;for(;r;){var i;if(r.branches.delete(n),r===t)return 0===r.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;n=null===(i=r)||void 0===i?void 0:i.branchKey,r=r.parent}for(;r!==t;r=r.parent)if(null==r)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){throw k((nU()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.")+(null!=this._name?" - ".concat(this._name):"")),new nB}constructor(e){var t,r,n;c(this,"_name",void 0),c(this,"_numLeafs",void 0),c(this,"_root",void 0),c(this,"_onHit",void 0),c(this,"_onSet",void 0),c(this,"_mapNodeValue",void 0),this._name=null==e?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(r=null==e?void 0:e.onSet)&&void 0!==r?r:()=>{},this._mapNodeValue=null!==(n=null==e?void 0:e.mapNodeValue)&&void 0!==n?n:e=>e}}var nV=Object.freeze({__proto__:null,TreeCache:{TreeCache:nG}.TreeCache});class nF{head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){let t=this._keyMapper(e),r=this._map.get(t);if(r)return this.set(e,r.value),r.value}set(e,t){let r=this._keyMapper(e);this._map.get(r)&&this.delete(e);let n=this.head(),i={key:e,right:n,left:null,value:t};n?n.left=i:this._tail=i,this._map.set(r,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let e=this.tail();e&&this.delete(e.key)}delete(e){let t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;let r=u(this._map.get(t)),n=r.right,i=r.left;n&&(n.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=n),r===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}constructor(e){var t;c(this,"_maxSize",void 0),c(this,"_size",void 0),c(this,"_head",void 0),c(this,"_tail",void 0),c(this,"_map",void 0),c(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}}var nK=Object.freeze({__proto__:null,LRUCache:{LRUCache:nF}.LRUCache});let{LRUCache:nz}=nK,{TreeCache:nY}=nV;var nJ=function(e){let{name:t,maxSize:r,mapNodeValue:n=e=>e}=e,i=new nz({maxSize:r}),o=new nY({name:t,mapNodeValue:n,onHit:e=>{i.set(e,!0)},onSet:e=>{let t=i.tail();i.set(e,!0),t&&o.size()>r&&o.delete(t.key)}});return o},nH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1};return function e(t,r,n){if("string"==typeof t&&!t.includes('"')&&!t.includes("\\"))return'"'.concat(t,'"');switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((null==r?void 0:r.allowFunctions)!==!0)throw s("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(t.name,")__")}if(null===t)return"null";if("object"!=typeof t){var i;return null!==(i=JSON.stringify(t))&&void 0!==i?i:""}if(a(t))return"__PROMISE__";if(Array.isArray(t))return"[".concat(t.map((t,n)=>e(t,r,n.toString())),"]");if("function"==typeof t.toJSON)return e(t.toJSON(n),r,n);if(t instanceof Map){let i={};for(let[n,o]of t)i["string"==typeof n?n:e(n,r)]=o;return e(i,r,n)}return t instanceof Set?e(Array.from(t).sort((t,n)=>e(t,r).localeCompare(e(n,r))),r,n):void 0!==Symbol&&null!=t[Symbol.iterator]&&"function"==typeof t[Symbol.iterator]?e(Array.from(t),r,n):"{".concat(Object.keys(t).filter(e=>void 0!==t[e]).sort().map(n=>"".concat(e(n,r),":").concat(e(t[n],r,n))).join(","),"}")}(e,t)};let{TreeCache:nq}=nV,nW={equality:"reference",eviction:"keep-all",maxSize:1/0};var n$=function(){let{equality:e=nW.equality,eviction:t=nW.eviction,maxSize:r=nW.maxSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nW,n=arguments.length>1?arguments[1]:void 0;return function(e,t,r,n){switch(e){case"keep-all":return new nq({name:n,mapNodeValue:r});case"lru":return nJ({name:n,maxSize:u(t),mapNodeValue:r});case"most-recent":return nJ({name:n,maxSize:1,mapNodeValue:r})}throw s("Unrecognized eviction policy ".concat(e))}(t,r,function(e){switch(e){case"reference":return e=>e;case"value":return e=>nH(e)}throw s("Unrecognized equality policy ".concat(e))}(e),n)};let{isReactNative:nZ,isWindow:nQ}=tn,{isLoadable:nX,loadableWithError:n0,loadableWithPromise:n1,loadableWithValue:n2}=w,{WrappedValue:n5}=nP,{getNodeLoadable:n8,peekNodeLoadable:n6,setNodeValue:n3}=ek,{saveDepsToStore:n9}=ee,{DEFAULT_VALUE:n4,getConfigDeletionHandler:n7,getNode:ie,registerNode:it}=z,{isRecoilValue:ir}=j,{markRecoilValueModified:ii}=eq,{retainedByOptionWithDefault:io}=e8,{recoilCallback:il}=nD,{startPerfBlock:is}={startPerfBlock:function(e){return()=>null}};class ia{}let iu=new ia,ic=[],id=new Map,ih=(()=>{let e=0;return()=>e++})();function ip(e){let t=null,{key:r,get:n,cachePolicy_UNSTABLE:i}=e,o=null!=e.set?e.set:void 0,l=new Set,c=n$(null!=i?i:{equality:"reference",eviction:"keep-all"},r),d=io(e.retainedBy_UNSTABLE),h=new Map,f=0;function p(){return!E("recoil_memory_managament_2020")||f>0}function g(e){return e.getState().knownSelectors.add(r),f++,()=>{f--}}function y(){return void 0!==n7(r)&&!p()}function v(e,t){N(e,t)&&D(e),m(t,!0)}function m(e,r){let n=id.get(e);if(null!=n){for(let e of n)ii(e,u(t));r&&id.delete(e)}}function x(e,t){let r=id.get(t);null==r&&id.set(t,r=new Set),r.add(e)}function b(e,t,r,n,i,o){return t.then(n=>{if(!p())throw D(e),iu;null!=o.loadingDepKey&&o.loadingDepPromise===t?r.atomValues.set(o.loadingDepKey,n2(n)):e.getState().knownSelectors.forEach(e=>{r.atomValues.delete(e)});let l=S(e,r);if(l&&"loading"!==l.state){if((N(e,i)||null==T(e))&&v(e,i),"hasValue"===l.state)return l.contents;throw l.contents}if(!N(e,i)){let t=C(e,r);if(null!=t)return t.loadingLoadable.contents}let[s,a]=w(e,r,i);if("loading"!==s.state)M(r,s,a),v(e,i);if("hasError"===s.state)throw s.contents;return s.contents}).catch(t=>{if(t instanceof ia)throw iu;if(!p())throw D(e),iu;throw M(r,n0(t),n),v(e,i),t})}function _(e,t,n,i){var o,s,a,u,c,d,h;for(let f of((N(e,i)||t.version===(null===(o=e.getState())||void 0===o?void 0:null===(s=o.currentTree)||void 0===s?void 0:s.version)||t.version===(null===(a=e.getState())||void 0===a?void 0:null===(u=a.nextTree)||void 0===u?void 0:u.version))&&n9(r,n,e,null!==(c=null===(d=e.getState())||void 0===d?void 0:null===(h=d.nextTree)||void 0===h?void 0:h.version)&&void 0!==c?c:e.getState().currentTree.version),n))l.add(f)}function w(e,i,o){let l,c;let d=is(r),h=!0,f=!0,g=()=>{d(),f=!1},y=!1,x={loadingDepKey:null,loadingDepPromise:null},w=new Map;function S(t){let{key:r}=t,n=n8(e,i,r);if(w.set(r,n),!h)_(e,i,new Set(w.keys()),o),N(e,o)&&(u(T(e)).stateVersions.clear(),m(o,!1));switch(n.state){case"hasValue":return n.contents;case"hasError":throw n.contents;case"loading":throw x.loadingDepKey=r,x.loadingDepPromise=n.contents,n.contents}throw s("Invalid Loadable state")}try{if(l=n({get:S,getCallback:r=>function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];if(f)throw s("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return null==t&&ny(!1),il(e,r,i,{node:t})}}),l=ir(l)?S(l):l,nX(l)&&("hasError"===l.state&&(y=!0),l=l.contents),a(l))l=l.then(t=>{if(!p())throw D(e),iu;let r=n2(t);return M(i,r,w),v(e,o),t}).catch(t=>{if(!p())throw D(e),iu;if(a(t))return b(e,t,i,w,o,x);let r=n0(t);throw M(i,r,w),v(e,o),t}).finally(g);else g();l=l instanceof n5?l.value:l}catch(t){a(l=t)?l=b(e,l,i,w,o,x).finally(g):(y=!0,g())}return c=y?n0(l):a(l)?n1(l):n2(l),h=!1,function(e,t,r){if(N(e,t)){let t=T(e);null!=t&&(t.depValuesDiscoveredSoFarDuringAsyncWork=r)}}(e,o,w),_(e,i,new Set(w.keys()),o),[c,w]}function S(e,t){let n=t.atomValues.get(r);if(null!=n)return n;let i=new Set;try{n=c.get(r=>("string"!=typeof r&&ny(!1),n8(e,t,r).contents),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==r&&i.add(e.nodeKey)}})}catch(e){throw s('Problem with cache lookup for selector "'.concat(r,'": ').concat(e.message))}if(n){var o;t.atomValues.set(r,n),_(e,t,i,null===(o=T(e))||void 0===o?void 0:o.executionID)}return n}function A(e,t){var r,n,i,o,l,s;let a=S(e,t);if(null!=a)return D(e),a;let u=C(e,t);if(null!=u){return(null===(r=u.loadingLoadable)||void 0===r?void 0:r.state)==="loading"&&x(e,u.executionID),u.loadingLoadable}let c=ih(),[d,f]=w(e,t,c);return"loading"===d.state?(n=e,i=c,o=d,l=f,s=t,h.set(n,{depValuesDiscoveredSoFarDuringAsyncWork:l,executionID:i,loadingLoadable:o,stateVersions:new Map([[s.version,!0]])}),x(e,c)):(D(e),M(t,d,f)),d}function C(e,t){for(let r of tt([h.has(e)?[u(h.get(e))]:[],I(ef(h,t=>{let[r]=t;return r!==e}),e=>{let[,t]=e;return t})])){if(r.stateVersions.get(t.version)||!function(r){for(let[n,i]of r)if(!n8(e,t,n).is(i))return!0;return!1}(r.depValuesDiscoveredSoFarDuringAsyncWork))return r.stateVersions.set(t.version,!0),r;r.stateVersions.set(t.version,!1)}}function T(e){return h.get(e)}function D(e){h.delete(e)}function N(e,t){var r;return t===(null===(r=T(e))||void 0===r?void 0:r.executionID)}function M(e,t,n){e.atomValues.set(r,t);try{c.set(Array.from(n.entries()).map(e=>{let[t,r]=e;return[t,r.contents]}),t)}catch(e){throw s('Problem with setting cache for selector "'.concat(r,'": ').concat(e.message))}}function R(e,t){let n=t.atomValues.get(r);return null!=n?n:c.get(r=>{var n;return"string"!=typeof r&&ny(!1),null===(n=n6(e,t,r))||void 0===n?void 0:n.contents})}function j(e,t){return!0===e.skipCircularDependencyDetection_DANGEROUS?A(e,t):function(e){if(ic.includes(r))return n0(s("Recoil selector has circular dependencies: ".concat(ic.slice(ic.indexOf(r)).join("  "))));ic.push(r);try{return e()}finally{ic.pop()}}(()=>A(e,t))}function L(e){e.atomValues.delete(r)}function O(e,r){for(let i of(null==t&&ny(!1),l)){var n;let t=ie(i);null===(n=t.clearCache)||void 0===n||n.call(t,e,r)}l.clear(),L(r),c.clear(),ii(e,t)}return t=null!=o?it({key:r,nodeType:"selector",peek:R,get:j,set:(e,t,n)=>{let i=!1,l=new Map;function u(n){let{key:o}=n;if(i)throw s("Recoil: Async selector sets are not currently supported.");let l=n8(e,t,o);if("hasValue"===l.state)return l.contents;if("loading"===l.state){let e='Getting value of asynchronous atom or selector "'.concat(o,'" in a pending state while setting selector "').concat(r,'" is not yet supported.');throw k(e),s(e)}throw l.contents}function c(r,n){if(i){let e="Recoil: Async selector sets are not currently supported.";throw k(e),s(e)}let o="function"==typeof n?n(u(r)):n;n3(e,t,r.key,o).forEach((e,t)=>l.set(t,e))}let d=o({set:c,get:u,reset:function(e){c(e,n4)}},n);if(void 0!==d)throw a(d)?s("Recoil: Async selector sets are not currently supported."):s("Recoil: selector set should be a void function.");return i=!0,l},init:g,invalidate:L,clearCache:O,shouldDeleteConfigOnRelease:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:d}):it({key:r,nodeType:"selector",peek:R,get:j,init:g,invalidate:L,clearCache:O,shouldDeleteConfigOnRelease:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:d})}ip.value=e=>new n5(e);let{isLoadable:ig,loadableWithError:iy,loadableWithPromise:iv,loadableWithValue:im}=w,{WrappedValue:ix}=nP,{peekNodeInfo:ib}=ek,{DEFAULT_VALUE:i_,DefaultValue:iw,getConfigDeletionHandler:iS,registerNode:iE,setConfigDeletionHandler:ik}=z,{isRecoilValue:iA}=j,{getRecoilValueAsLoadable:iC,markRecoilValueModified:iT,setRecoilValue:iD,setRecoilValueLoadable:iN}=eq,{retainedByOptionWithDefault:iM}=e8,iR=e=>e instanceof ix?e.value:e;function ij(e){let{...t}=e,r="default"in e?e.default:new Promise(()=>{});return iA(r)?function(e){let t=ij({...e,default:i_,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof iw?t:u(e.persistence_UNSTABLE).validator(t,i_)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),r=ip({key:"".concat(e.key,"__withFallback"),get:r=>{let{get:n}=r,i=n(t);return i instanceof iw?e.default:i},set:(e,r)=>{let{set:n}=e;return n(t,r)},cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return ik(r.key,iS(e.key)),r}({...t,default:r}):function(e){var t;let r;let{key:n,persistence_UNSTABLE:i}=e,o=iM(e.retainedBy_UNSTABLE),l=0;function c(e){return iv(e.then(e=>(d=im(e),e)).catch(e=>{throw d=iy(e),e}))}let d=a(e.default)?c(e.default):ig(e.default)?"loading"===e.default.state?c(e.default.contents):e.default:im(iR(e.default));t=d.contents;let h=new Map;function f(e,t){var i,o;return null!==(i=null!==(o=t.atomValues.get(n))&&void 0!==o?o:r)&&void 0!==i?i:d}let p=iE({key:n,nodeType:"atom",peek:f,get:function(e,t){if(t.atomValues.has(n))return u(t.atomValues.get(n));if(!t.nonvalidatedAtoms.has(n))return d;{if(null!=r)return r;if(null==i)return L("Tried to restore a persisted value for atom ".concat(n," but it has no persistence settings.")),d;let e=t.nonvalidatedAtoms.get(n),o=i.validator(e,i_);return r=o instanceof iw?d:im(o)}},set:function(e,t,i){if(t.atomValues.has(n)){let e=u(t.atomValues.get(n));if("hasValue"===e.state&&i===e.contents)return new Map}else if(!t.nonvalidatedAtoms.has(n)&&i instanceof iw)return new Map;return r=void 0,new Map().set(n,im(i))},init:function(t,r,i){var o,u,c;l++,t.getState().knownAtoms.add(n),"loading"===d.state&&d.contents.finally(()=>{var e;(null!==(e=t.getState().nextTree)&&void 0!==e?e:t.getState().currentTree).atomValues.has(n)||iT(t,p)});let g=null!==(o=e.effects)&&void 0!==o?o:e.effects_UNSTABLE;if(null!=g){let e=i_,o=!0,l=!1,x=null;function y(i){if(o&&i.key===n){let n=e;return n instanceof iw?f(t,r):a(n)?iv(n.then(e=>e instanceof iw?d.toPromise():e)):im(n)}return iC(t,i)}function v(e){return y(e).toPromise()}function m(r){var i;let l=ib(t,null!==(i=t.getState().nextTree)&&void 0!==i?i:t.getState().currentTree,r.key);return!o||r.key!==n||e instanceof iw?l:{...l,isSet:!0,loadable:y(r)}}let b=r=>n=>{if(o){let t=y(p),i="hasValue"===t.state?t.contents:i_;a(e="function"==typeof n?n(i):n)&&(e=e.then(e=>(x={effect:r,value:e},e)))}else{if(a(n))throw s("Setting atoms to async values is not implemented.");"function"!=typeof n&&(x={effect:r,value:iR(n)}),iD(t,p,"function"==typeof n?e=>{let t=n(e);if(a(t))throw s("Setting atoms to async values is not yet implemented.");let i=iR(t);return x={effect:r,value:i},i}:iR(n))}},_=e=>()=>b(e)(i_),w=e=>r=>{var i;let{release:o}=t.subscribeToTransactions(t=>{var i,o,l,s,a;let{currentTree:u,previousTree:c}=t.getState();c||(k("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),c=u);let h=null!==(i=u.atomValues.get(n))&&void 0!==i?i:d;if("hasValue"===h.state){let t=h.contents,i=null!==(o=c.atomValues.get(n))&&void 0!==o?o:d,f="hasValue"===i.state?i.contents:i_;(null===(l=x)||void 0===l?void 0:l.effect)!==e||(null===(s=x)||void 0===s?void 0:s.value)!==t?r(t,f,!u.atomValues.has(n)):(null===(a=x)||void 0===a?void 0:a.effect)===e&&(x=null)}},n);h.set(t,[...null!==(i=h.get(t))&&void 0!==i?i:[],o])};for(let r of g)try{let e=r({node:p,storeID:t.storeID,parentStoreID_UNSTABLE:t.parentStoreID,trigger:i,setSelf:b(r),resetSelf:_(r),onSet:w(r),getPromise:v,getLoadable:y,getInfo_UNSTABLE:m});null!=e&&h.set(t,[...null!==(u=h.get(t))&&void 0!==u?u:[],e])}catch(t){e=t,l=!0}if(o=!1,!(e instanceof iw)){let i=l?iy(e):a(e)?iv(function(e,t){let r=t.then(t=>{var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(n))||void 0===o?void 0:o.contents)===r&&(iT(e,p),iD(e,p,t)),t}).catch(t=>{var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(n))||void 0===o?void 0:o.contents)===r&&(iT(e,p),iN(e,p,iy(t))),t});return r}(t,e)):im(iR(e));i.contents,r.atomValues.set(n,i),null===(c=t.getState().nextTree)||void 0===c||c.atomValues.set(n,i)}}return()=>{var e;l--,null===(e=h.get(t))||void 0===e||e.forEach(e=>e()),h.delete(t)}},invalidate:function(){r=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==iS(n)&&l<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:o});return p}({...t,default:r})}ij.value=e=>new ix(e);class iL{size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}constructor(e){var t;c(this,"_map",void 0),c(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}}var iI=Object.freeze({__proto__:null,MapCache:{MapCache:iL}.MapCache});let{LRUCache:iO}=nK,{MapCache:iP}=iI,iU={equality:"reference",eviction:"none",maxSize:1/0};var iB=function(){let{equality:e=iU.equality,eviction:t=iU.eviction,maxSize:r=iU.maxSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iU;return function(e,t,r){switch(e){case"keep-all":return new iP({mapKey:r});case"lru":return new iO({mapKey:r,maxSize:u(t)});case"most-recent":return new iO({mapKey:r,maxSize:1})}throw s("Unrecognized eviction policy ".concat(e))}(t,r,function(e){switch(e){case"reference":return e=>e;case"value":return e=>nH(e)}throw s("Unrecognized equality policy ".concat(e))}(e))};let{setConfigDeletionHandler:iG}=z,{setConfigDeletionHandler:iV}=z,iF=0;var iK=function(e){var t,r;let n=iB({equality:null!==(t=null===(r=e.cachePolicyForParams_UNSTABLE)||void 0===r?void 0:r.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var r;let i,o;try{i=n.get(t)}catch(t){throw s("Problem with cache lookup for selector ".concat(e.key,": ").concat(t.message))}if(null!=i)return i;let l="".concat(e.key,"__selectorFamily/").concat(null!==(r=nH(t,{allowFunctions:!0}))&&void 0!==r?r:"void","/").concat(iF++),a=r=>e.get(t)(r),u=e.cachePolicy_UNSTABLE,c="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){let r=e.set;o=ip({key:l,get:a,set:(e,n)=>r(t)(e,n),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else o=ip({key:l,get:a,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return n.set(t,o),iV(o.key,()=>{n.delete(t)}),o}};let iz=iK({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}}),iY=iK({key:"__error",get:e=>()=>{throw s(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}}),{loadableWithError:iJ,loadableWithPromise:iH,loadableWithValue:iq}=w;function iW(e,t){let r=Array(t.length).fill(void 0),n=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{r[i]=e(o)}catch(e){n[i]=e}return[r,n]}function i$(e){return null!=e&&!a(e)}function iZ(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function iQ(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((e,r,n)=>({...e,[r]:t[n]}),{})}function iX(e,t,r){return iQ(e,r.map((e,r)=>null==e?iq(t[r]):a(e)?iH(e):iJ(e)))}let i0=iK({key:"__waitForNone",get:e=>t=>{let{get:r}=t,[n,i]=iW(r,iZ(e));return iX(e,n,i)},dangerouslyAllowMutability:!0}),i1=iK({key:"__waitForAny",get:e=>t=>{let{get:r}=t,[n,i]=iW(r,iZ(e));return i.some(e=>!a(e))?iX(e,n,i):new Promise(t=>{for(let[r,o]of i.entries())a(o)&&o.then(o=>{n[r]=o,i[r]=void 0,t(iX(e,n,i))}).catch(o=>{i[r]=o,t(iX(e,n,i))})})},dangerouslyAllowMutability:!0}),i2=iK({key:"__waitForAll",get:e=>t=>{let{get:r}=t,[n,i]=iW(r,iZ(e));if(i.every(e=>null==e))return iQ(e,n);let o=i.find(i$);if(null!=o)throw o;return Promise.all(i).then(t=>iQ(e,t.map((e,t)=>void 0===e?n[t]:e)))},dangerouslyAllowMutability:!0}),i5=iK({key:"__waitForAllSettled",get:e=>t=>{let{get:r}=t,[n,i]=iW(r,iZ(e));return i.every(e=>!a(e))?iX(e,n,i):Promise.all(i.map((e,t)=>a(e)?e.then(e=>{n[t]=e,i[t]=void 0}).catch(e=>{n[t]=void 0,i[t]=e}):null)).then(()=>iX(e,n,i))},dangerouslyAllowMutability:!0}),i8=iK({key:"__noWait",get:e=>t=>{let{get:r}=t;try{return ip.value(iq(r(e)))}catch(e){return ip.value(a(e)?iH(e):iJ(e))}},dangerouslyAllowMutability:!0}),{RecoilLoadable:i6}=w,{DefaultValue:i3}=z,{RecoilRoot:i9,useRecoilStoreID:i4}=rt,{isRecoilValue:i7}=j,{retentionZone:oe}=ed,{freshSnapshot:ot}=tT,{useRecoilState:or,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:on,useRecoilStateLoadable:oi,useRecoilValue:oo,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:ol,useRecoilValueLoadable:os,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:oa,useResetRecoilState:ou,useSetRecoilState:oc}={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){let e=rp(),t=rb(),[,r]=rM([]),n=rN(new Set);n.current=new Set;let i=rN(new Set),o=rN(new Map),l=rC(e=>{let t=o.current.get(e);t&&(t.release(),o.current.delete(e))},[o]),s=rC((e,t)=>{o.current.has(t)&&r([])},[]);return rT(()=>{let r=t.current;Z(n.current,i.current).forEach(t=>{if(o.current.has(t)){L('Double subscription to RecoilValue "'.concat(t,'"'));return}let n=rA(r,new rw(t),e=>s(e,t),e);o.current.set(t,n),r.getState().nextTree?r.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s(r.getState(),t)}):s(r.getState(),t)}),Z(i.current,n.current).forEach(e=>{l(e)}),i.current=n.current}),rT(()=>{let r=o.current;return Z(n.current,new Set(r.keys())).forEach(n=>{let i=rA(t.current,new rw(n),e=>s(e,n),e);r.set(n,i)}),()=>r.forEach((e,t)=>l(t))},[e,t,l,s]),rD(()=>{function e(e){return r=>{rE(t.current,e,r)}}function r(e){var r;n.current.has(e.key)||(n.current=rR(n.current,e.key));let i=t.current.getState();return rS(t.current,e,rm().early&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree)}function i(e){return rL(r(e),e,t)}return{getRecoilValue:i,getRecoilValueLoadable:r,getRecoilState:function(t){return[i(t),e(t)]},getRecoilStateLoadable:function(t){return[r(t),e(t)]},getSetRecoilState:e,getResetRecoilState:function(e){return()=>rE(t.current,e,ry)}}},[n,t])},useRecoilState:function(e){return[rB(e),rG(e)]},useRecoilStateLoadable:function(e){return[rU(e),rG(e)]},useRecoilValue:rB,useRecoilValueLoadable:rU,useResetRecoilState:function(e){let t=rb();return rC(()=>{rE(t.current,e,ry)},[t,e])},useSetRecoilState:rG,useSetUnvalidatedAtomValues:function(){let e=rb();return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rg(()=>{e.current.addTransactionMetadata(r),t.forEach((t,r)=>rk(e.current,new rw(r),t))})}},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:rV,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:rF,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:function(e){return[rF(e),rG(e)]}},{useGotoRecoilSnapshot:od,useRecoilSnapshot:oh,useRecoilTransactionObserver:of}=r7,{useRecoilCallback:op}=nD,{noWait:og,waitForAll:oy,waitForAllSettled:ov,waitForAny:om,waitForNone:ox}={waitForNone:i0,waitForAny:i1,waitForAll:i2,waitForAllSettled:i5,noWait:i8};var ob={DefaultValue:i3,isRecoilValue:i7,RecoilLoadable:i6,RecoilEnv:S,RecoilRoot:i9,useRecoilStoreID:i4,useRecoilBridgeAcrossReactRoots_UNSTABLE:function(){let e=nn().current;return ni(()=>function(t){let{children:r}=t;return i.createElement(nr,{store_INTERNAL:e},r)},[e])},atom:ij,selector:ip,atomFamily:function(e){var t,r;let n=iB({equality:null!==(t=null===(r=e.cachePolicyForParams_UNSTABLE)||void 0===r?void 0:r.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var r,i;let o=n.get(t);if(null!=o)return o;let{cachePolicyForParams_UNSTABLE:l,...s}=e,a="default"in e?e.default:new Promise(()=>{}),u=ij({...s,key:"".concat(e.key,"__").concat(null!==(r=nH(t))&&void 0!==r?r:"void"),default:"function"==typeof a?a(t):a,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"==typeof e.effects?e.effects(t):"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE});return n.set(t,u),iG(u.key,()=>{n.delete(t)}),u}},selectorFamily:iK,constSelector:function(e){return iz(e)},errorSelector:function(e){return iY(e)},readOnlySelector:function(e){return e},noWait:og,waitForNone:ox,waitForAny:om,waitForAll:oy,waitForAllSettled:ov,useRecoilValue:oo,useRecoilValueLoadable:os,useRecoilState:or,useRecoilStateLoadable:oi,useSetRecoilState:oc,useResetRecoilState:ou,useGetRecoilValueInfo_UNSTABLE:function(){let e=nt();return t=>{let{key:r}=t;return ne(e.current,e.current.getState().currentTree,r)}},useRecoilRefresher_UNSTABLE:function(e){let t=nN();return nR(()=>{nM(t.current,e)},[e,t])},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:oa,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:ol,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:on,useRecoilCallback:op,useRecoilTransaction_UNSTABLE:function(e,t){let r=nL();return nI(()=>function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];nj(r.current)(t=>{e(t)(...n)})},null!=t?[...t,r]:void 0)},useGotoRecoilSnapshot:od,useRecoilSnapshot:oh,useRecoilTransactionObserver_UNSTABLE:of,snapshot_UNSTABLE:ot,useRetain:rf,retentionZone:oe},o_=ob.DefaultValue;ob.isRecoilValue,ob.RecoilLoadable,ob.RecoilEnv;var ow=ob.RecoilRoot;ob.useRecoilStoreID,ob.useRecoilBridgeAcrossReactRoots_UNSTABLE;var oS=ob.atom,oE=ob.selector,ok=ob.atomFamily,oA=ob.selectorFamily,oC=ob.constSelector;ob.errorSelector,ob.readOnlySelector,ob.noWait,ob.waitForNone,ob.waitForAny;var oT=ob.waitForAll;ob.waitForAllSettled;var oD=ob.useRecoilValue;ob.useRecoilValueLoadable;var oN=ob.useRecoilState;ob.useRecoilStateLoadable;var oM=ob.useSetRecoilState,oR=ob.useResetRecoilState;ob.useGetRecoilValueInfo_UNSTABLE,ob.useRecoilRefresher_UNSTABLE,ob.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,ob.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,ob.useRecoilState_TRANSITION_SUPPORT_UNSTABLE;var oj=ob.useRecoilCallback;ob.useRecoilTransaction_UNSTABLE,ob.useGotoRecoilSnapshot,ob.useRecoilSnapshot,ob.useRecoilTransactionObserver_UNSTABLE,ob.snapshot_UNSTABLE,ob.useRetain,ob.retentionZone},86032:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(68683),i=r(51005),o=r(53651),l=r(76653),s=r(7620);function a(){let e=(0,l.c3)("dialogs.dialogUnsavedChanges"),t=(0,n.qT)(),r=(0,o.usePromptAction)(()=>({id:"saveChanges",title:e("title"),text:e("text"),actions:[{value:"save",label:e("save"),primary:!0},{value:"leave",label:e("leave")},{value:null,label:e("cancel")}]}),[e]);return(0,s.useCallback)(async()=>{let e=await r();return!!e.value&&("save"!==e.value||!!await t(i.OJ))},[t,r])}},86149:(e,t,r)=>{"use strict";r.d(t,{Mw:()=>u,Q6:()=>d,rG:()=>c});var n=r(71096),i=r(68683),o=r(51897),l=r(85684),s=r(80470);class a{push(e){let t=this.states.slice(0,this.index+1);t.push(e)>this.maxLength&&t.shift(),this.index=(this.length=t.length)-1,this.states=t,this.notify("push")}setIndex(e){(e=Math.min(Math.max(e,0),this.length-1))!==this.index&&(this.index=e,this.notify("navigate"))}notify(e){if(!this._initialized)return;let t=this.states[this.index];this._onChange.fire({action:e,index:this.index,length:this.length,state:t})}current(){return this.states[this.index]}get(e){return this.states[Math.min(Math.max(e,0),this.length-1)]}init(e){this._initialized&&(this._initialized=!1,this.reset()),e&&this.push(e),this.commit(),this._initialized=!0,this.notify("init")}commit(){this.states=this.states.slice(this.index,this.index+1),this.length=this.states.length,this.index=this.length-1,this._initialState=this.states[0],this.notify("commit")}reset(){this._initialState?(this.states=[this._initialState],this.index=0):(this.states=[],this.index=-1),this.commit(),this.notify("reset")}undo(){this.setIndex(this.index-1)}redo(){this.setIndex(this.index+1)}dispose(){this._onChange.dispose(),this.reset()}constructor(){this._onChange=new s.v,this.onChange=this._onChange.event,this.index=-1,this.length=0,this.states=[],this.maxLength=20,this.undo=this.undo.bind(this),this.redo=this.redo.bind(this),this.reset=this.reset.bind(this),this.init=this.init.bind(this),this.commit=this.commit.bind(this)}}class u extends a{async getTrackedState(e){return await this._send(this._getTrackedStateCommand,e)}async pushCurrentState(){this._pendingStatePush=this._pushCurrentState()}register(e){this._items.set(e.key,e)}unregister(e){this._items.delete(e.key)}subscribe(e){return this.onChange(e).dispose}async _pushCurrentState(){await this._pendingStatePush,this.push(await this.getTrackedState())}constructor({getService:e}){super(),this._items=new Map,this._pendingStatePush=Promise.resolve(),this._getTrackedStateCommand=(0,i.G5)(e=>{let{snapshot:t}=e;var r=this;return async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=e.retain();try{let t={};return await Promise.all(Array.from(r._items).map(async r=>{let[n,i]=r;t[n]=await e.getPromise(i)})),t}finally{n()}}}),this._id=++u._nextId,this._send=e(i.Ts).send,this.recoilState=(0,l.gD)({key:"StateHistoryService_trackedState_"+this._id,get:()=>null,set:(e,t)=>{let{set:r}=e;if(t instanceof l.nO)return;let n=new Map(this._items);for(let e in t)n.has(e)&&r(n.get(e),t[e])}})}}u._nextId=0,u=(0,n.Cg)([o.e,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",["undefined"==typeof ServiceProps?Object:ServiceProps])],u);let c=(0,i.h$)(u);function d(e){let{key:t,states:r}=e;return(0,l.gD)({key:t,get:e=>{let{get:t}=e,n={};for(let e of r)n[e.key]=t(e);return n},set:(e,t)=>{let{set:n}=e;if(!(t instanceof l.nO))for(let e of r)n(e,t[e.key])}})}},87215:(e,t,r)=>{"use strict";r.d(t,{Rq:()=>a,XA:()=>s,ik:()=>u,rE:()=>o,uX:()=>l,yU:()=>c});let{atom:n,selector:i}=(0,r(35298).M)("v1/history"),o=n({key:"version",default:{current:0,latest:0,saved:0}}),l=n({key:"stateHistoryState",default:{index:-1,length:0}}),s=i({key:"disableUndoState",get:e=>{let{get:t}=e,{index:r}=t(l);return r<1}}),a=i({key:"disableRedoState",get:e=>{let{get:t}=e,{index:r,length:n}=t(l);return r>n-2}});i({key:"disableResetState",get:e=>{let{get:t}=e,{length:r}=t(l);return 1===r}});let u=i({key:"hasChanges",get:e=>{let{get:t}=e,r=t(o);return r.current!==r.saved}}),c=e=>{let t=e.latest+1;return{...e,current:t,latest:t}}},88270:e=>{e.exports={disabled:"ContextMenu_disabled__1mTM2",active:"ContextMenu_active__R8E5G"}},88778:(e,t,r)=>{"use strict";r.d(t,{CB:()=>i,UM:()=>s,bn:()=>a,kl:()=>o,p8:()=>l});var n=r(71246);function i(e,t,r,n){return Math.round(180*Math.atan2(t-n,e-r)/Math.PI+180)%360}function o(e,t,r){let i=(0,n.V)(e,t);return i.left=r,i}function l(e){var t,r,n,o;let{x1:l=0,y1:s=50,x2:a=100,y2:c=50}=e;return{id:null!==(t=e.id)&&void 0!==t?t:u(),type:null!==(r=e.type)&&void 0!==r?r:"linear",units:null!==(n=e.units)&&void 0!==n?n:"objectBoundingBox",points:null!==(o=e.points)&&void 0!==o?o:[],x1:l,y1:s,x2:a,y2:c,degree:i(l,s,a,c)}}function s(e){return{...e,id:u()}}function a(e){var t;return"object"==typeof e&&null!==e&&("linear"===(t=e.type)||"radial"===t)}let u=(()=>{let e=0;return()=>"g_"+function(e){let t=0,r;if(0===e.length)return t;for(r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t}(Date.now().toString())+"_"+e++})()},88977:(e,t,r)=>{"use strict";r.r(t),r.d(t,{focusCanvas:()=>a,lookAt:()=>l,move:()=>u,moveDown:()=>c,moveLeft:()=>f,moveRight:()=>d,moveUp:()=>h,recenter:()=>s,toggleRuler:()=>g,zoom:()=>y,zoomIn:()=>v,zoomOut:()=>m});var n=r(68683),i=r(68529),o=r(44445);let l=(0,n.G5)(e=>{let{snapshot:t,set:r}=e;return e=>{if(!e)return;let{width:n,height:i,minScale:l=0,maxScale:s,margin:a=0}=e,u=t.getLoadable(o.at.AN).getValue(),c=Math.max(Math.min((u.width-2*a)/n,(u.height-2*a)/i),l);"number"==typeof s&&(c=Math.min(c,s)),r(o.yo.hs,c)}}),s=(0,n.G5)(e=>{let{send:t,snapshot:r}=e;return e=>{let n=r.getLoadable(i.pI.size).getValue();t(l,{width:n.width,height:n.height,maxScale:1,...e})}}),a=(0,n.G5)(s,[{margin:16,maxScale:void 0}]),u=(0,n.G5)(e=>{let{set:t}=e;return e=>{t(o.at.cY,t=>({...t,x:t.x+e.x,y:t.y+e.y}))}}),c=(0,n.G5)(u,[{x:0,y:5}]),d=(0,n.G5)(u,[{x:5,y:0}]),h=(0,n.G5)(u,[{x:0,y:-5}]),f=(0,n.G5)(u,[{x:-5,y:0}]),p=e=>!e,g=(0,n.G5)(e=>{let{set:t}=e;return()=>{t(o.cm.Sn,p)}}),y=(0,n.G5)(e=>{let{snapshot:t,set:r}=e;return e=>{let n=t.getLoadable(o.yo.hs).getValue(),{delta:i,snap:l}="number"==typeof e||void 0===e?{delta:null!=e?e:0,snap:!1}:e,s=n+i;return l&&(s=Math.round(s/i)*i),r(o.yo.hs,s)}}),v=(0,n.G5)(y,[{delta:.25,snap:!0}]),m=(0,n.G5)(y,[{delta:-.25,snap:!0}])},89303:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});let n=(0,r(7620).createContext)("editor")},89731:(e,t,r)=>{"use strict";r.r(t),r.d(t,{append:()=>f,group:()=>v,remove:()=>m,renderToString:()=>S,resize:()=>k,setDefinition:()=>y,setDocument:()=>N,setLocked:()=>g,setObjectAttrs:()=>U,ungroup:()=>B});var n=r(68683),i=r(53812),o=r(84898),l=r(2047),s=r(47079),a=r(11349),u=r(11856),c=r(10417),d=r(68929),h=r(47121);let f=(0,n.G5)(e=>{let{snapshot:t,gotoSnapshot:r}=e;return async e=>{"string"==typeof e&&(e={value:e});let n=e.use&&(0,s.e)(e.use),{centered:a,flatten:u}=e,h="string"==typeof e.value?(0,i.hx)(e.value):(0,s.e)(e.value),f=[],g=u?(0,o.B)(h,f):h;e.group&&(g=[(0,l.bF)({type:"g",children:g})]);let y=g.map(e=>e.id);return r(await (0,c.Z)(t,async e=>{let{set:t}=e;for(let e of g)t(d.GN.tree(e.id),e);if(t(d.pI.children,e=>[...e,...y]),f.length>0&&t(d.pI.defsTree,e=>[...e,...f]),a&&await p(e,y),n)for(let t of n)await t(e,y)})),y}});async function p(e,t){let r=await Promise.all(t.map(t=>e.getPromise(d.GN.transformedBBox(t)))),n=await e.getPromise(d.pI.viewBox),i=(0,a.Cc)(r),o=Math.min(n.width/i.width,n.height/i.height),l=(0,h.x)(i,n,.5,.5),s=o<1?(0,u.Wg)((0,u.U3)(o,o,n.x+.5*n.width,n.y+.5*n.height),l):l;for(let r of t)e.set(d.GN.transform(r),s)}let g=(0,n.G5)(e=>{let{set:t}=e;return(e,r)=>{t(d.GN.locked(e),r)}}),y=(0,n.G5)(e=>{let{set:t}=e;return e=>{t(d.pI.definition(e.id),e)}}),v=(0,n.G5)(e=>{let{set:t,snapshot:r}=e;return async e=>{if(e.length<2)return e;let n=e[0],i=await r.getPromise(d.GN.parentId(n));if(!i)return e;let o=[],s=(0,l.bF)({type:"g",children:o});return t(d.GN.tree(i),t=>{let r=[],n=t.children,i=0;for(let t=0,l=n.length;t<l;t++){let l=n[t];0>e.indexOf(l.id)?r.push(l):(o.push(l),i=r.length)}return r.splice(i,0,s),{...t,children:r}}),[s.id]}}),m=(0,n.G5)(e=>{let{snapshot:t,set:r,reset:n}=e;return async e=>{let i=await t.getPromise(d.pI.relationTree),o=[],l=function e(t,r,n){let i=[];for(let o of t.children)0>r.indexOf(o.id)?i.push(e(o,r,n)):n.push(o);return{id:t.id,children:i}}(i,e,o);r(d.pI.relationTree,l),(0,h.u)(o,e=>{n(d.GN.bbox(e.id)),n(d.GN.objectState(e.id))})}});var x=r(8939),b=r(19472),_=r(12060),w=r(4334);let S=(0,n.G5)(e=>{let{snapshot:t,getService:r}=e;return async()=>{let e=r(w.H),n=await t.getPromise(d.pI.contentBBoxString);if(!e.element)throw Error("Missing canvas reference");let i=e.element.cloneNode(!0);return(0,x.u)(i,e=>{e instanceof SVGElement&&e.getAttribute(_.rG)&&e.removeAttribute(_.rG)}),i.setAttribute("data-bbox",n),i.style.overflow=null,(0,b.N)(i)}});var E=r(85684);let k=(0,n.G5)(e=>{let{snapshot:t,set:r}=e;return async e=>{if(!e.target||0===e.target.length||!e.width&&!e.height)return;let{getPromise:n}=t,i=(0,a.Cc)(await n((0,E.gu)(e.target.map(e=>d.GN.absoluteBBox(e))))),{width:o,height:l,x:s=i.x,y:c=i.y}=e,h=void 0!==o?o/i.width:void 0,f=void 0!==l?l/i.height:void 0,p=s-i.x,g=c-i.y;e.preserveAspect?f=h=Math.min(null!=h?h:f,null!=f?f:h):(h=null!=h?h:f,f=null!=f?f:h);let y=(0,u.Wg)((0,u.U3)(h,f,s,c),(0,u.iQ)(p,g));for(let t of e.target)r(d.GN.transform(t),e=>e?(0,u.Wg)(y,e):y)}});var A=r(31781),C=r(33269),T=r(86149),D=r(88977);let N=(0,n.G5)(e=>{let{snapshot:t,send:r,getService:i,set:o}=e;return async e=>{let l=await M(t,async t=>{t.set(L,e),e.transform&&await e.transform(t),await R(t,e)});o(d.pI.tree,l),e.pushChanges?r(C.pushChange):await r(j),i(n.sV).fire("cleanup",void 0),r(D.focusCanvas)}}),M=async(e,t)=>e.asyncMap(e=>{let r=e.retain();return t(e).finally(r)}).then(e=>e.getPromise(d.pI.tree)),R=async(e,t)=>{var r;let{canvas:n}=t;if(!n)return;let i=n.cropped?O:P,o=e.getLoadable(d.pI.children).getValue(),l=await e.getLoadable(i).toPromise(),s=(null!==(r=n.padding)&&void 0!==r?r:0)*2,a=Math.min((n.width-s)/l.width,(n.height-s)/l.height),c=(0,u.Wg)((0,u.iQ)((n.width-a*l.width)*.5,(n.height-a*l.height)*.5),(0,u.Wg)((0,u.U3)(a,a),(0,u.iQ)(-l.x,-l.y)));for(let t of o)e.set(d.GN.transform(t),e=>e?(0,u.Wg)(c,e):c)},j=(0,n.G5)(e=>{let{getService:t}=e;return async()=>{let e=t(T.Mw),r=await e.getTrackedState();e.init(r)}}),L=(0,E.gD)({key:"currentDocument",get:()=>{throw Error()},set:(e,t)=>{let{set:r,reset:n}=e;if(t instanceof E.nO)return;let{svg:o,canvas:l}=t,s=(0,i.r6)(o);s&&(l&&(s.attrs={...s.attrs,viewBox:"0 0 "+l.width+" "+l.height,width:l.width.toString(),height:l.height.toString()}),r(d.pI.tree,s)),n(A.tg.behaviorStack)}}),I=(0,E.gD)({key:"defaultViewBox",get:e=>{let{get:t}=e,r=t(d.pI.size);return{x:0,y:0,width:r.width,height:r.height}}}),O=(0,E.gD)({key:"croppedContentBBox",get:e=>{let{get:t}=e,r=t(d.pI.contentBBox);return r&&r.width&&r.height?r:t(I)}}),P=(0,E.gD)({key:"viewBoxOrDocumentSize",get:e=>{let{get:t}=e,r=t(d.pI.attrs);return(0,l.B)(r.viewBox)||t(I)}}),U=(0,n.G5)(e=>{let{set:t}=e;return(e,r)=>{for(let n of(0,s.e)(e))t(d.GN.attrs(n),r)}}),B=(0,n.G5)(e=>{let{set:t,snapshot:r}=e;return async e=>{if(1!==(e=(0,s.e)(e)).length)return e;let n=e[0],i=await r.getPromise(d.GN.parentId(n));if(!i)return e;let l=[],a=[];return t(d.GN.tree(i),t=>{let r=[];for(let n of t.children)if(0>e.indexOf(n.id))r.push(n);else{let e=(0,o.y9)(n,l);r.push(...e),a.push(...e.map(e=>e.id))}return{...t,children:r}}),l.length>0&&t(d.pI.defsTree,e=>[...e,...l]),a}})},90045:(e,t,r)=>{"use strict";r.d(t,{M:()=>i,l:()=>n});var n={};r.r(n),r.d(n,{gX:()=>p,$:()=>f,Sn:()=>h});var i=r(38993),o=r(82966),l=r(35298),s=r(85684),a=r(39922),u=r(31781),c=r(68529);let{selector:d}=(0,l.M)("v1/gradientEditor"),h=u.tg.hasBehavior("gradientEditor"),f=d({key:"coords",get:e=>{let{get:t}=e;if(!t(h))return null;let r=t(c.pI.size),n=t(i.targetAttributeColor("fill"));if(!n||n.type!==o.m.GRADIENT)return null;let l=n.value,s=.01*l.x1*r.width,a=.01*l.y1*r.height;return[{x:s,y:a},{x:.01*l.x2*r.width,y:.01*l.y2*r.height}]},set:(e,t)=>{let{set:r,get:n}=e;if(!t||t instanceof s.nO)return;let l=n(c.pI.size),a=i.targetAttributeColor("fill"),u=n(a);if(!u||u.type!==o.m.GRADIENT)return;let d={...u.value,x1:t[0].x/l.width*100,y1:t[0].y/l.height*100,x2:t[1].x/l.width*100,y2:t[1].y/l.height*100};r(a,{...u,value:d})}}),p=d({key:"center",get:e=>{let{get:t}=e,r=t(f);return r&&(0,a.gG)(r[0],r[1])},set:(e,t)=>{let{get:r,set:n}=e,i=r(f);if(!i||!t||t instanceof s.nO)return null;let[o,l]=i,u=(0,a.gG)(o,l),c=(0,a.Dx)(t,u);n(f,[{x:o.x+c.x,y:o.y+c.y},{x:l.x+c.x,y:l.y+c.y}])}})},91603:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n=r(87215)},93895:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var n=r(54568),i=r(6681);let o=e=>{let{name:t}=e,r=(0,i.kj)();return(0,n.jsx)(n.Fragment,{children:r.section(t).map((e,r)=>(0,n.jsx)(e,{},t+"."+r))})}},95894:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Outlet:()=>s,Slot:()=>u,createOutlet:()=>a});var n=r(54568),i=r(82995),o=r(7620),l=r(24632);let s=e=>{let{name:t,fallback:r,children:s}=e,[a,u]=(0,i.useIncrement)(),c=(0,l.Jb)(),d=c.getComponents(t),[h,f]=(0,o.useMemo)(()=>{let e=d.reduce((e,t)=>(e[+!t.wrap].push(t),e),[[],[]]);return e[0].reverse(),e},[d]);return(0,o.useEffect)(()=>c.subscribe(t,e=>{d!==e&&u()}),[t,c,d,u]),d.length>0?(0,n.jsx)(n.Fragment,{children:h.reduce((e,t)=>(0,n.jsx)(t.component,{children:e}),(0,n.jsxs)(n.Fragment,{children:[f.map((e,t)=>(0,n.jsx)(e.component,{},t)),s]}))}):(0,n.jsxs)(n.Fragment,{children:[r,s]})};function a(e){function t(t){let{children:r}=t;return(0,n.jsx)(s,{name:e,children:r})}return Object.defineProperty(t,"name",{get:()=>e}),t}let u=e=>{let{name:t,children:r}=e,n=(0,l.Jb)();return(0,o.useEffect)(()=>{if(r){let e={component:()=>r};return n.addComponent(t,e),()=>{n.removeComponent(t,e)}}},[t,r,n]),null}},96789:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});let n=e=>e&&"number"==typeof e.length&&"function"!=typeof e},97354:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});let n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},98233:(e,t,r)=>{"use strict";r.d(t,{Kn:()=>s,yU:()=>l,Uv:()=>a});var n=r(30297);let i=(0,r(56883).L)(e=>function(t){e(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((e,t)=>"".concat(t+1,") ").concat(e.toString())).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t});var o=r(50200);class l{unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t){if(this._parentage=null,Array.isArray(t))for(let e of t)e.remove(this);else t.remove(this)}let{initialTeardown:r}=this;if((0,n.T)(r))try{r()}catch(t){e=t instanceof i?t.errors:[t]}let{_finalizers:o}=this;if(o)for(let t of(this._finalizers=null,o))try{u(t)}catch(t){e=null!=e?e:[],t instanceof i?e=[...e,...t.errors]:e.push(t)}if(e)throw new i(e)}}add(e){if(e&&e!==this){if(this.closed)u(e);else{var t;if(e instanceof l){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&(0,o.o)(t,e)}remove(e){let{_finalizers:t}=this;t&&(0,o.o)(t,e),e instanceof l&&e._removeParent(this)}constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}}l.EMPTY=(()=>{let e=new l;return e.closed=!0,e})();let s=l.EMPTY;function a(e){return e instanceof l||e&&"closed"in e&&(0,n.T)(e.remove)&&(0,n.T)(e.add)&&(0,n.T)(e.unsubscribe)}function u(e){(0,n.T)(e)?e():e.unsubscribe()}},98882:(e,t,r)=>{"use strict";r.d(t,{c:()=>d});var n=r(51201),i=r(98233),o=r(55328),l=r(18579),s=r(97354),a=r(30297),u=r(63272);let c=o.s;class d{lift(e){let t=new d;return t.source=this,t.operator=e,t}subscribe(e,t,r){let o=!function(e){return e&&e instanceof n.vU||e&&(0,a.T)(e.next)&&(0,a.T)(e.error)&&(0,a.T)(e.complete)&&(0,i.Uv)(e)}(e)?new n.Ms(e,t,r):e;return(0,u.Y)(()=>{let{operator:e,source:t}=this;o.add(e?e.call(o,t):t?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=h(t))((t,r)=>{let i=new n.Ms({next:t=>{try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});this.subscribe(i)})}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[c](){return this}pipe(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return(0===(e=r).length?l.D:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)})(this)}toPromise(e){return new(e=h(e))((e,t)=>{let r;this.subscribe(e=>r=e,e=>t(e),()=>e(r))})}constructor(e){e&&(this._subscribe=e)}}function h(e){var t;return null!==(t=null!=e?e:s.c.Promise)&&void 0!==t?t:Promise}d.create=e=>new d(e)},99879:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var n=r(19954);function i(e){if("string"==typeof e){if("#"===e[0])return e;if("rgb"===e.substring(0,3)){var t;let r=(0,n.H)(e);return t=r[0],"#"+(0x1000000+(t<<16)+(r[1]<<8)+r[2]).toString(16).slice(1)}}}},99986:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(30297);function i(e){return(0,n.T)(null==e?void 0:e.then)}}}]);