"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8352],{1478:(e,t,n)=>{n.d(t,{D:()=>m});var r=n(54568),i=n(74875),o=n(95336),s=n(42483),l=n(72290),a=n(50494),u=n(17191),d=n(13883),c=n(39968),h=n(61773),f=n(7620),p=n(13261),g=n(26301);let m=e=>{let{title:t,description:n,children:l,overlay:c,backToView:m}=e,{isDialog:v,Link:w}=(0,p.Z2)(),b=(0,d.A)();return(0,f.useEffect)(()=>{g.V.delete()},[]),(0,r.jsxs)(o.default,{sx:{height:"100%",maxHeight:"100%",width:"100%",display:"flex",flex:1,overflowY:"hidden",overflowX:"hidden"},"data-mui-color-scheme":"light",children:[(0,r.jsxs)(x,{sx:{py:{sm:v?7:"calc(25vh - ".concat(b.customVars.toolbar.size,")")}},children:[(0,r.jsxs)(a.default,{gap:4.5,sx:{width:"100%",maxWidth:"500px",minHeight:"400px",margin:"0 auto",textAlign:"center",transitionProperty:"transform, opacity",transitionDuration:"0.4s",transitionTimingFunction:"ease-out"},children:[(0,r.jsxs)(a.default,{gap:2.5,alignItems:"center",children:[(0,r.jsxs)(a.default,{gap:1,direction:"row",alignItems:"center",justifyContent:"center",position:"relative",children:[m&&(0,r.jsx)(s.default,{onClick:"function"==typeof m?m:void 0,href:"string"==typeof m?(0,p.FM)(m):"",LinkComponent:w,sx:{position:"absolute",left:-8,transform:"translate(-100%, 0)"},children:(0,r.jsx)(i.A,{})}),(0,r.jsx)(u.default,{component:"h1",fontSize:{xs:"1.5rem",sm:"2rem"},fontWeight:900,maxWidth:"420px",sx:{textWrap:"pretty"},children:t})]}),n&&(0,r.jsx)(u.default,{sx:{textWrap:"pretty"},children:n})]}),l]}),c]}),(0,r.jsx)(o.default,{sx:{position:"relative",flex:1,p:7,display:{xs:"none",md:"block"}},children:(0,r.jsx)(h.default,{src:"/static/images/login@2x.png",alt:"",fill:!0,unoptimized:!0,style:{objectFit:"cover",objectPosition:"50% 50%"}})})]})},x=(0,c.Ay)(l.A)(e=>{let{theme:t}=e;return{position:"relative",padding:t.spacing(4),flex:"1",borderRadius:"0px",overflowY:"auto",overflowX:"hidden",display:"flex",[t.breakpoints.up("sm")]:{padding:t.spacing(4,7)},"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}})},7579:(e,t,n)=>{n.r(t),n.d(t,{useMemoShallowEqual:()=>o});var r=n(61481),i=n(7620);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e],n=(0,i.useRef)(void 0),o="function"==typeof e?e:()=>e;return(0,i.useMemo)(()=>{if(void 0===n.current)return n.current=o();let e=o();return(0,r.b)(e,n.current)||(n.current=e),n.current},t)}},11047:(e,t,n)=>{n.r(t),n.d(t,{ResetPasswordView:()=>m});var r=n(54568),i=n(62379),o=n(52831),s=n(50494),l=n(65818),a=n(76653),u=n(62942),d=n(32356),c=n(37757),h=n(26751),f=n(55732),p=n(13261),g=n(1478);let m=()=>{let{token:e}=(0,u.useParams)(),t=(0,a.c3)("resetPassword.components"),n=(0,a.c3)("auth.errors"),m=(0,i.rd)(),x=(0,f.useNotifications)(),v=async t=>{let n=await (0,d.x4)().users.resetPassword({...t,token:e});(0,l.CR)(n)?x.pushError(n):m.replace((0,p.FM)(p.Ob.SignIn))};return(0,r.jsx)(g.D,{title:t("title"),children:(0,r.jsxs)(c.cK,{onSubmit:v,children:[(0,r.jsxs)(s.default,{gap:3,children:[(0,r.jsx)(h.W,{required:!0,fullWidth:!0,label:t("password"),name:"password",autoComplete:"off",autoFocus:!0,maxLength:64,validationPattern:/^(?=.*[A-Za-z])(?=.*\d).{8,64}$/g,hint:t("passwordHint")}),(0,r.jsx)(h.W,{required:!0,fullWidth:!0,label:t("passwordConfirm"),name:"passwordConfirm",autoFocus:!0,validate:(e,t)=>e===t.password||n("passwordsMustMatch"),maxLength:64})]}),(0,r.jsx)(o.A,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2},children:t("send")})]})})}},12684:(e,t,n)=>{let r;n.r(t),n.d(t,{SignInView:()=>X});var i,o,s=n(54568),l=n(18715),a=n(52831),u=n(50494),d=n(17191),c=n(76653),h=n(65124),f=n(28748),p=n(13261),g=n(1478),m=n(49846),x=n(64070),v=n(70495),w=n(32993),b=n(7620),y=n(73717),j=n(80470);class S{get loaded(){return null!=this._promise}render(e,t){let n=!0;return this.load().then(()=>{n&&(this.handleRender(e,t),this._onRender.fire())}),()=>{n=!1}}load(){return this._promise||(this._promise=this.handleLoad()),this._promise}async authorize(){let e=await this.handleAuthorize();return e.authorized&&this._onAuthorize.fire(e.data),e}async loadScript(e){return await this.scriptLoader.loadScript(e)}constructor(e,t){this._onRender=new j.v,this._onAuthorize=new j.v,this.onAuthorize=this._onAuthorize.event,this.onRender=this._onRender.event,this._promise=null,this.name=e,this.options=t,this.scriptLoader=y.B.getDefault()}}class C{get authorized(){return"authorized"===this.status}static autorized(e){return new C(!0,e)}static notAuthorized(e){return new C(!1,e)}constructor(e,t){this.status="string"==typeof e?e:!0===e?"authorized":"not_authorized",this.data=t}}let A="fbLoginCallback";class k extends S{async handleLoad(){let{locale:e,appId:t,version:n}=this.options;await this.loadScript({src:function(e,t,n){let r={en:"en_US",fr:"fr_FR",pt:"pt_PT",it:"it_IT",de:"de_DE",es:"es_ES",nl:"nl_NL"}[e.toLowerCase()];return"https://connect.facebook.net/".concat(r,"/sdk.js#xfbml=1&version=").concat(t,"&appId=").concat(n)}(e,n,t),async:!0,defer:!0,crossOrigin:"anonymous",nonce:"XJjftApU",onLoad:()=>{R(),i.onLogin(e=>{this._authResponse=e.authResponse,this._status=e.status,this.authorize()})}}),await E}async handleAuthorize(){return new C("connected"===this._status,this._authResponse)}handleRender(e,t){var n,r,o;let s={...i.defaultButtonOptions,...t},l={width:"number"==typeof(o=s.width)?Math.floor(o):o,size:s.size,buttontype:s.buttonType,autologoutlink:null===(n=s.autoLogoutLink)||void 0===n?void 0:n.toString(),usecontinueas:null===(r=s.useContinueAs)||void 0===r?void 0:r.toString(),scope:s.scope,onlogin:A},a=Object.keys(l).map(e=>e+'="'+l[e]+'"').join(" ");e.innerHTML="",e.innerHTML="<fb:login-button"+(a?" "+a:"")+"></fb:login-button>",window.FB.XFBML.parse(e)}constructor(e){super("facebook",e),this._authResponse=null,this._status="unknown"}}let R=()=>{null==z||z()},z=null,E=new Promise(e=>{z=()=>{e(),z=null}}).then(function(){var e,t;return r||(r="function"==typeof(null===(t=window.FB)||void 0===t?void 0:null===(e=t.XFBML)||void 0===e?void 0:e.parse)?Promise.resolve():y.B.load(()=>new Promise(e=>{window.FB.Event.subscribe("xfbml.render",function(){e()})})))});window.fbAsyncInit=function(){R()},!function(e){let t=new Set;e.defaultButtonOptions={width:400,size:"large",buttonType:"continue_with",autoLogoutLink:!1,useContinueAs:!1,scope:"public_profile, email"},e.onLogin=function(e){return t.add(e),()=>{t.delete(e)}},window[A]=function(e){Array.from(t).forEach(t=>{t(e)}),t.clear()}}(i||(i={}));var I=n(48741),L=n(7579),_=n(95336),O=n(68229),P=n(33527),W=n(39968);let F={size:"large"},T=(0,W.Ay)((0,b.forwardRef)((e,t)=>{let{children:n,width:r,loading:i,bgcolor:o,color:l,...a}=e,u=(0,I.QE)(a);return(0,s.jsxs)(_.default,{...u,sx:(0,I.On)({bgcolor:o,color:l},u.sx),style:{width:"100%",...u.style},ref:t,children:[n,i?(0,s.jsx)(M,{children:(0,s.jsx)(N,{color:l,bgcolor:o,size:a.size})}):null]})}))(e=>{var t;let{size:n=F.size}=e;return{height:null!==(t=n?D[n]:void 0)&&void 0!==t?t:D.medium,maxWidth:"400px",borderRadius:"4px",position:"relative",overflow:"hidden"}});T.displayName="ButtonContainer";let D={small:16,medium:32,large:40},V={small:12,medium:16,large:20},M=(0,W.Ay)("div")({width:"100%",height:"100%",position:"absolute",top:0,left:0,backgroundColor:"inherit",color:"inherit",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",borderRadius:"inherit"}),N=e=>{var t;let{color:n="inherit",size:r,...i}=e,o=null!==(t=r?V[r]:void 0)&&void 0!==t?t:V.medium;return(0,s.jsx)(O.A,{variant:"indeterminate",disableShrink:!0,sx:{color:n,animationDuration:"550ms",left:0,["& .".concat(P.A.circle)]:{strokeLinecap:"round"}},size:o,thickness:4,...i})},G=(0,b.forwardRef)((e,t)=>{let{children:n,onAuthorize:r,className:i,client:o,options:l={},element:a,...u}=e,d=(0,b.useRef)(null),c=(0,L.useMemoShallowEqual)(()=>l,[l]),[h,f]=(0,b.useState)(!1);return(0,b.useEffect)(()=>r&&o.onAuthorize(r).dispose,[r,o]),(0,b.useEffect)(()=>{if(!h)return o.onRender(()=>{f(!0)}).dispose},[h,o]),(0,b.useEffect)(()=>{if(d.current)return o.render(d.current,c)},[c,o]),(0,s.jsx)(T,{...u,loading:!h||u.loading,ref:t,children:a({ref:d,client:o})})}),B=new k({appId:"953888471708703",locale:(0,x.A)(),version:"v19.0"}),q=e=>{var t;let{children:n,sx:r,...o}=e,l=(0,b.useRef)(null),a=(0,v.useWindowRect)({delay:500}),u=(0,w.useElementRect)(l,[a.width]);return(0,s.jsx)(G,{client:B,...o,options:{width:u.width},sx:(0,I.On)({bgcolor:"Facebook.main",color:"Facebook.contrastText"},r),size:null!==(t=o.size)&&void 0!==t?t:i.defaultButtonOptions.size,element:e=>{let{ref:t}=e;return(0,s.jsx)("div",{ref:t,style:{colorScheme:"transparent"}})},ref:l})};class Q extends S{async handleLoad(){let{clientId:e}=this.options;await this.loadScript({src:"https://accounts.google.com/gsi/client",async:!0,defer:!0,onLoad:()=>{window.google.accounts.id.initialize({client_id:e,callback:e=>{this._authResponse=e,this.authorize()}})}})}async handleAuthorize(){let e=this._authResponse;return this._authResponse=null,new C(!!(null==e?void 0:e.credential),e)}handleRender(e,t){var n,r;let i={...o.defaultButtonOptions,...t};window.google.accounts.id.renderButton(e,{auto_select:i.autoSelect,theme:i.theme,type:i.type,size:i.size,text:i.text,shape:i.shape,width:"number"==typeof(r=i.width)?Math.floor(r):r,locale:null===(n=i.locale)||void 0===n?void 0:n.toLowerCase(),logo_alignment:i.logoAlignment})}constructor(e){super("google",e),this._authResponse=null}}(o||(o={})).defaultButtonOptions={autoSelect:!1,locale:"en",shape:"square",size:"large",theme:"filled_blue",text:"continue_with",type:"standard",width:"100%"};let H=new Q({clientId:"260708002742-q40hcho1rg4e0gsa7sdfpn82dgkj5hmu.apps.googleusercontent.com"}),U=e=>{let{children:t,sx:n,...r}=e,i=(0,b.useRef)(null),o=(0,v.useWindowRect)({delay:500}),l=(0,w.useElementRect)(i,[o.width]);return(0,s.jsx)(G,{ref:i,client:H,...r,options:{width:l.width,autoSelect:!1,...r.options},sx:(0,I.On)({bgcolor:"Google.main",color:"Google.contrastText"},n),element:e=>{let{ref:t}=e;return(0,s.jsx)("div",{ref:t,style:{colorScheme:"light"}})}})};var Z=n(38199);let X=()=>{let e=(0,c.c3)("signIn.components"),t=(0,Z.go)(),{setView:n}=(0,p.Z2)(),{enableGuest:r,enableGuestEmail:i,setSession:o}=(0,p.Z2)(),x=(0,f.useSession)();return(0,p.Xz)(),(0,s.jsx)(g.D,{title:e("title"),description:e("description"),overlay:(0,s.jsx)(m.t,{}),children:(0,s.jsx)(u.default,{gap:5,alignItems:"center",children:(0,s.jsxs)(u.default,{gap:3,alignItems:"center",children:[(0,s.jsxs)(u.default,{gap:2,alignItems:"center",sx:{width:"100%",maxWidth:{xs:"320px",md:"400px"}},children:[(0,s.jsx)(q,{onAuthorize:e=>{t("facebook",e)}}),(0,s.jsx)(U,{onAuthorize:e=>{t("google",e)}}),(0,s.jsx)(a.A,{onClick:()=>{n(p.Ob.SignInWithEmail)},fullWidth:!0,variant:"contained",color:"white",children:e("continueWithEmail")}),r&&(0,s.jsx)(a.A,{onClick:()=>{i?n(p.Ob.SignInAsGuest):x&&(null==x?void 0:x.user.isGuest)?o(x):(0,h.signInAsGuest)().then(e=>{401===e.status&&n(p.Ob.SignIn)})},fullWidth:!0,variant:"text",color:"neutral",children:e("continueAsGuest")})]}),(0,s.jsx)(d.default,{style:{fontSize:"0.8125rem"},children:e.rich("continuingHint",{termsOfUse:l.or.format,privacy:l.tT.format})})]})})})}},13261:(e,t,n)=>{n.d(t,{FM:()=>g,Ob:()=>u,Xz:()=>h,Z2:()=>c,cy:()=>d,zD:()=>p});var r=n(39995),i=n(51431),o=n(7620),s=n(28748),l=n(62379),a=n(34525);let u={SignIn:"signin",SignInWithEmail:"signin/email",SignInAsGuest:"signin/guest",ForgotPassword:"forgot-password",ResetPassword:"reset-password"},d=(0,o.createContext)({view:"signin",setView:r.lQ,Link:a.N,redirect:!0,isDialog:!1,enableGuest:!1,enableGuestEmail:!1,setDefaultEmail:r.lQ,setSession:r.lQ});function c(){return(0,o.useContext)(d)}function h(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=c(),n=(0,s.useSession)(),r=(0,s.useSessionStatus)(),a=(null==n?void 0:n.user)||null,u="connected"===r&&!!(null==a?void 0:a.isRegistered)&&e&&t.redirect,d=(0,l.rd)();(0,o.useEffect)(()=>{let e=((0,i.mA)(location.search).r||"/").toString();u&&d.push(e,{locale:a.languageCode})},[d,u,null==a?void 0:a.languageCode])}let f=new Set(Object.entries(u).map(e=>{let[,t]=e;return t}));function p(e){let t=/(?:https?:)?\/*(\S+[^\/])\/?/g.exec(e);return t&&f.has(t[1])?t[1]:void 0}function g(e){return"/"+e}},18715:(e,t,n)=>{n.d(t,{Fr:()=>h,or:()=>d,tT:()=>c});var r=n(54568),i=n(82189),o=n(52258),s=n(27261),l=n.n(s),a=n(38783);let u={component:l(),underline:"hover",target:"_blank"};function d(e){let{children:t,...n}=e,s=(0,o.Ym)();return(0,r.jsx)(i.default,{href:a.D.website.termOfUse(s),...u,...n,children:t})}function c(e){let{children:t,...n}=e,s=(0,o.Ym)();return(0,r.jsx)(i.default,{color:"inherit",href:a.D.website.privacy(s),...u,...n,children:t})}function h(e){let{children:t,...n}=e,s=(0,o.Ym)();return(0,r.jsx)(i.default,{href:a.D.website.contact(s),...u,...n,children:t})}d.format=e=>(0,r.jsx)(d,{children:e}),c.format=e=>(0,r.jsx)(c,{children:e}),h.format=e=>(0,r.jsx)(h,{children:e})},26301:(e,t,n)=>{n.d(t,{V:()=>r});let r=(0,n(87448).G)("fld-email")},26751:(e,t,n)=>{n.d(t,{W:()=>h});var r=n(54568),i=n(3047),o=n(87084),s=n(95336),l=n(42483),a=n(15501),u=n(17191),d=n(7620),c=n(56285);let h=e=>{let{hint:t,...n}=e,[h,f]=(0,d.useState)(!1);return(0,r.jsxs)(s.default,{children:[(0,r.jsx)(c.Q,{...n,autoComplete:"off",type:h?"text":"password",InputLabelProps:{},InputProps:{endAdornment:(0,r.jsx)(a.A,{position:"end",children:(0,r.jsx)(l.default,{"aria-label":"toggle password visibility",onClick:()=>f(e=>!e),onMouseDown:e=>{e.preventDefault()},tabIndex:-1,children:h?(0,r.jsx)(o.A,{}):(0,r.jsx)(i.A,{})})})}}),t&&(0,r.jsx)(u.default,{variant:"caption",component:"div",textAlign:"left",children:t})]})}},27968:(e,t,n)=>{n.d(t,{G:()=>s,k:()=>o});var r=n(7620),i=n(59393);let o=e=>{let[t,n]=(0,r.useState)({value:void 0,loading:!0});return(0,r.useEffect)(()=>{let t=!0;return e.get().then(e=>{t&&n({value:e,loading:!1})}),()=>{t=!1}},[e]),t};function s(e){let t=(0,r.useRef)(e),[n,o]=(0,r.useState)({value:void 0,loading:!0,fetched:!1}),{fetched:s}=n;return(0,r.useEffect)(()=>{if(s){if(t.current===e)return;o(e=>({...e,loading:!0,fetched:!1}))}let n=!0;return t.current=e,(0,i.Ri)(e).then(e=>{n&&o({value:e,loading:!1,fetched:!0})}),()=>{n=!1}},[e,s]),n}},28748:(e,t,n)=>{n.r(t),n.d(t,{SessionProvider:()=>a,useSession:()=>d,useSessionStatus:()=>c});var r=n(35896),i=n(23715),o=n(7620),s=n(65124),l=n(50991);let[a,u]=(0,r.createContextComponent)(e=>{let[t,n]=(0,o.useState)(e.session?{session:e.session,status:l.Ph.connected}:s.defaultSessionState);return i.Bd&&s.sessionStore.hydrate(t),(0,o.useEffect)(()=>s.sessionStore.subscribe(n),[]),{value:t,children:e.children}});function d(){return u().session}function c(){return u().status}},32076:(e,t,n)=>{n.d(t,{D:()=>r});let r=(0,n(30595).A)({locales:["en","fr","it","de","es","pt","nl"],localePrefix:"never",defaultLocale:"en",localeDetection:!0})},32993:(e,t,n)=>{n.r(t),n.d(t,{createElementRect:()=>o,defaultElementRect:()=>s,useElementRect:()=>i});var r=n(7620);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,i]=(0,r.useState)(s);return(0,r.useLayoutEffect)(()=>{let t=e.current;t&&i(o(t.getBoundingClientRect()))},t),n}function o(){let{width:e=0,height:t=0,top:n=0,left:r=0,x:i=r,y:o=n,bottom:s,right:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{bottom:null!=s?s:o+t,height:t,left:r,right:null!=l?l:i+e,top:n,width:e,x:i,y:o}}let s={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}},34525:(e,t,n)=>{n.d(t,{N:()=>u});var r=n(54568),i=n(82189),o=n(27261),s=n.n(o),l=n(7620);let a=(0,l.forwardRef)((e,t)=>{let{_href:n,...i}=e;return(0,r.jsx)(s(),{href:n,...i,ref:t})});a.displayName="NextLink";let u=(0,l.forwardRef)((e,t)=>{let{href:n="",...o}=e;return(0,r.jsx)(i.default,{...o,component:a,_href:n,ref:t})});u.displayName="Link"},35896:(e,t,n)=>{n.r(t),n.d(t,{createContextComponent:()=>o});var r=n(54568),i=n(7620);function o(e,t){let n=(0,i.createContext)(t),{Provider:o}=n,s=()=>(0,i.useContext)(n);return[(0,i.memo)(t=>{let n=e(t,s);return(0,r.jsx)(o,{value:n.value,children:n.children})}),s]}},36547:(e,t,n)=>{n.r(t),n.d(t,{ForgotPasswordView:()=>v});var r=n(54568),i=n(27968),o=n(33165),s=n(95336),l=n(52831),a=n(50494),u=n(17191),d=n(76653),c=n(7620),h=n(32356),f=n(37757),p=n(56285),g=n(13261),m=n(1478),x=n(26301);let v=()=>{let e=(0,d.c3)("forgotPassword.components"),[t,n]=(0,c.useState)(!1),{value:v,loading:w}=(0,i.k)(x.V),b=async e=>{n((await (0,h.x4)().users.requestResetPassword(e)).ok)};return(0,r.jsx)(m.D,{title:e("title"),description:t?void 0:e("emailHint"),backToView:g.Ob.SignIn,children:(0,r.jsx)(a.default,{gap:3,children:t||w?(0,r.jsxs)(s.default,{sx:{display:"flex",mb:1},children:[(0,r.jsx)(u.default,{component:"div",variant:"body1",children:e("msgSuccess")}),(0,r.jsx)(o.A,{color:"primary"})]}):(0,r.jsxs)(f.cK,{onSubmit:b,values:{email:null!=v?v:""},children:[(0,r.jsx)(p.Q,{required:!0,fullWidth:!0,label:e("email"),name:"email",autoComplete:"email",autoFocus:!0,type:"email",maxLength:254}),(0,r.jsx)(l.A,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2},children:e("send")})]})})})}},37678:(e,t,n)=>{n.d(t,{m:()=>s,p:()=>o});var r=n(81530),i=n(51431);class o{at(e){return new o((0,r.f)(this.path,e))}format(e,t){let n=e||{},r=this.path.replace(/\{([^\}]+)\}/g,(e,t)=>{var r;return encodeURIComponent(null!==(r=n[t])&&void 0!==r?r:"")}).replace(/\/\/+/g,"/");return t?(0,i.mk)(r,t):r}getFormatter(e){let t=e?this.at(e):this;return t.format.bind(t)}constructor(e){this.path=e}}function s(e){return new o(e)}},37757:(e,t,n)=>{n.d(t,{cK:()=>u,yr:()=>d});var r=n(54568),i=n(95336),o=n(39995),s=n(7620),l=n(61938),a=n(56773);function u(e){let{formContextRef:t,autoComplete:n,children:u,onSubmit:d,values:c,sx:h,style:f}=e,p=(0,l.mN)({defaultValues:c}),g=(0,s.useRef)(null),{handleSubmit:m}=p,x=d?m(d):o.lQ;return(0,s.useLayoutEffect)(()=>{if(t)return t.current=p,()=>{t.current=null}},[p,t]),(0,r.jsx)(l.Op,{...p,children:(0,r.jsx)(i.default,{ref:g,component:"form",autoComplete:n,sx:h,style:f,onSubmit:e=>{e.preventDefault(),x(e)},noValidate:!0,children:(0,r.jsx)(a.O,{formRef:g,children:u})})})}function d(){return(0,s.useRef)(null)}},37799:(e,t,n)=>{n.d(t,{j:()=>o});var r=n(87606),i=n(7620);function o(){let e=(0,r.useQueryClient)();return(0,i.useMemo)(()=>e.invalidateQueries.bind(e),[e])}},38199:(e,t,n)=>{n.d(t,{L1:()=>u,Rg:()=>d,go:()=>a});var r=n(98128),i=n(7620),o=n(32356),s=n(65124),l=n(37799);function a(){let e=(0,l.j)();return(0,i.useCallback)(async(t,n)=>{let r=await (0,s.signIn)(t,n);return r.ok&&await e(),r},[e])}var u=function(e){return e[e.Unknown=0]="Unknown",e[e.Registered=1]="Registered",e}({});function d(){return(0,r.useMutation)({mutationFn:async e=>await (0,o.x4)().users.status({email:e.email}).content()})}},38783:(e,t,n)=>{n.d(t,{D:()=>c});var r=n(37678),i=n(53478);function o(e,t){var n;return t&&"en"!==t?((n=e).split(".").length>2&&(n=n.replace(/(\/\/)[^.]+/gi,"$1".concat(t))),n):e}let s=(0,r.m)("/"),l=(0,r.m)("/design"),a=l.at("{projectId}"),u=(0,r.m)("/projects"),d=u.at("{projectId}"),c=(0,i.l)({index:s,library:s.at("medias"),partners:s.at("partners"),account:s.at("account"),subscribe:s.at("subscribe"),addons:s.at("addons"),projects:u,checkout:{index:s.at("checkout"),success:s.at("checkout/success")},project:{index:d,share:d.at("share"),files:d.at("files"),subscribe:d.at("subscribe"),subscribeProduct:d.at("subscribe/{slug}"),merchandise:d.at("merchandise"),brandMaterial:d.at("{slug}")},design:{index:l,create:l.at("create"),aiGenerator:l.at("ai"),edit:a.at("edit")},external:{businessRocket:{trademark:"https://www.businessrocket.com/grow/trademark-registration-uspto/?ref=freelogo",corporate:"https://www.businessrocket.com/start/?ref=freelogo"},webself:e=>{var t;return null!==(t=JSON.parse('{"FR":"https://www.webself.net","EN":"https://en.webself.net","ES":"https://es.webself.net"}')[e])&&void 0!==t?t:""}},website:{index:e=>o("https://www.freelogodesign.org",e),termOfUse:e=>o("https://www.freelogodesign.org/terms-of-use",e),privacy:e=>o("https://www.freelogodesign.org/privacy",e),contact:e=>o("https://www.freelogodesign.org/contact",e),customLogo:e=>o("https://www.freelogodesign.org/custom-logo-design",e)},help:"https://support.freelogodesign.org",guestAuth:"https://app.freelogodesign.org/api/auth/guest"})},43702:(e,t,n)=>{n.d(t,{E_:()=>d,FK:()=>u,O6:()=>f,T$:()=>l,Vw:()=>h,h7:()=>c,iZ:()=>o,x7:()=>a,yX:()=>s});var r=n(28748),i=n(50991);function o(){var e;return null===(e=(0,r.useSession)())||void 0===e?void 0:e.user}function s(){let e=o();return e&&(e.isGuest||e.isRegistered)?e.email:void 0}function l(){let e=o();return(null==e?void 0:e.isRegistered)?e.name:void 0}function a(){var e;return null===(e=o())||void 0===e?void 0:e.languageCode}function u(){var e,t;return null!==(t=null===(e=o())||void 0===e?void 0:e.isPremium)&&void 0!==t&&t}function d(){var e,t;return null!==(t=null===(e=o())||void 0===e?void 0:e.currencyCode)&&void 0!==t?t:"USD"}function c(){var e,t;return(null!==(t=null===(e=o())||void 0===e?void 0:e.role)&&void 0!==t?t:i.gG.Client)===i.gG.Admin}function h(){let e=o();return!e||!!e.isAnonymous}function f(){var e;return!!(null===(e=o())||void 0===e?void 0:e.isRegistered)}},48741:(e,t,n)=>{n.d(t,{On:()=>o,QE:()=>i});let r=["className","style","sx","theme"];function i(e){return function(e,t){for(let n of r)void 0!==t[n]&&(e[n]=t[n]);return e}({},e)}function o(e,t){if(!t)return e;let n="function"==typeof e?e:()=>e,r="function"==typeof t?t:()=>t;return e=>({...n(e),...r(e)})}},49846:(e,t,n)=>{n.d(t,{t:()=>u});var r=n(54568),i=n(36633),o=n(68229),s=n(39968),l=n(43702),a=n(28748);let u=e=>{let{open:t,...n}=e,i=(0,l.O6)(),s=(0,a.useSessionStatus)();return(0,r.jsx)(d,{open:null!=t?t:"connected"===s&&i||"loading"===s,...n,children:(0,r.jsx)(o.A,{})})},d=(0,s.Ay)(i.A)(e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(".concat(t.vars.palette.background.paperChannel," / 0.8)"),display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)",zIndex:"calc(".concat(t.vars.zIndex.modal," + 1)")}})},53478:(e,t,n)=>{n.d(t,{l:()=>function e(t){let n={};for(let i in t){let o=t[i];o instanceof r.p?n[i]=o.getFormatter():"object"==typeof o&&null!==o?n[i]=e(o):n[i]=o}return n}});var r=n(37678)},55732:(e,t,n)=>{n.r(t),n.d(t,{NotificationsProvider:()=>W,useNotifications:()=>P});var r=n(54568),i=n(52150),o=n(65818),s=n(94726),l=n(40609),a=n(7620),u=n(82995),d=n(57561),c=n(44048),h=n(52831),f=n(42483),p=n(38957),g=n(47203),m=n(50494),x=n(39968),v=n(76653);let w=e=>{let{item:t,style:n,anchorOrigin:i,anchorOffset:o,onSelect:s}=e,{id:l,message:u,hidden:d,timeout:f,variant:p,data:x}=t,w=P(),S=(0,v.c3)("notifications"),C=f||null,[A,k]=(0,a.useState)(!1),R=(e,t)=>{"clickaway"!==t&&(A&&k(!1),w.hide(l))},z=(0,a.useRef)(null);(0,a.useLayoutEffect)(()=>{let e=z.current;e&&w.setSize(l,e.offsetHeight)},[l,w]);let E={...n};return(0,r.jsx)(y,{ref:z,open:!d,onClose:R,autoHideDuration:C,TransitionProps:{onExited:()=>{w.clear(l)}},style:{top:o},sx:{pointerEvents:"none",minWidth:288},anchorOrigin:i,className:A?b.open:void 0,children:"default"!==p?(0,r.jsx)(c.A,{onClose:C?void 0:R,severity:p,variant:"filled",sx:{width:"100%",pointerEvents:"auto"},style:E,action:x&&s?(0,r.jsxs)(m.default,{direction:"row",gap:1,children:[(0,r.jsx)(h.A,{color:"inherit",size:"small",onClick:()=>s(t),children:S("details")}),(0,r.jsx)(j,{onClick:R})]}):void 0,children:u}):(0,r.jsx)(g.A,{message:u,sx:{width:"100%",pointerEvents:"auto"},style:E,action:C?void 0:(0,r.jsx)(j,{onClick:R})})})},b={open:"Mui-Snackbar-open"},y=(0,x.Ay)(p.A)(e=>{let{theme:t}=e;return{["&."+b.open]:{}}}),j=e=>(0,r.jsx)(f.default,{color:"inherit",size:"small",sx:{fontSize:"inherit"},...e,children:(0,r.jsx)(d.A,{sx:{width:"1em",height:"1em",fontSize:"1.25rem"}})});var S=n(19867),C=n(88040),A=n(67938),k=n(97535);let R={id:"",message:""},z=e=>{let{open:t,onClose:n,notification:i}=e,o=(0,a.useRef)(i||R),s=i||o.current,l=(0,v.c3)("notifications"),u=(0,a.useId)().replace(/[^a-z]+/gi,"_"),d=u+"_alert-dialog-title",c=u+"_alert-dialog-description",f=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];null==n||n(...t)};return(0,a.useLayoutEffect)(()=>{o.current=s},[s]),(0,r.jsxs)(S.A,{open:t,onClose:f,maxWidth:"sm",fullWidth:!0,sx:{maxHeight:500},"aria-labelledby":d,"aria-describedby":c,children:[(0,r.jsxs)(k.A,{id:d,children:[l("details")," - ",s.message]}),(0,r.jsx)(A.A,{children:(0,r.jsx)(E,{id:c,children:function(e){if(!e)return"";if(e instanceof Error){var t;return null!==(t=e.stack)&&void 0!==t?t:e.message}return"object"==typeof e?Object.entries(e).filter(e=>"function"!=typeof e[1]).map(e=>{let[t,n]=e;return t+": "+n}).join("\n"):String(e)}(s.data)})}),(0,r.jsx)(C.A,{children:(0,r.jsx)(h.A,{onClick:e=>f(e,"backdropClick"),autoFocus:!0,children:l("close")})})]})},E=(0,x.Ay)("code")(e=>{let{theme:t}=e;return{fontFamily:"monospace",padding:t.spacing(2),whiteSpace:"pre-wrap",display:"block",background:t.vars.palette.dark.main,maxHeight:500,fontSize:"0.85em"}}),I={horizontal:"center",vertical:"top"},L=e=>{let{spacing:t,anchorOrigin:n=I,anchorOffset:i,maxStack:o=3}=e,s=P(),l=null!=t?t:8,d=(0,u.useTrigger)(),c="bottom"===n.vertical?-1:1,h=s.getItems(),f=(0,a.useMemo)(()=>(function(e){let t=new Map;for(let n of e)t.has(n.id)?t.get(n.id).items.push(n):t.set(n.id,{key:n.id,items:[n]});return Array.from(t.values())})(h),[h]),[p,g]=(0,a.useState)(null),m=null!=p,x=(e,t)=>({transform:"translate(0px, calc("+e*t*c+"px + "+l+" * "+c+" * "+t+"))",opacity:+!m,pointerEvents:m?"none":void 0});return(0,a.useEffect)(()=>s.subscribe(d),[s,d]),(0,r.jsxs)(r.Fragment,{children:[f.slice(0,o).map((e,t)=>{var i;let{key:o,items:s}=e,l=s[s.length-1];return(0,r.jsx)(w,{item:l,style:x(null!==(i=l.size)&&void 0!==i?i:48,t),anchorOrigin:n,onSelect:g},o)}),(0,r.jsx)(z,{notification:p,open:m,onClose:()=>{g(null)}})]})},_=(0,a.createContext)(null),O=_.Provider;function P(){return(0,a.useContext)(_)}let W=e=>{let{children:t}=e,[n]=(0,a.useState)(()=>(0,l.Fz)([])),s=(0,a.useMemo)(()=>{let e=(e,t)=>{n.set(n=>{let r=n.findIndex(t=>t.id===e);if(r<0)return n;let i="function"==typeof t?t(n[r]):t;if(i===n[r])return n;let o=[...n];return o[r]=i,o})},t=(e,t)=>{let r=function(e,t){let n="string"==typeof e?{...T,...t,message:e}:{...T,...e};return n.id||(n.id=F()),(null==t?void 0:t.timeout)||"error"!==n.variant&&"warning"!==n.variant||(n.timeout=null),n}(e,t);n.set(e=>[...e,r])};return{update:e,getItems:n.get.bind(n),subscribe:n.subscribe.bind(n),push:t,pushError(e,n){let r={...n,variant:"error"};if((0,i.Ow)(e)){let{code:t,detail:n}=e.cause;r.message=t,n&&0===Object.keys(n).length&&(r.data=n)}else(0,o.CR)(e)?(r.message=e.message,r.data=e.cause):e instanceof Error?(r.message=e.message,r.data=e):r.message=e;t(r)},pushInfo(e,n){t(e,{...n,variant:"info"})},pushSuccess(e,n){t(e,{...n,variant:"success"})},pushWarning(e,n){t(e,{...n,variant:"warning"})},clear(e){n.set(t=>t.filter(t=>t.id!==e))},hide(t){e(t,e=>({...e,hidden:!0}))},setSize(t,n){e(t,e=>({...e,size:n}))}}},[n]);return(0,r.jsxs)(O,{value:s,children:[t,(0,r.jsx)(L,{})]})},F=(0,s.b)("notify"),T={timeout:3e3,variant:"default"}},56285:(e,t,n)=>{n.d(t,{Q:()=>l});var r=n(54568),i=n(46994),o=n(61938);let s=/\S+@\S+\.\S+/;function l(e){let{name:t,control:n,value:l,maxLength:a,required:u,validationPattern:d,validationText:c,validate:h,onChange:f,format:p,formatOnBlur:g,margin:m="dense",helperText:x,error:v,onBlur:w,type:b,component:y=i.A,...j}=e;return"email"===b&&void 0===d&&(d=s),(0,r.jsx)(o.xI,{name:t,control:n,defaultValue:l,rules:{maxLength:a,validate:h,required:u&&c?c:u,pattern:d},render:e=>{let{field:n,fieldState:{error:i}}=e,o=n.value||"";return(0,r.jsx)(y,{margin:m,id:t,helperText:null!=x?x:null==i?void 0:i.message,error:null!=v?v:!!i,onChange:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];p&&!g&&(t[0].currentTarget.value=p(t[0].currentTarget.value)),n.onChange(...t),null==f||f(...t)},onBlur:e=>{p&&g&&(e.currentTarget.value=p(e.currentTarget.value)),n.onChange(e),n.onBlur(),null==w||w(e)},inputRef:n.ref,value:o,required:u,slotProps:{htmlInput:{maxLength:a}},type:b,...j})}})}},56773:(e,t,n)=>{n.d(t,{D:()=>a,O:()=>l});var r=n(54568),i=n(39995),o=n(7620);let s=(0,o.createContext)({requestSubmit:i.lQ}),l=e=>{let{formRef:t,children:n}=e,i=(0,o.useMemo)(()=>({requestSubmit:()=>{t.current&&t.current.requestSubmit()}}),[t]);return(0,r.jsx)(s.Provider,{value:i,children:n})},a=()=>(0,o.useContext)(s)},59393:(e,t,n)=>{n.d(t,{Ri:()=>l,TV:()=>a});var r=n(70678),i=n(63339);let o=i.S.serialize,s=i.S.deserialize;async function l(e){let{deserialize:t=s,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=await (0,r.getCookie)(e,n);return i?t(i):void 0}async function a(e,t){let{serialize:n=o,...i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};await (0,r.setCookie)(e,null!=t?n(t):"",i)}},61481:(e,t,n)=>{n.d(t,{b:()=>r});function r(e,t){for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(e[n]!==t[n])return!1;return!0}},62379:(e,t,n)=>{n.d(t,{N_:()=>o,a8:()=>l,rd:()=>a});var r=n(29350),i=n(32076);let{Link:o,redirect:s,usePathname:l,useRouter:a,permanentRedirect:u}=(0,r.A)(i.D)},63339:(e,t,n)=>{n.d(t,{S:()=>i,x:()=>o});let r=e=>e,i={serialize:r,deserialize:r},o={serialize:e=>btoa(encodeURIComponent(JSON.stringify(e))),deserialize:e=>e&&JSON.parse(decodeURIComponent(atob(e)))||void 0}},69438:(e,t,n)=>{n.r(t),n.d(t,{AuthContextProvider:()=>g,AuthViewRouter:()=>m});var r=n(54568),i=n(39995),o=n(7620),s=n(43702),l=n(62379),a=n(34525),u=n(13261),d=n(36547),c=n(11047),h=n(89259),f=n(12684),p=n(93099);let g=e=>{var t,n;let{isDialog:d=!1,defaultView:c=u.Ob.SignIn,defaultEmail:h,enableGuest:p=!1,enableGuestEmail:g=!1,onSessionChange:m=i.lQ,children:w}=e,[b,y]=function(e,t){let n=(0,o.useState)(e),r=(0,l.rd)(),i=(0,l.a8)(),s=(0,o.useMemo)(()=>{var t;return null!==(t=(0,u.zD)(i))&&void 0!==t?t:e},[i]),a=(0,o.useCallback)(t=>{var n;r.push((0,u.FM)("function"==typeof t?t(null!==(n=(0,u.zD)(window.location.pathname))&&void 0!==n?n:e):t))},[r,e]);return t?n:[s,a]}(c,d),j=(0,s.yX)(),[S,C]=(0,o.useState)(null!=h?h:j);return(null!==(n=null!==(t=v(b))&&void 0!==t?t:v(c))&&void 0!==n?n:f.SignInView)?(0,r.jsx)(u.cy.Provider,{value:{view:b,setView:y,Link:d?x:a.N,redirect:!d,isDialog:d,defaultEmail:S,enableGuest:p,enableGuestEmail:g,setDefaultEmail:C,setSession:m},children:w}):null},m=()=>{var e;let{view:t}=(0,u.Z2)(),n=null!==(e=v(t))&&void 0!==e?e:f.SignInView;return n?(0,r.jsx)(n,{}):null},x=(0,o.forwardRef)((e,t)=>{let{href:n,onClick:i,children:o,...s}=e,{setView:l}=(0,u.Z2)();return(0,r.jsx)(a.N,{...s,href:"",onClick:e=>{if(e.preventDefault(),null==i||i(e),n){e.stopPropagation();let t=(0,u.zD)(n.toString());t&&l(t)}},ref:t,children:o})}),v=e=>{switch(e){case u.Ob.SignIn:return f.SignInView;case u.Ob.SignInWithEmail:return p.SignInWithEmailView;case u.Ob.SignInAsGuest:return h.SignInAsGuestView;case u.Ob.ForgotPassword:return d.ForgotPasswordView;case u.Ob.ResetPassword:return c.ResetPasswordView;default:return}}},70495:(e,t,n)=>{n.r(t),n.d(t,{useWindowRect:()=>o});var r=n(7620);let i=window.setTimeout;function o(){let{delay:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,r.useState)(s());return(0,r.useLayoutEffect)(()=>{let t=0,r=()=>{n(s())},o=e?()=>{t=i(r,e)}:r;return window.addEventListener("resize",o),()=>{clearTimeout(t),window.removeEventListener("resize",o)}},[e]),t}function s(){let e=window.innerWidth,t=window.innerHeight;return{x:0,y:0,width:e,height:t,bottom:t,right:e,left:0,top:0}}},73717:(e,t,n)=>{n.d(t,{B:()=>o});var r=n(39995);let i=new Promise(e=>{window.addEventListener("load",()=>{e()})});class o{static getDefault(){var e;return null!==(e=o._default)&&void 0!==e?e:o._default=new o}async loadScript(e){let t=await this._loadScript(e);return t&&e.onLoad&&e.onLoad(),t}_loadScript(e){let t=s(e.src),n=this._scripts.get(t);if(n){if(n.loaded){let e=!n.registered;return e&&(n.registered=!0),this.log(e?"[new]":"[use]",t),Promise.resolve(e)}return n.promise?(this.log("[wait]",t),n.promise):(this.log("[error]",t),Promise.reject(new a(e.src)))}let r={loaded:!1,registered:!1};return r.promise=new Promise((n,r)=>{if(function(e){for(let t of document.getElementsByTagName("script"))if(e(t))return t}(e=>l(e)===t))return this.log("[use]",t),n();let i=function(e){if("function"==typeof e)return e;{var t;let n="string"==typeof e?null!==(t=document.querySelector(e))&&void 0!==t?t:document.head:e instanceof Node?e:document.head;return e=>n.appendChild(e)}}(e.container),o=document.createElement("script"),s=this.log;o.src=e.src,e.id&&(o.id=e.id),e.nonce&&(o.nonce=e.nonce),e.async&&(o.async=!0),e.defer&&(o.defer=!0),e.crossOrigin&&(o.crossOrigin=e.crossOrigin),o.onload=function(){s("[script.onload]",t),n()},o.onerror=function(t){r(new a(e.src,t))},i(o),this.log("[add]",t)}).then(()=>(r.loaded=!0,r.registered=!0)),this._scripts.set(t,r),r.promise}static load(e){return i.then(e)}constructor(e=r.lQ){this.log=e,this._scripts=function(){let e=new Map;for(let t of document.getElementsByTagName("script")){let n=l(t);n&&e.set(n,{loaded:!0,registered:!1})}return e}()}}function s(e){if(!e)throw new a(e);return e.split("?")[0].toLowerCase()}function l(e){let t=e.getAttribute("src");return t?s(t):void 0}class a extends Error{constructor(e,t){var n,r;super("Failed to load script, "+e),this.name="ScriptLoaderError",this.reason=t,null===(n=(r=Error).captureStackTrace)||void 0===n||n.call(r,this,this.constructor)}}},78352:(e,t,n)=>{n.r(t),n.d(t,{AuthDialog:()=>h});var r=n(54568),i=n(57561),o=n(19867),s=n(42483),l=n(13883),a=n(80146),u=n(7620),d=n(65124),c=n(69438);let h=()=>{let e=(0,l.A)(),t=(0,a.A)(e.breakpoints.down("md")),n=function(){let[e,t]=(0,u.useState)(null);return(0,u.useEffect)(()=>{let n=(0,d.getAuthRequestController)(),r=n.getRequest();return r!==e&&t(r),n.subscribe(t)},[e]),e}(),h=()=>{null==n||n.resolve(null)};return(0,r.jsxs)(o.A,{open:null!=n,onClose:(e,t)=>{"escapeKeyDown"===t&&h()},fullScreen:t,PaperProps:{sx:{width:"100%",maxWidth:"1080px",height:{md:"100%"},maxHeight:{md:"600px"}}},children:[(0,r.jsx)(c.AuthContextProvider,{isDialog:!0,enableGuest:null==n?void 0:n.enableGuest,enableGuestEmail:null==n?void 0:n.enableGuestEmail,defaultEmail:null==n?void 0:n.defaultEmail,onSessionChange:e=>null==n?void 0:n.resolve(e),children:(0,r.jsx)(c.AuthViewRouter,{})}),(0,r.jsx)(s.default,{"aria-label":"close",onClick:h,"data-mui-color-scheme":"light",sx:{position:"absolute",right:8,top:8,color:e=>{let{vars:t}=e;return{xs:t.palette.text.primary,md:t.palette.neutral.contrastText}}},children:(0,r.jsx)(i.A,{})})]})}},82995:(e,t,n)=>{n.r(t),n.d(t,{useIncrement:()=>s,useTrigger:()=>o});var r=n(7620);let i=e=>e+1;function o(){return s()[1]}function s(){let[e,t]=(0,r.useState)(0);return[e,(0,r.useCallback)(()=>{t(i)},[])]}},87448:(e,t,n)=>{n.d(t,{G:()=>o});var r=n(59393),i=n(70678);function o(e,t){return new s(e,t)}class s{async get(e){return await (0,r.Ri)(this.name,l.call(this,e))}async set(e,t){await (0,r.TV)(this.name,e,l.call(this,t))}async has(e){return await (0,i.hasCookie)(this.name,l.call(this,e))}async delete(e){await (0,i.deleteCookie)(this.name,l.call(this,e))}constructor(e,{serializer:t,...n}={}){this.name=e,this.options={...n,...t}}}function l(e){return e?{...this.options,...e}:this.options}},89259:(e,t,n)=>{n.r(t),n.d(t,{SignInAsGuestView:()=>x});var r=n(54568),i=n(52831),o=n(50494),s=n(65818),l=n(76653),a=n(7620),u=n(65124),d=n(28748),c=n(37757),h=n(56285),f=n(55732),p=n(13261),g=n(1478),m=n(49846);let x=()=>{let e=(0,l.c3)("signIn.componentsEmail"),{defaultEmail:t,setDefaultEmail:n,Link:x}=(0,p.Z2)(),v="loading"===(0,d.useSessionStatus)(),w=(0,f.useNotifications)(),[b,y]=(0,a.useState)(0),j=b>0,S=async e=>{let t=await (0,u.signInAsGuest)({email:e.email});(0,s.CR)(t)?(y(t.status),401===t.status?n(e.email):w.pushError(t)):j&&y(0)};return(0,r.jsx)(g.D,{title:e("titleGuest"),description:e("description"),backToView:p.Ob.SignIn,overlay:(0,r.jsx)(m.t,{}),children:(0,r.jsx)(c.cK,{onSubmit:S,values:{email:null!=t?t:""},children:(0,r.jsx)(o.default,{gap:5,alignItems:"center",children:(0,r.jsxs)(o.default,{gap:3,width:"100%",children:[(0,r.jsx)(h.Q,{required:!0,fullWidth:!0,label:e("email"),name:"email",autoComplete:"email",autoFocus:!0,type:"email",maxLength:254,disabled:v,error:j||void 0,helperText:401===b?e.rich("errorUnauthorizedGuest",{link:e=>(0,r.jsx)(x,{href:p.Ob.SignIn,children:e})}):void 0}),(0,r.jsx)(i.A,{type:"submit",fullWidth:!0,variant:"contained",loading:v,children:e("continue")})]})})})})}},90732:(e,t,n)=>{n.d(t,{g:()=>i,u:()=>o});let r=/-/g;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function o(){return i().replace(r,"")}},93099:(e,t,n)=>{n.r(t),n.d(t,{SignInWithEmailView:()=>S});var r=n(54568),i=n(64070),o=n(52831),s=n(50494),l=n(39968),a=n(17191),u=n(65818),d=n(76653),c=n(7620),h=n(28748),f=n(37757),p=n(56285),g=n(61938),m=n(26751),x=n(55732),v=n(38199),w=n(13261),b=n(1478),y=n(49846),j=n(26301);let S=()=>{var e;let t=(0,d.c3)("signIn.componentsEmail"),{Link:n,defaultEmail:l}=(0,w.Z2)(),g=(0,h.useSessionStatus)(),m=(0,v.go)(),S=(0,x.useNotifications)(),[C,E]=(0,c.useState)(0),[I,L]=(0,c.useState)(0),_=(0,f.yr)(),O=C>0,P=401===C,W=!!l,{mutate:F,isPending:T}=(0,v.Rg)(),D="loading"===g||T,V=e=>{let{email:t}=e;t&&F({email:t},{onSuccess:e=>{let{status:t}=e;L(t===v.L1.Registered?1:2)}})},M=async e=>{let{email:t,password:n}=e;if(!t||!n)return;let r=await m("credentials",{email:e.email,password:e.password});(0,u.CR)(r)?(E(r.status),401!==r.status&&S.pushError(r)):O&&E(0)},N=async e=>{let{email:t,password:n,name:r}=e;if(!t||!n)return;let o=await m("credentials/register",{email:t,password:n,name:(null==r?void 0:r.trim())||z(t),languageCode:(0,i.A)()});(0,u.CR)(o)&&S.pushError(o)};(0,c.useEffect)(()=>{let e=_.current;O&&e&&e.resetField("password")},[O,_]),(0,w.Xz)();let G=t(1===I?"titleLogin":2===I?"titleRegister":"title"),B=1===I?t("descriptionLogin"):2===I?(0,r.jsxs)(r.Fragment,{children:[t("descriptionRegister")," ",(0,r.jsx)(a.default,{fontSize:"medium",fontWeight:"bold",my:1,component:"span",display:"block",children:null===(e=_.current)||void 0===e?void 0:e.getValues().email})]}):t("description"),q=t(1===I?"continueLogin":2===I?"continueRegister":"continue");return(0,r.jsx)(b.D,{title:G,description:B,backToView:0===I?w.Ob.SignIn:()=>L(0),overlay:(0,r.jsx)(y.t,{}),children:(0,r.jsx)(f.cK,{formContextRef:_,onSubmit:e=>{let{email:t}=e;t&&(0===I?V(e):1===I?M(e):2===I&&N(e))},values:{email:l},children:(0,r.jsxs)(s.default,{gap:5,alignItems:"center",children:[(0,r.jsx)(s.default,{gap:3,width:"100%",children:(0,r.jsxs)(A,{value:I,children:[(0,r.jsx)(k,{value:0,children:(0,r.jsx)(p.Q,{required:!0,fullWidth:!0,label:t("email"),name:"email",autoComplete:"email",type:"email",autoFocus:!W,maxLength:254,disabled:D,error:O||void 0})}),(0,r.jsx)(k,{value:1,children:(0,r.jsx)(R,{name:"password",label:t("password"),autoFocus:!0,disabled:D,error:O||void 0,helperText:P?t("invalid"):void 0})}),(0,r.jsxs)(k,{value:2,children:[(0,r.jsx)(R,{name:"password",autoComplete:"new-password",label:t("password"),autoFocus:!0,disabled:D,error:O||void 0,helperText:P?t("invalid"):void 0,validationPattern:/^(?=.*[A-Za-z])(?=.*\d).{8,64}$/g,hint:t("passwordHint")}),(0,r.jsx)(p.Q,{name:"name",label:t("username"),autoComplete:"off",fullWidth:!0,type:"text",maxLength:50})]})]})}),(0,r.jsx)(o.A,{type:"submit",fullWidth:!0,variant:"contained",loading:D,children:q}),1===I&&(0,r.jsx)(n,{href:"/forgot-password",onClick:()=>{var e;let t=null===(e=_.current)||void 0===e?void 0:e.getValues().email;t?j.V.set(t):j.V.delete()},underline:"hover",style:{textTransform:"uppercase",color:"inherit",fontWeight:"900",fontSize:"0.75rem"},children:t("forgotPassword")})]})})})},C=(0,c.createContext)(0),A=C.Provider,k=(0,l.Ay)(e=>{let{children:t,value:n,...i}=e;return(0,c.useContext)(C)===n?(0,r.jsx)(s.default,{...i,children:t}):null})(e=>{let{theme:t}=e;return{gap:t.spacing(3),width:"100%"}}),R=e=>{let{name:t,error:n}=e,{setValue:i}=(0,g.xW)();return(0,c.useEffect)(()=>{n&&i(t,"")},[n,t,i]),(0,r.jsx)(m.W,{autoComplete:"off",fullWidth:!0,required:!0,maxLength:64,...e})},z=e=>e.trim().split("@")[0]},94726:(e,t,n)=>{n.d(t,{b:()=>i});var r=n(90732);function i(e){return()=>e+(0,r.u)()}}}]);